(function(){const s=document.createElement("link").relList;if(s&&s.supports&&s.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))a(o);new MutationObserver(o=>{for(const c of o)if(c.type==="childList")for(const h of c.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&a(h)}).observe(document,{childList:!0,subtree:!0});function i(o){const c={};return o.integrity&&(c.integrity=o.integrity),o.referrerPolicy&&(c.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?c.credentials="include":o.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function a(o){if(o.ep)return;o.ep=!0;const c=i(o);fetch(o.href,c)}})();var commonjsGlobal=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function getDefaultExportFromCjs(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function getAugmentedNamespace(e){if(e.__esModule)return e;var s=e.default;if(typeof s=="function"){var i=function a(){return this instanceof a?Reflect.construct(s,arguments,this.constructor):s.apply(this,arguments)};i.prototype=s.prototype}else i={};return Object.defineProperty(i,"__esModule",{value:!0}),Object.keys(e).forEach(function(a){var o=Object.getOwnPropertyDescriptor(e,a);Object.defineProperty(i,a,o.get?o:{enumerable:!0,get:function(){return e[a]}})}),i}var jsxRuntime={exports:{}},reactJsxRuntime_production_min={},react={exports:{}},react_production_min={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var l$1=Symbol.for("react.element"),n$1=Symbol.for("react.portal"),p$2=Symbol.for("react.fragment"),q$1=Symbol.for("react.strict_mode"),r=Symbol.for("react.profiler"),t=Symbol.for("react.provider"),u=Symbol.for("react.context"),v$1=Symbol.for("react.forward_ref"),w=Symbol.for("react.suspense"),x=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),z$1=Symbol.iterator;function A$1(e){return e===null||typeof e!="object"?null:(e=z$1&&e[z$1]||e["@@iterator"],typeof e=="function"?e:null)}var B$1={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},C$1=Object.assign,D$1={};function E$1(e,s,i){this.props=e,this.context=s,this.refs=D$1,this.updater=i||B$1}E$1.prototype.isReactComponent={};E$1.prototype.setState=function(e,s){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,s,"setState")};E$1.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function F(){}F.prototype=E$1.prototype;function G$1(e,s,i){this.props=e,this.context=s,this.refs=D$1,this.updater=i||B$1}var H$1=G$1.prototype=new F;H$1.constructor=G$1;C$1(H$1,E$1.prototype);H$1.isPureReactComponent=!0;var I$1=Array.isArray,J=Object.prototype.hasOwnProperty,K$1={current:null},L$1={key:!0,ref:!0,__self:!0,__source:!0};function M$1(e,s,i){var a,o={},c=null,h=null;if(s!=null)for(a in s.ref!==void 0&&(h=s.ref),s.key!==void 0&&(c=""+s.key),s)J.call(s,a)&&!L$1.hasOwnProperty(a)&&(o[a]=s[a]);var d=arguments.length-2;if(d===1)o.children=i;else if(1<d){for(var g=Array(d),b=0;b<d;b++)g[b]=arguments[b+2];o.children=g}if(e&&e.defaultProps)for(a in d=e.defaultProps,d)o[a]===void 0&&(o[a]=d[a]);return{$$typeof:l$1,type:e,key:c,ref:h,props:o,_owner:K$1.current}}function N$1(e,s){return{$$typeof:l$1,type:e.type,key:s,ref:e.ref,props:e.props,_owner:e._owner}}function O$1(e){return typeof e=="object"&&e!==null&&e.$$typeof===l$1}function escape(e){var s={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(i){return s[i]})}var P$1=/\/+/g;function Q$1(e,s){return typeof e=="object"&&e!==null&&e.key!=null?escape(""+e.key):s.toString(36)}function R$1(e,s,i,a,o){var c=typeof e;(c==="undefined"||c==="boolean")&&(e=null);var h=!1;if(e===null)h=!0;else switch(c){case"string":case"number":h=!0;break;case"object":switch(e.$$typeof){case l$1:case n$1:h=!0}}if(h)return h=e,o=o(h),e=a===""?"."+Q$1(h,0):a,I$1(o)?(i="",e!=null&&(i=e.replace(P$1,"$&/")+"/"),R$1(o,s,i,"",function(b){return b})):o!=null&&(O$1(o)&&(o=N$1(o,i+(!o.key||h&&h.key===o.key?"":(""+o.key).replace(P$1,"$&/")+"/")+e)),s.push(o)),1;if(h=0,a=a===""?".":a+":",I$1(e))for(var d=0;d<e.length;d++){c=e[d];var g=a+Q$1(c,d);h+=R$1(c,s,i,g,o)}else if(g=A$1(e),typeof g=="function")for(e=g.call(e),d=0;!(c=e.next()).done;)c=c.value,g=a+Q$1(c,d++),h+=R$1(c,s,i,g,o);else if(c==="object")throw s=String(e),Error("Objects are not valid as a React child (found: "+(s==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":s)+"). If you meant to render a collection of children, use an array instead.");return h}function S$1(e,s,i){if(e==null)return e;var a=[],o=0;return R$1(e,a,"","",function(c){return s.call(i,c,o++)}),a}function T$1(e){if(e._status===-1){var s=e._result;s=s(),s.then(function(i){(e._status===0||e._status===-1)&&(e._status=1,e._result=i)},function(i){(e._status===0||e._status===-1)&&(e._status=2,e._result=i)}),e._status===-1&&(e._status=0,e._result=s)}if(e._status===1)return e._result.default;throw e._result}var U$1={current:null},V$1={transition:null},W$1={ReactCurrentDispatcher:U$1,ReactCurrentBatchConfig:V$1,ReactCurrentOwner:K$1};function X$2(){throw Error("act(...) is not supported in production builds of React.")}react_production_min.Children={map:S$1,forEach:function(e,s,i){S$1(e,function(){s.apply(this,arguments)},i)},count:function(e){var s=0;return S$1(e,function(){s++}),s},toArray:function(e){return S$1(e,function(s){return s})||[]},only:function(e){if(!O$1(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};react_production_min.Component=E$1;react_production_min.Fragment=p$2;react_production_min.Profiler=r;react_production_min.PureComponent=G$1;react_production_min.StrictMode=q$1;react_production_min.Suspense=w;react_production_min.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=W$1;react_production_min.act=X$2;react_production_min.cloneElement=function(e,s,i){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var a=C$1({},e.props),o=e.key,c=e.ref,h=e._owner;if(s!=null){if(s.ref!==void 0&&(c=s.ref,h=K$1.current),s.key!==void 0&&(o=""+s.key),e.type&&e.type.defaultProps)var d=e.type.defaultProps;for(g in s)J.call(s,g)&&!L$1.hasOwnProperty(g)&&(a[g]=s[g]===void 0&&d!==void 0?d[g]:s[g])}var g=arguments.length-2;if(g===1)a.children=i;else if(1<g){d=Array(g);for(var b=0;b<g;b++)d[b]=arguments[b+2];a.children=d}return{$$typeof:l$1,type:e.type,key:o,ref:c,props:a,_owner:h}};react_production_min.createContext=function(e){return e={$$typeof:u,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:t,_context:e},e.Consumer=e};react_production_min.createElement=M$1;react_production_min.createFactory=function(e){var s=M$1.bind(null,e);return s.type=e,s};react_production_min.createRef=function(){return{current:null}};react_production_min.forwardRef=function(e){return{$$typeof:v$1,render:e}};react_production_min.isValidElement=O$1;react_production_min.lazy=function(e){return{$$typeof:y,_payload:{_status:-1,_result:e},_init:T$1}};react_production_min.memo=function(e,s){return{$$typeof:x,type:e,compare:s===void 0?null:s}};react_production_min.startTransition=function(e){var s=V$1.transition;V$1.transition={};try{e()}finally{V$1.transition=s}};react_production_min.unstable_act=X$2;react_production_min.useCallback=function(e,s){return U$1.current.useCallback(e,s)};react_production_min.useContext=function(e){return U$1.current.useContext(e)};react_production_min.useDebugValue=function(){};react_production_min.useDeferredValue=function(e){return U$1.current.useDeferredValue(e)};react_production_min.useEffect=function(e,s){return U$1.current.useEffect(e,s)};react_production_min.useId=function(){return U$1.current.useId()};react_production_min.useImperativeHandle=function(e,s,i){return U$1.current.useImperativeHandle(e,s,i)};react_production_min.useInsertionEffect=function(e,s){return U$1.current.useInsertionEffect(e,s)};react_production_min.useLayoutEffect=function(e,s){return U$1.current.useLayoutEffect(e,s)};react_production_min.useMemo=function(e,s){return U$1.current.useMemo(e,s)};react_production_min.useReducer=function(e,s,i){return U$1.current.useReducer(e,s,i)};react_production_min.useRef=function(e){return U$1.current.useRef(e)};react_production_min.useState=function(e){return U$1.current.useState(e)};react_production_min.useSyncExternalStore=function(e,s,i){return U$1.current.useSyncExternalStore(e,s,i)};react_production_min.useTransition=function(){return U$1.current.useTransition()};react_production_min.version="18.3.1";react.exports=react_production_min;var reactExports=react.exports;const React=getDefaultExportFromCjs(reactExports);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var f=reactExports,k=Symbol.for("react.element"),l=Symbol.for("react.fragment"),m$1=Object.prototype.hasOwnProperty,n=f.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,p$1={key:!0,ref:!0,__self:!0,__source:!0};function q(e,s,i){var a,o={},c=null,h=null;i!==void 0&&(c=""+i),s.key!==void 0&&(c=""+s.key),s.ref!==void 0&&(h=s.ref);for(a in s)m$1.call(s,a)&&!p$1.hasOwnProperty(a)&&(o[a]=s[a]);if(e&&e.defaultProps)for(a in s=e.defaultProps,s)o[a]===void 0&&(o[a]=s[a]);return{$$typeof:k,type:e,key:c,ref:h,props:o,_owner:n.current}}reactJsxRuntime_production_min.Fragment=l;reactJsxRuntime_production_min.jsx=q;reactJsxRuntime_production_min.jsxs=q;jsxRuntime.exports=reactJsxRuntime_production_min;var jsxRuntimeExports=jsxRuntime.exports,reactDom={exports:{}},reactDom_production_min={},scheduler={exports:{}},scheduler_production_min={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function s(lt,ct){var yt=lt.length;lt.push(ct);e:for(;0<yt;){var gt=yt-1>>>1,Et=lt[gt];if(0<o(Et,ct))lt[gt]=ct,lt[yt]=Et,yt=gt;else break e}}function i(lt){return lt.length===0?null:lt[0]}function a(lt){if(lt.length===0)return null;var ct=lt[0],yt=lt.pop();if(yt!==ct){lt[0]=yt;e:for(var gt=0,Et=lt.length,Pt=Et>>>1;gt<Pt;){var Ct=2*(gt+1)-1,At=lt[Ct],jt=Ct+1,It=lt[jt];if(0>o(At,yt))jt<Et&&0>o(It,At)?(lt[gt]=It,lt[jt]=yt,gt=jt):(lt[gt]=At,lt[Ct]=yt,gt=Ct);else if(jt<Et&&0>o(It,yt))lt[gt]=It,lt[jt]=yt,gt=jt;else break e}}return ct}function o(lt,ct){var yt=lt.sortIndex-ct.sortIndex;return yt!==0?yt:lt.id-ct.id}if(typeof performance=="object"&&typeof performance.now=="function"){var c=performance;e.unstable_now=function(){return c.now()}}else{var h=Date,d=h.now();e.unstable_now=function(){return h.now()-d}}var g=[],b=[],_=1,$=null,j=3,st=!1,tt=!1,nt=!1,at=typeof setTimeout=="function"?setTimeout:null,_e=typeof clearTimeout=="function"?clearTimeout:null,rt=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function et(lt){for(var ct=i(b);ct!==null;){if(ct.callback===null)a(b);else if(ct.startTime<=lt)a(b),ct.sortIndex=ct.expirationTime,s(g,ct);else break;ct=i(b)}}function it(lt){if(nt=!1,et(lt),!tt)if(i(g)!==null)tt=!0,ft(ot);else{var ct=i(b);ct!==null&&pt(it,ct.startTime-lt)}}function ot(lt,ct){tt=!1,nt&&(nt=!1,_e(dt),dt=-1),st=!0;var yt=j;try{for(et(ct),$=i(g);$!==null&&(!($.expirationTime>ct)||lt&&!St());){var gt=$.callback;if(typeof gt=="function"){$.callback=null,j=$.priorityLevel;var Et=gt($.expirationTime<=ct);ct=e.unstable_now(),typeof Et=="function"?$.callback=Et:$===i(g)&&a(g),et(ct)}else a(g);$=i(g)}if($!==null)var Pt=!0;else{var Ct=i(b);Ct!==null&&pt(it,Ct.startTime-ct),Pt=!1}return Pt}finally{$=null,j=yt,st=!1}}var ut=!1,ht=null,dt=-1,mt=5,xt=-1;function St(){return!(e.unstable_now()-xt<mt)}function vt(){if(ht!==null){var lt=e.unstable_now();xt=lt;var ct=!0;try{ct=ht(!0,lt)}finally{ct?wt():(ut=!1,ht=null)}}else ut=!1}var wt;if(typeof rt=="function")wt=function(){rt(vt)};else if(typeof MessageChannel<"u"){var _t=new MessageChannel,bt=_t.port2;_t.port1.onmessage=vt,wt=function(){bt.postMessage(null)}}else wt=function(){at(vt,0)};function ft(lt){ht=lt,ut||(ut=!0,wt())}function pt(lt,ct){dt=at(function(){lt(e.unstable_now())},ct)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(lt){lt.callback=null},e.unstable_continueExecution=function(){tt||st||(tt=!0,ft(ot))},e.unstable_forceFrameRate=function(lt){0>lt||125<lt?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):mt=0<lt?Math.floor(1e3/lt):5},e.unstable_getCurrentPriorityLevel=function(){return j},e.unstable_getFirstCallbackNode=function(){return i(g)},e.unstable_next=function(lt){switch(j){case 1:case 2:case 3:var ct=3;break;default:ct=j}var yt=j;j=ct;try{return lt()}finally{j=yt}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(lt,ct){switch(lt){case 1:case 2:case 3:case 4:case 5:break;default:lt=3}var yt=j;j=lt;try{return ct()}finally{j=yt}},e.unstable_scheduleCallback=function(lt,ct,yt){var gt=e.unstable_now();switch(typeof yt=="object"&&yt!==null?(yt=yt.delay,yt=typeof yt=="number"&&0<yt?gt+yt:gt):yt=gt,lt){case 1:var Et=-1;break;case 2:Et=250;break;case 5:Et=1073741823;break;case 4:Et=1e4;break;default:Et=5e3}return Et=yt+Et,lt={id:_++,callback:ct,priorityLevel:lt,startTime:yt,expirationTime:Et,sortIndex:-1},yt>gt?(lt.sortIndex=yt,s(b,lt),i(g)===null&&lt===i(b)&&(nt?(_e(dt),dt=-1):nt=!0,pt(it,yt-gt))):(lt.sortIndex=Et,s(g,lt),tt||st||(tt=!0,ft(ot))),lt},e.unstable_shouldYield=St,e.unstable_wrapCallback=function(lt){var ct=j;return function(){var yt=j;j=ct;try{return lt.apply(this,arguments)}finally{j=yt}}}})(scheduler_production_min);scheduler.exports=scheduler_production_min;var schedulerExports=scheduler.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var aa=reactExports,ca=schedulerExports;function p(e){for(var s="https://reactjs.org/docs/error-decoder.html?invariant="+e,i=1;i<arguments.length;i++)s+="&args[]="+encodeURIComponent(arguments[i]);return"Minified React error #"+e+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var da=new Set,ea={};function fa(e,s){ha(e,s),ha(e+"Capture",s)}function ha(e,s){for(ea[e]=s,e=0;e<s.length;e++)da.add(s[e])}var ia=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ja=Object.prototype.hasOwnProperty,ka=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,la={},ma={};function oa(e){return ja.call(ma,e)?!0:ja.call(la,e)?!1:ka.test(e)?ma[e]=!0:(la[e]=!0,!1)}function pa(e,s,i,a){if(i!==null&&i.type===0)return!1;switch(typeof s){case"function":case"symbol":return!0;case"boolean":return a?!1:i!==null?!i.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function qa(e,s,i,a){if(s===null||typeof s>"u"||pa(e,s,i,a))return!0;if(a)return!1;if(i!==null)switch(i.type){case 3:return!s;case 4:return s===!1;case 5:return isNaN(s);case 6:return isNaN(s)||1>s}return!1}function v(e,s,i,a,o,c,h){this.acceptsBooleans=s===2||s===3||s===4,this.attributeName=a,this.attributeNamespace=o,this.mustUseProperty=i,this.propertyName=e,this.type=s,this.sanitizeURL=c,this.removeEmptyString=h}var z={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){z[e]=new v(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var s=e[0];z[s]=new v(s,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){z[e]=new v(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){z[e]=new v(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){z[e]=new v(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){z[e]=new v(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){z[e]=new v(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){z[e]=new v(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){z[e]=new v(e,5,!1,e.toLowerCase(),null,!1,!1)});var ra=/[\-:]([a-z])/g;function sa(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var s=e.replace(ra,sa);z[s]=new v(s,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var s=e.replace(ra,sa);z[s]=new v(s,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var s=e.replace(ra,sa);z[s]=new v(s,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){z[e]=new v(e,1,!1,e.toLowerCase(),null,!1,!1)});z.xlinkHref=new v("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){z[e]=new v(e,1,!1,e.toLowerCase(),null,!0,!0)});function ta(e,s,i,a){var o=z.hasOwnProperty(s)?z[s]:null;(o!==null?o.type!==0:a||!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(qa(s,i,o,a)&&(i=null),a||o===null?oa(s)&&(i===null?e.removeAttribute(s):e.setAttribute(s,""+i)):o.mustUseProperty?e[o.propertyName]=i===null?o.type===3?!1:"":i:(s=o.attributeName,a=o.attributeNamespace,i===null?e.removeAttribute(s):(o=o.type,i=o===3||o===4&&i===!0?"":""+i,a?e.setAttributeNS(a,s,i):e.setAttribute(s,i))))}var ua=aa.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,va=Symbol.for("react.element"),wa=Symbol.for("react.portal"),ya=Symbol.for("react.fragment"),za=Symbol.for("react.strict_mode"),Aa=Symbol.for("react.profiler"),Ba=Symbol.for("react.provider"),Ca=Symbol.for("react.context"),Da=Symbol.for("react.forward_ref"),Ea=Symbol.for("react.suspense"),Fa=Symbol.for("react.suspense_list"),Ga=Symbol.for("react.memo"),Ha=Symbol.for("react.lazy"),Ia=Symbol.for("react.offscreen"),Ja=Symbol.iterator;function Ka(e){return e===null||typeof e!="object"?null:(e=Ja&&e[Ja]||e["@@iterator"],typeof e=="function"?e:null)}var A=Object.assign,La;function Ma(e){if(La===void 0)try{throw Error()}catch(i){var s=i.stack.trim().match(/\n( *(at )?)/);La=s&&s[1]||""}return`
`+La+e}var Na=!1;function Oa(e,s){if(!e||Na)return"";Na=!0;var i=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(s)if(s=function(){throw Error()},Object.defineProperty(s.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(s,[])}catch(b){var a=b}Reflect.construct(e,[],s)}else{try{s.call()}catch(b){a=b}e.call(s.prototype)}else{try{throw Error()}catch(b){a=b}e()}}catch(b){if(b&&a&&typeof b.stack=="string"){for(var o=b.stack.split(`
`),c=a.stack.split(`
`),h=o.length-1,d=c.length-1;1<=h&&0<=d&&o[h]!==c[d];)d--;for(;1<=h&&0<=d;h--,d--)if(o[h]!==c[d]){if(h!==1||d!==1)do if(h--,d--,0>d||o[h]!==c[d]){var g=`
`+o[h].replace(" at new "," at ");return e.displayName&&g.includes("<anonymous>")&&(g=g.replace("<anonymous>",e.displayName)),g}while(1<=h&&0<=d);break}}}finally{Na=!1,Error.prepareStackTrace=i}return(e=e?e.displayName||e.name:"")?Ma(e):""}function Pa(e){switch(e.tag){case 5:return Ma(e.type);case 16:return Ma("Lazy");case 13:return Ma("Suspense");case 19:return Ma("SuspenseList");case 0:case 2:case 15:return e=Oa(e.type,!1),e;case 11:return e=Oa(e.type.render,!1),e;case 1:return e=Oa(e.type,!0),e;default:return""}}function Qa(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case ya:return"Fragment";case wa:return"Portal";case Aa:return"Profiler";case za:return"StrictMode";case Ea:return"Suspense";case Fa:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Ca:return(e.displayName||"Context")+".Consumer";case Ba:return(e._context.displayName||"Context")+".Provider";case Da:var s=e.render;return e=e.displayName,e||(e=s.displayName||s.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Ga:return s=e.displayName||null,s!==null?s:Qa(e.type)||"Memo";case Ha:s=e._payload,e=e._init;try{return Qa(e(s))}catch{}}return null}function Ra(e){var s=e.type;switch(e.tag){case 24:return"Cache";case 9:return(s.displayName||"Context")+".Consumer";case 10:return(s._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=s.render,e=e.displayName||e.name||"",s.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return s;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Qa(s);case 8:return s===za?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s}return null}function Sa(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Ta(e){var s=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function Ua(e){var s=Ta(e)?"checked":"value",i=Object.getOwnPropertyDescriptor(e.constructor.prototype,s),a=""+e[s];if(!e.hasOwnProperty(s)&&typeof i<"u"&&typeof i.get=="function"&&typeof i.set=="function"){var o=i.get,c=i.set;return Object.defineProperty(e,s,{configurable:!0,get:function(){return o.call(this)},set:function(h){a=""+h,c.call(this,h)}}),Object.defineProperty(e,s,{enumerable:i.enumerable}),{getValue:function(){return a},setValue:function(h){a=""+h},stopTracking:function(){e._valueTracker=null,delete e[s]}}}}function Va(e){e._valueTracker||(e._valueTracker=Ua(e))}function Wa(e){if(!e)return!1;var s=e._valueTracker;if(!s)return!0;var i=s.getValue(),a="";return e&&(a=Ta(e)?e.checked?"true":"false":e.value),e=a,e!==i?(s.setValue(e),!0):!1}function Xa(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Ya(e,s){var i=s.checked;return A({},s,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:i??e._wrapperState.initialChecked})}function Za(e,s){var i=s.defaultValue==null?"":s.defaultValue,a=s.checked!=null?s.checked:s.defaultChecked;i=Sa(s.value!=null?s.value:i),e._wrapperState={initialChecked:a,initialValue:i,controlled:s.type==="checkbox"||s.type==="radio"?s.checked!=null:s.value!=null}}function ab(e,s){s=s.checked,s!=null&&ta(e,"checked",s,!1)}function bb(e,s){ab(e,s);var i=Sa(s.value),a=s.type;if(i!=null)a==="number"?(i===0&&e.value===""||e.value!=i)&&(e.value=""+i):e.value!==""+i&&(e.value=""+i);else if(a==="submit"||a==="reset"){e.removeAttribute("value");return}s.hasOwnProperty("value")?cb(e,s.type,i):s.hasOwnProperty("defaultValue")&&cb(e,s.type,Sa(s.defaultValue)),s.checked==null&&s.defaultChecked!=null&&(e.defaultChecked=!!s.defaultChecked)}function db(e,s,i){if(s.hasOwnProperty("value")||s.hasOwnProperty("defaultValue")){var a=s.type;if(!(a!=="submit"&&a!=="reset"||s.value!==void 0&&s.value!==null))return;s=""+e._wrapperState.initialValue,i||s===e.value||(e.value=s),e.defaultValue=s}i=e.name,i!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,i!==""&&(e.name=i)}function cb(e,s,i){(s!=="number"||Xa(e.ownerDocument)!==e)&&(i==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+i&&(e.defaultValue=""+i))}var eb=Array.isArray;function fb(e,s,i,a){if(e=e.options,s){s={};for(var o=0;o<i.length;o++)s["$"+i[o]]=!0;for(i=0;i<e.length;i++)o=s.hasOwnProperty("$"+e[i].value),e[i].selected!==o&&(e[i].selected=o),o&&a&&(e[i].defaultSelected=!0)}else{for(i=""+Sa(i),s=null,o=0;o<e.length;o++){if(e[o].value===i){e[o].selected=!0,a&&(e[o].defaultSelected=!0);return}s!==null||e[o].disabled||(s=e[o])}s!==null&&(s.selected=!0)}}function gb(e,s){if(s.dangerouslySetInnerHTML!=null)throw Error(p(91));return A({},s,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function hb(e,s){var i=s.value;if(i==null){if(i=s.children,s=s.defaultValue,i!=null){if(s!=null)throw Error(p(92));if(eb(i)){if(1<i.length)throw Error(p(93));i=i[0]}s=i}s==null&&(s=""),i=s}e._wrapperState={initialValue:Sa(i)}}function ib(e,s){var i=Sa(s.value),a=Sa(s.defaultValue);i!=null&&(i=""+i,i!==e.value&&(e.value=i),s.defaultValue==null&&e.defaultValue!==i&&(e.defaultValue=i)),a!=null&&(e.defaultValue=""+a)}function jb(e){var s=e.textContent;s===e._wrapperState.initialValue&&s!==""&&s!==null&&(e.value=s)}function kb(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function lb(e,s){return e==null||e==="http://www.w3.org/1999/xhtml"?kb(s):e==="http://www.w3.org/2000/svg"&&s==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var mb,nb=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(s,i,a,o){MSApp.execUnsafeLocalFunction(function(){return e(s,i,a,o)})}:e}(function(e,s){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=s;else{for(mb=mb||document.createElement("div"),mb.innerHTML="<svg>"+s.valueOf().toString()+"</svg>",s=mb.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;s.firstChild;)e.appendChild(s.firstChild)}});function ob(e,s){if(s){var i=e.firstChild;if(i&&i===e.lastChild&&i.nodeType===3){i.nodeValue=s;return}}e.textContent=s}var pb={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},qb=["Webkit","ms","Moz","O"];Object.keys(pb).forEach(function(e){qb.forEach(function(s){s=s+e.charAt(0).toUpperCase()+e.substring(1),pb[s]=pb[e]})});function rb(e,s,i){return s==null||typeof s=="boolean"||s===""?"":i||typeof s!="number"||s===0||pb.hasOwnProperty(e)&&pb[e]?(""+s).trim():s+"px"}function sb(e,s){e=e.style;for(var i in s)if(s.hasOwnProperty(i)){var a=i.indexOf("--")===0,o=rb(i,s[i],a);i==="float"&&(i="cssFloat"),a?e.setProperty(i,o):e[i]=o}}var tb=A({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ub(e,s){if(s){if(tb[e]&&(s.children!=null||s.dangerouslySetInnerHTML!=null))throw Error(p(137,e));if(s.dangerouslySetInnerHTML!=null){if(s.children!=null)throw Error(p(60));if(typeof s.dangerouslySetInnerHTML!="object"||!("__html"in s.dangerouslySetInnerHTML))throw Error(p(61))}if(s.style!=null&&typeof s.style!="object")throw Error(p(62))}}function vb(e,s){if(e.indexOf("-")===-1)return typeof s.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var wb=null;function xb(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var yb=null,zb=null,Ab=null;function Bb(e){if(e=Cb(e)){if(typeof yb!="function")throw Error(p(280));var s=e.stateNode;s&&(s=Db(s),yb(e.stateNode,e.type,s))}}function Eb(e){zb?Ab?Ab.push(e):Ab=[e]:zb=e}function Fb(){if(zb){var e=zb,s=Ab;if(Ab=zb=null,Bb(e),s)for(e=0;e<s.length;e++)Bb(s[e])}}function Gb(e,s){return e(s)}function Hb(){}var Ib=!1;function Jb(e,s,i){if(Ib)return e(s,i);Ib=!0;try{return Gb(e,s,i)}finally{Ib=!1,(zb!==null||Ab!==null)&&(Hb(),Fb())}}function Kb(e,s){var i=e.stateNode;if(i===null)return null;var a=Db(i);if(a===null)return null;i=a[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(a=!a.disabled)||(e=e.type,a=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!a;break e;default:e=!1}if(e)return null;if(i&&typeof i!="function")throw Error(p(231,s,typeof i));return i}var Lb=!1;if(ia)try{var Mb={};Object.defineProperty(Mb,"passive",{get:function(){Lb=!0}}),window.addEventListener("test",Mb,Mb),window.removeEventListener("test",Mb,Mb)}catch{Lb=!1}function Nb(e,s,i,a,o,c,h,d,g){var b=Array.prototype.slice.call(arguments,3);try{s.apply(i,b)}catch(_){this.onError(_)}}var Ob=!1,Pb=null,Qb=!1,Rb=null,Sb={onError:function(e){Ob=!0,Pb=e}};function Tb(e,s,i,a,o,c,h,d,g){Ob=!1,Pb=null,Nb.apply(Sb,arguments)}function Ub(e,s,i,a,o,c,h,d,g){if(Tb.apply(this,arguments),Ob){if(Ob){var b=Pb;Ob=!1,Pb=null}else throw Error(p(198));Qb||(Qb=!0,Rb=b)}}function Vb(e){var s=e,i=e;if(e.alternate)for(;s.return;)s=s.return;else{e=s;do s=e,s.flags&4098&&(i=s.return),e=s.return;while(e)}return s.tag===3?i:null}function Wb(e){if(e.tag===13){var s=e.memoizedState;if(s===null&&(e=e.alternate,e!==null&&(s=e.memoizedState)),s!==null)return s.dehydrated}return null}function Xb(e){if(Vb(e)!==e)throw Error(p(188))}function Yb(e){var s=e.alternate;if(!s){if(s=Vb(e),s===null)throw Error(p(188));return s!==e?null:e}for(var i=e,a=s;;){var o=i.return;if(o===null)break;var c=o.alternate;if(c===null){if(a=o.return,a!==null){i=a;continue}break}if(o.child===c.child){for(c=o.child;c;){if(c===i)return Xb(o),e;if(c===a)return Xb(o),s;c=c.sibling}throw Error(p(188))}if(i.return!==a.return)i=o,a=c;else{for(var h=!1,d=o.child;d;){if(d===i){h=!0,i=o,a=c;break}if(d===a){h=!0,a=o,i=c;break}d=d.sibling}if(!h){for(d=c.child;d;){if(d===i){h=!0,i=c,a=o;break}if(d===a){h=!0,a=c,i=o;break}d=d.sibling}if(!h)throw Error(p(189))}}if(i.alternate!==a)throw Error(p(190))}if(i.tag!==3)throw Error(p(188));return i.stateNode.current===i?e:s}function Zb(e){return e=Yb(e),e!==null?$b(e):null}function $b(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var s=$b(e);if(s!==null)return s;e=e.sibling}return null}var ac=ca.unstable_scheduleCallback,bc=ca.unstable_cancelCallback,cc=ca.unstable_shouldYield,dc=ca.unstable_requestPaint,B=ca.unstable_now,ec=ca.unstable_getCurrentPriorityLevel,fc=ca.unstable_ImmediatePriority,gc=ca.unstable_UserBlockingPriority,hc=ca.unstable_NormalPriority,ic=ca.unstable_LowPriority,jc=ca.unstable_IdlePriority,kc=null,lc=null;function mc(e){if(lc&&typeof lc.onCommitFiberRoot=="function")try{lc.onCommitFiberRoot(kc,e,void 0,(e.current.flags&128)===128)}catch{}}var oc=Math.clz32?Math.clz32:nc,pc=Math.log,qc=Math.LN2;function nc(e){return e>>>=0,e===0?32:31-(pc(e)/qc|0)|0}var rc=64,sc=4194304;function tc(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function uc(e,s){var i=e.pendingLanes;if(i===0)return 0;var a=0,o=e.suspendedLanes,c=e.pingedLanes,h=i&268435455;if(h!==0){var d=h&~o;d!==0?a=tc(d):(c&=h,c!==0&&(a=tc(c)))}else h=i&~o,h!==0?a=tc(h):c!==0&&(a=tc(c));if(a===0)return 0;if(s!==0&&s!==a&&!(s&o)&&(o=a&-a,c=s&-s,o>=c||o===16&&(c&4194240)!==0))return s;if(a&4&&(a|=i&16),s=e.entangledLanes,s!==0)for(e=e.entanglements,s&=a;0<s;)i=31-oc(s),o=1<<i,a|=e[i],s&=~o;return a}function vc(e,s){switch(e){case 1:case 2:case 4:return s+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function wc(e,s){for(var i=e.suspendedLanes,a=e.pingedLanes,o=e.expirationTimes,c=e.pendingLanes;0<c;){var h=31-oc(c),d=1<<h,g=o[h];g===-1?(!(d&i)||d&a)&&(o[h]=vc(d,s)):g<=s&&(e.expiredLanes|=d),c&=~d}}function xc(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function yc(){var e=rc;return rc<<=1,!(rc&4194240)&&(rc=64),e}function zc(e){for(var s=[],i=0;31>i;i++)s.push(e);return s}function Ac(e,s,i){e.pendingLanes|=s,s!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,s=31-oc(s),e[s]=i}function Bc(e,s){var i=e.pendingLanes&~s;e.pendingLanes=s,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=s,e.mutableReadLanes&=s,e.entangledLanes&=s,s=e.entanglements;var a=e.eventTimes;for(e=e.expirationTimes;0<i;){var o=31-oc(i),c=1<<o;s[o]=0,a[o]=-1,e[o]=-1,i&=~c}}function Cc(e,s){var i=e.entangledLanes|=s;for(e=e.entanglements;i;){var a=31-oc(i),o=1<<a;o&s|e[a]&s&&(e[a]|=s),i&=~o}}var C=0;function Dc(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var Ec,Fc,Gc,Hc,Ic,Jc=!1,Kc=[],Lc=null,Mc=null,Nc=null,Oc=new Map,Pc=new Map,Qc=[],Rc="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Sc(e,s){switch(e){case"focusin":case"focusout":Lc=null;break;case"dragenter":case"dragleave":Mc=null;break;case"mouseover":case"mouseout":Nc=null;break;case"pointerover":case"pointerout":Oc.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":Pc.delete(s.pointerId)}}function Tc(e,s,i,a,o,c){return e===null||e.nativeEvent!==c?(e={blockedOn:s,domEventName:i,eventSystemFlags:a,nativeEvent:c,targetContainers:[o]},s!==null&&(s=Cb(s),s!==null&&Fc(s)),e):(e.eventSystemFlags|=a,s=e.targetContainers,o!==null&&s.indexOf(o)===-1&&s.push(o),e)}function Uc(e,s,i,a,o){switch(s){case"focusin":return Lc=Tc(Lc,e,s,i,a,o),!0;case"dragenter":return Mc=Tc(Mc,e,s,i,a,o),!0;case"mouseover":return Nc=Tc(Nc,e,s,i,a,o),!0;case"pointerover":var c=o.pointerId;return Oc.set(c,Tc(Oc.get(c)||null,e,s,i,a,o)),!0;case"gotpointercapture":return c=o.pointerId,Pc.set(c,Tc(Pc.get(c)||null,e,s,i,a,o)),!0}return!1}function Vc(e){var s=Wc(e.target);if(s!==null){var i=Vb(s);if(i!==null){if(s=i.tag,s===13){if(s=Wb(i),s!==null){e.blockedOn=s,Ic(e.priority,function(){Gc(i)});return}}else if(s===3&&i.stateNode.current.memoizedState.isDehydrated){e.blockedOn=i.tag===3?i.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Xc(e){if(e.blockedOn!==null)return!1;for(var s=e.targetContainers;0<s.length;){var i=Yc(e.domEventName,e.eventSystemFlags,s[0],e.nativeEvent);if(i===null){i=e.nativeEvent;var a=new i.constructor(i.type,i);wb=a,i.target.dispatchEvent(a),wb=null}else return s=Cb(i),s!==null&&Fc(s),e.blockedOn=i,!1;s.shift()}return!0}function Zc(e,s,i){Xc(e)&&i.delete(s)}function $c(){Jc=!1,Lc!==null&&Xc(Lc)&&(Lc=null),Mc!==null&&Xc(Mc)&&(Mc=null),Nc!==null&&Xc(Nc)&&(Nc=null),Oc.forEach(Zc),Pc.forEach(Zc)}function ad(e,s){e.blockedOn===s&&(e.blockedOn=null,Jc||(Jc=!0,ca.unstable_scheduleCallback(ca.unstable_NormalPriority,$c)))}function bd(e){function s(o){return ad(o,e)}if(0<Kc.length){ad(Kc[0],e);for(var i=1;i<Kc.length;i++){var a=Kc[i];a.blockedOn===e&&(a.blockedOn=null)}}for(Lc!==null&&ad(Lc,e),Mc!==null&&ad(Mc,e),Nc!==null&&ad(Nc,e),Oc.forEach(s),Pc.forEach(s),i=0;i<Qc.length;i++)a=Qc[i],a.blockedOn===e&&(a.blockedOn=null);for(;0<Qc.length&&(i=Qc[0],i.blockedOn===null);)Vc(i),i.blockedOn===null&&Qc.shift()}var cd=ua.ReactCurrentBatchConfig,dd=!0;function ed(e,s,i,a){var o=C,c=cd.transition;cd.transition=null;try{C=1,fd(e,s,i,a)}finally{C=o,cd.transition=c}}function gd(e,s,i,a){var o=C,c=cd.transition;cd.transition=null;try{C=4,fd(e,s,i,a)}finally{C=o,cd.transition=c}}function fd(e,s,i,a){if(dd){var o=Yc(e,s,i,a);if(o===null)hd(e,s,a,id$2,i),Sc(e,a);else if(Uc(o,e,s,i,a))a.stopPropagation();else if(Sc(e,a),s&4&&-1<Rc.indexOf(e)){for(;o!==null;){var c=Cb(o);if(c!==null&&Ec(c),c=Yc(e,s,i,a),c===null&&hd(e,s,a,id$2,i),c===o)break;o=c}o!==null&&a.stopPropagation()}else hd(e,s,a,null,i)}}var id$2=null;function Yc(e,s,i,a){if(id$2=null,e=xb(a),e=Wc(e),e!==null)if(s=Vb(e),s===null)e=null;else if(i=s.tag,i===13){if(e=Wb(s),e!==null)return e;e=null}else if(i===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;e=null}else s!==e&&(e=null);return id$2=e,null}function jd(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(ec()){case fc:return 1;case gc:return 4;case hc:case ic:return 16;case jc:return 536870912;default:return 16}default:return 16}}var kd=null,ld=null,md=null;function nd(){if(md)return md;var e,s=ld,i=s.length,a,o="value"in kd?kd.value:kd.textContent,c=o.length;for(e=0;e<i&&s[e]===o[e];e++);var h=i-e;for(a=1;a<=h&&s[i-a]===o[c-a];a++);return md=o.slice(e,1<a?1-a:void 0)}function od(e){var s=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&s===13&&(e=13)):e=s,e===10&&(e=13),32<=e||e===13?e:0}function pd(){return!0}function qd(){return!1}function rd(e){function s(i,a,o,c,h){this._reactName=i,this._targetInst=o,this.type=a,this.nativeEvent=c,this.target=h,this.currentTarget=null;for(var d in e)e.hasOwnProperty(d)&&(i=e[d],this[d]=i?i(c):c[d]);return this.isDefaultPrevented=(c.defaultPrevented!=null?c.defaultPrevented:c.returnValue===!1)?pd:qd,this.isPropagationStopped=qd,this}return A(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var i=this.nativeEvent;i&&(i.preventDefault?i.preventDefault():typeof i.returnValue!="unknown"&&(i.returnValue=!1),this.isDefaultPrevented=pd)},stopPropagation:function(){var i=this.nativeEvent;i&&(i.stopPropagation?i.stopPropagation():typeof i.cancelBubble!="unknown"&&(i.cancelBubble=!0),this.isPropagationStopped=pd)},persist:function(){},isPersistent:pd}),s}var sd={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},td=rd(sd),ud=A({},sd,{view:0,detail:0}),vd=rd(ud),wd,xd,yd,Ad=A({},ud,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:zd,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==yd&&(yd&&e.type==="mousemove"?(wd=e.screenX-yd.screenX,xd=e.screenY-yd.screenY):xd=wd=0,yd=e),wd)},movementY:function(e){return"movementY"in e?e.movementY:xd}}),Bd=rd(Ad),Cd=A({},Ad,{dataTransfer:0}),Dd=rd(Cd),Ed=A({},ud,{relatedTarget:0}),Fd=rd(Ed),Gd=A({},sd,{animationName:0,elapsedTime:0,pseudoElement:0}),Hd=rd(Gd),Id=A({},sd,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Jd=rd(Id),Kd=A({},sd,{data:0}),Ld=rd(Kd),Md={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Nd={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Od={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Pd(e){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(e):(e=Od[e])?!!s[e]:!1}function zd(){return Pd}var Qd=A({},ud,{key:function(e){if(e.key){var s=Md[e.key]||e.key;if(s!=="Unidentified")return s}return e.type==="keypress"?(e=od(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Nd[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:zd,charCode:function(e){return e.type==="keypress"?od(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?od(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Rd=rd(Qd),Sd=A({},Ad,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Td=rd(Sd),Ud=A({},ud,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:zd}),Vd=rd(Ud),Wd=A({},sd,{propertyName:0,elapsedTime:0,pseudoElement:0}),Xd=rd(Wd),Yd=A({},Ad,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Zd=rd(Yd),$d=[9,13,27,32],ae=ia&&"CompositionEvent"in window,be=null;ia&&"documentMode"in document&&(be=document.documentMode);var ce=ia&&"TextEvent"in window&&!be,de=ia&&(!ae||be&&8<be&&11>=be),ee=" ",fe=!1;function ge(e,s){switch(e){case"keyup":return $d.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function he(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var ie=!1;function je(e,s){switch(e){case"compositionend":return he(s);case"keypress":return s.which!==32?null:(fe=!0,ee);case"textInput":return e=s.data,e===ee&&fe?null:e;default:return null}}function ke(e,s){if(ie)return e==="compositionend"||!ae&&ge(e,s)?(e=nd(),md=ld=kd=null,ie=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return de&&s.locale!=="ko"?null:s.data;default:return null}}var le={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function me(e){var s=e&&e.nodeName&&e.nodeName.toLowerCase();return s==="input"?!!le[e.type]:s==="textarea"}function ne(e,s,i,a){Eb(a),s=oe(s,"onChange"),0<s.length&&(i=new td("onChange","change",null,i,a),e.push({event:i,listeners:s}))}var pe=null,qe=null;function re(e){se(e,0)}function te(e){var s=ue(e);if(Wa(s))return e}function ve(e,s){if(e==="change")return s}var we=!1;if(ia){var xe;if(ia){var ye="oninput"in document;if(!ye){var ze=document.createElement("div");ze.setAttribute("oninput","return;"),ye=typeof ze.oninput=="function"}xe=ye}else xe=!1;we=xe&&(!document.documentMode||9<document.documentMode)}function Ae(){pe&&(pe.detachEvent("onpropertychange",Be),qe=pe=null)}function Be(e){if(e.propertyName==="value"&&te(qe)){var s=[];ne(s,qe,e,xb(e)),Jb(re,s)}}function Ce(e,s,i){e==="focusin"?(Ae(),pe=s,qe=i,pe.attachEvent("onpropertychange",Be)):e==="focusout"&&Ae()}function De(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return te(qe)}function Ee(e,s){if(e==="click")return te(s)}function Fe(e,s){if(e==="input"||e==="change")return te(s)}function Ge(e,s){return e===s&&(e!==0||1/e===1/s)||e!==e&&s!==s}var He=typeof Object.is=="function"?Object.is:Ge;function Ie(e,s){if(He(e,s))return!0;if(typeof e!="object"||e===null||typeof s!="object"||s===null)return!1;var i=Object.keys(e),a=Object.keys(s);if(i.length!==a.length)return!1;for(a=0;a<i.length;a++){var o=i[a];if(!ja.call(s,o)||!He(e[o],s[o]))return!1}return!0}function Je(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Ke(e,s){var i=Je(e);e=0;for(var a;i;){if(i.nodeType===3){if(a=e+i.textContent.length,e<=s&&a>=s)return{node:i,offset:s-e};e=a}e:{for(;i;){if(i.nextSibling){i=i.nextSibling;break e}i=i.parentNode}i=void 0}i=Je(i)}}function Le(e,s){return e&&s?e===s?!0:e&&e.nodeType===3?!1:s&&s.nodeType===3?Le(e,s.parentNode):"contains"in e?e.contains(s):e.compareDocumentPosition?!!(e.compareDocumentPosition(s)&16):!1:!1}function Me(){for(var e=window,s=Xa();s instanceof e.HTMLIFrameElement;){try{var i=typeof s.contentWindow.location.href=="string"}catch{i=!1}if(i)e=s.contentWindow;else break;s=Xa(e.document)}return s}function Ne(e){var s=e&&e.nodeName&&e.nodeName.toLowerCase();return s&&(s==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||s==="textarea"||e.contentEditable==="true")}function Oe(e){var s=Me(),i=e.focusedElem,a=e.selectionRange;if(s!==i&&i&&i.ownerDocument&&Le(i.ownerDocument.documentElement,i)){if(a!==null&&Ne(i)){if(s=a.start,e=a.end,e===void 0&&(e=s),"selectionStart"in i)i.selectionStart=s,i.selectionEnd=Math.min(e,i.value.length);else if(e=(s=i.ownerDocument||document)&&s.defaultView||window,e.getSelection){e=e.getSelection();var o=i.textContent.length,c=Math.min(a.start,o);a=a.end===void 0?c:Math.min(a.end,o),!e.extend&&c>a&&(o=a,a=c,c=o),o=Ke(i,c);var h=Ke(i,a);o&&h&&(e.rangeCount!==1||e.anchorNode!==o.node||e.anchorOffset!==o.offset||e.focusNode!==h.node||e.focusOffset!==h.offset)&&(s=s.createRange(),s.setStart(o.node,o.offset),e.removeAllRanges(),c>a?(e.addRange(s),e.extend(h.node,h.offset)):(s.setEnd(h.node,h.offset),e.addRange(s)))}}for(s=[],e=i;e=e.parentNode;)e.nodeType===1&&s.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof i.focus=="function"&&i.focus(),i=0;i<s.length;i++)e=s[i],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Pe=ia&&"documentMode"in document&&11>=document.documentMode,Qe=null,Re=null,Se=null,Te=!1;function Ue(e,s,i){var a=i.window===i?i.document:i.nodeType===9?i:i.ownerDocument;Te||Qe==null||Qe!==Xa(a)||(a=Qe,"selectionStart"in a&&Ne(a)?a={start:a.selectionStart,end:a.selectionEnd}:(a=(a.ownerDocument&&a.ownerDocument.defaultView||window).getSelection(),a={anchorNode:a.anchorNode,anchorOffset:a.anchorOffset,focusNode:a.focusNode,focusOffset:a.focusOffset}),Se&&Ie(Se,a)||(Se=a,a=oe(Re,"onSelect"),0<a.length&&(s=new td("onSelect","select",null,s,i),e.push({event:s,listeners:a}),s.target=Qe)))}function Ve(e,s){var i={};return i[e.toLowerCase()]=s.toLowerCase(),i["Webkit"+e]="webkit"+s,i["Moz"+e]="moz"+s,i}var We={animationend:Ve("Animation","AnimationEnd"),animationiteration:Ve("Animation","AnimationIteration"),animationstart:Ve("Animation","AnimationStart"),transitionend:Ve("Transition","TransitionEnd")},Xe={},Ye={};ia&&(Ye=document.createElement("div").style,"AnimationEvent"in window||(delete We.animationend.animation,delete We.animationiteration.animation,delete We.animationstart.animation),"TransitionEvent"in window||delete We.transitionend.transition);function Ze(e){if(Xe[e])return Xe[e];if(!We[e])return e;var s=We[e],i;for(i in s)if(s.hasOwnProperty(i)&&i in Ye)return Xe[e]=s[i];return e}var $e=Ze("animationend"),af=Ze("animationiteration"),bf=Ze("animationstart"),cf=Ze("transitionend"),df=new Map,ef="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ff(e,s){df.set(e,s),fa(s,[e])}for(var gf=0;gf<ef.length;gf++){var hf=ef[gf],jf=hf.toLowerCase(),kf=hf[0].toUpperCase()+hf.slice(1);ff(jf,"on"+kf)}ff($e,"onAnimationEnd");ff(af,"onAnimationIteration");ff(bf,"onAnimationStart");ff("dblclick","onDoubleClick");ff("focusin","onFocus");ff("focusout","onBlur");ff(cf,"onTransitionEnd");ha("onMouseEnter",["mouseout","mouseover"]);ha("onMouseLeave",["mouseout","mouseover"]);ha("onPointerEnter",["pointerout","pointerover"]);ha("onPointerLeave",["pointerout","pointerover"]);fa("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));fa("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));fa("onBeforeInput",["compositionend","keypress","textInput","paste"]);fa("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));fa("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));fa("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var lf="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),mf=new Set("cancel close invalid load scroll toggle".split(" ").concat(lf));function nf(e,s,i){var a=e.type||"unknown-event";e.currentTarget=i,Ub(a,s,void 0,e),e.currentTarget=null}function se(e,s){s=(s&4)!==0;for(var i=0;i<e.length;i++){var a=e[i],o=a.event;a=a.listeners;e:{var c=void 0;if(s)for(var h=a.length-1;0<=h;h--){var d=a[h],g=d.instance,b=d.currentTarget;if(d=d.listener,g!==c&&o.isPropagationStopped())break e;nf(o,d,b),c=g}else for(h=0;h<a.length;h++){if(d=a[h],g=d.instance,b=d.currentTarget,d=d.listener,g!==c&&o.isPropagationStopped())break e;nf(o,d,b),c=g}}}if(Qb)throw e=Rb,Qb=!1,Rb=null,e}function D(e,s){var i=s[of];i===void 0&&(i=s[of]=new Set);var a=e+"__bubble";i.has(a)||(pf(s,e,2,!1),i.add(a))}function qf(e,s,i){var a=0;s&&(a|=4),pf(i,e,a,s)}var rf="_reactListening"+Math.random().toString(36).slice(2);function sf(e){if(!e[rf]){e[rf]=!0,da.forEach(function(i){i!=="selectionchange"&&(mf.has(i)||qf(i,!1,e),qf(i,!0,e))});var s=e.nodeType===9?e:e.ownerDocument;s===null||s[rf]||(s[rf]=!0,qf("selectionchange",!1,s))}}function pf(e,s,i,a){switch(jd(s)){case 1:var o=ed;break;case 4:o=gd;break;default:o=fd}i=o.bind(null,s,i,e),o=void 0,!Lb||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(o=!0),a?o!==void 0?e.addEventListener(s,i,{capture:!0,passive:o}):e.addEventListener(s,i,!0):o!==void 0?e.addEventListener(s,i,{passive:o}):e.addEventListener(s,i,!1)}function hd(e,s,i,a,o){var c=a;if(!(s&1)&&!(s&2)&&a!==null)e:for(;;){if(a===null)return;var h=a.tag;if(h===3||h===4){var d=a.stateNode.containerInfo;if(d===o||d.nodeType===8&&d.parentNode===o)break;if(h===4)for(h=a.return;h!==null;){var g=h.tag;if((g===3||g===4)&&(g=h.stateNode.containerInfo,g===o||g.nodeType===8&&g.parentNode===o))return;h=h.return}for(;d!==null;){if(h=Wc(d),h===null)return;if(g=h.tag,g===5||g===6){a=c=h;continue e}d=d.parentNode}}a=a.return}Jb(function(){var b=c,_=xb(i),$=[];e:{var j=df.get(e);if(j!==void 0){var st=td,tt=e;switch(e){case"keypress":if(od(i)===0)break e;case"keydown":case"keyup":st=Rd;break;case"focusin":tt="focus",st=Fd;break;case"focusout":tt="blur",st=Fd;break;case"beforeblur":case"afterblur":st=Fd;break;case"click":if(i.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":st=Bd;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":st=Dd;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":st=Vd;break;case $e:case af:case bf:st=Hd;break;case cf:st=Xd;break;case"scroll":st=vd;break;case"wheel":st=Zd;break;case"copy":case"cut":case"paste":st=Jd;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":st=Td}var nt=(s&4)!==0,at=!nt&&e==="scroll",_e=nt?j!==null?j+"Capture":null:j;nt=[];for(var rt=b,et;rt!==null;){et=rt;var it=et.stateNode;if(et.tag===5&&it!==null&&(et=it,_e!==null&&(it=Kb(rt,_e),it!=null&&nt.push(tf(rt,it,et)))),at)break;rt=rt.return}0<nt.length&&(j=new st(j,tt,null,i,_),$.push({event:j,listeners:nt}))}}if(!(s&7)){e:{if(j=e==="mouseover"||e==="pointerover",st=e==="mouseout"||e==="pointerout",j&&i!==wb&&(tt=i.relatedTarget||i.fromElement)&&(Wc(tt)||tt[uf]))break e;if((st||j)&&(j=_.window===_?_:(j=_.ownerDocument)?j.defaultView||j.parentWindow:window,st?(tt=i.relatedTarget||i.toElement,st=b,tt=tt?Wc(tt):null,tt!==null&&(at=Vb(tt),tt!==at||tt.tag!==5&&tt.tag!==6)&&(tt=null)):(st=null,tt=b),st!==tt)){if(nt=Bd,it="onMouseLeave",_e="onMouseEnter",rt="mouse",(e==="pointerout"||e==="pointerover")&&(nt=Td,it="onPointerLeave",_e="onPointerEnter",rt="pointer"),at=st==null?j:ue(st),et=tt==null?j:ue(tt),j=new nt(it,rt+"leave",st,i,_),j.target=at,j.relatedTarget=et,it=null,Wc(_)===b&&(nt=new nt(_e,rt+"enter",tt,i,_),nt.target=et,nt.relatedTarget=at,it=nt),at=it,st&&tt)t:{for(nt=st,_e=tt,rt=0,et=nt;et;et=vf(et))rt++;for(et=0,it=_e;it;it=vf(it))et++;for(;0<rt-et;)nt=vf(nt),rt--;for(;0<et-rt;)_e=vf(_e),et--;for(;rt--;){if(nt===_e||_e!==null&&nt===_e.alternate)break t;nt=vf(nt),_e=vf(_e)}nt=null}else nt=null;st!==null&&wf($,j,st,nt,!1),tt!==null&&at!==null&&wf($,at,tt,nt,!0)}}e:{if(j=b?ue(b):window,st=j.nodeName&&j.nodeName.toLowerCase(),st==="select"||st==="input"&&j.type==="file")var ot=ve;else if(me(j))if(we)ot=Fe;else{ot=De;var ut=Ce}else(st=j.nodeName)&&st.toLowerCase()==="input"&&(j.type==="checkbox"||j.type==="radio")&&(ot=Ee);if(ot&&(ot=ot(e,b))){ne($,ot,i,_);break e}ut&&ut(e,j,b),e==="focusout"&&(ut=j._wrapperState)&&ut.controlled&&j.type==="number"&&cb(j,"number",j.value)}switch(ut=b?ue(b):window,e){case"focusin":(me(ut)||ut.contentEditable==="true")&&(Qe=ut,Re=b,Se=null);break;case"focusout":Se=Re=Qe=null;break;case"mousedown":Te=!0;break;case"contextmenu":case"mouseup":case"dragend":Te=!1,Ue($,i,_);break;case"selectionchange":if(Pe)break;case"keydown":case"keyup":Ue($,i,_)}var ht;if(ae)e:{switch(e){case"compositionstart":var dt="onCompositionStart";break e;case"compositionend":dt="onCompositionEnd";break e;case"compositionupdate":dt="onCompositionUpdate";break e}dt=void 0}else ie?ge(e,i)&&(dt="onCompositionEnd"):e==="keydown"&&i.keyCode===229&&(dt="onCompositionStart");dt&&(de&&i.locale!=="ko"&&(ie||dt!=="onCompositionStart"?dt==="onCompositionEnd"&&ie&&(ht=nd()):(kd=_,ld="value"in kd?kd.value:kd.textContent,ie=!0)),ut=oe(b,dt),0<ut.length&&(dt=new Ld(dt,e,null,i,_),$.push({event:dt,listeners:ut}),ht?dt.data=ht:(ht=he(i),ht!==null&&(dt.data=ht)))),(ht=ce?je(e,i):ke(e,i))&&(b=oe(b,"onBeforeInput"),0<b.length&&(_=new Ld("onBeforeInput","beforeinput",null,i,_),$.push({event:_,listeners:b}),_.data=ht))}se($,s)})}function tf(e,s,i){return{instance:e,listener:s,currentTarget:i}}function oe(e,s){for(var i=s+"Capture",a=[];e!==null;){var o=e,c=o.stateNode;o.tag===5&&c!==null&&(o=c,c=Kb(e,i),c!=null&&a.unshift(tf(e,c,o)),c=Kb(e,s),c!=null&&a.push(tf(e,c,o))),e=e.return}return a}function vf(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function wf(e,s,i,a,o){for(var c=s._reactName,h=[];i!==null&&i!==a;){var d=i,g=d.alternate,b=d.stateNode;if(g!==null&&g===a)break;d.tag===5&&b!==null&&(d=b,o?(g=Kb(i,c),g!=null&&h.unshift(tf(i,g,d))):o||(g=Kb(i,c),g!=null&&h.push(tf(i,g,d)))),i=i.return}h.length!==0&&e.push({event:s,listeners:h})}var xf=/\r\n?/g,yf=/\u0000|\uFFFD/g;function zf(e){return(typeof e=="string"?e:""+e).replace(xf,`
`).replace(yf,"")}function Af(e,s,i){if(s=zf(s),zf(e)!==s&&i)throw Error(p(425))}function Bf(){}var Cf=null,Df=null;function Ef(e,s){return e==="textarea"||e==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var Ff=typeof setTimeout=="function"?setTimeout:void 0,Gf=typeof clearTimeout=="function"?clearTimeout:void 0,Hf=typeof Promise=="function"?Promise:void 0,Jf=typeof queueMicrotask=="function"?queueMicrotask:typeof Hf<"u"?function(e){return Hf.resolve(null).then(e).catch(If)}:Ff;function If(e){setTimeout(function(){throw e})}function Kf(e,s){var i=s,a=0;do{var o=i.nextSibling;if(e.removeChild(i),o&&o.nodeType===8)if(i=o.data,i==="/$"){if(a===0){e.removeChild(o),bd(s);return}a--}else i!=="$"&&i!=="$?"&&i!=="$!"||a++;i=o}while(i);bd(s)}function Lf(e){for(;e!=null;e=e.nextSibling){var s=e.nodeType;if(s===1||s===3)break;if(s===8){if(s=e.data,s==="$"||s==="$!"||s==="$?")break;if(s==="/$")return null}}return e}function Mf(e){e=e.previousSibling;for(var s=0;e;){if(e.nodeType===8){var i=e.data;if(i==="$"||i==="$!"||i==="$?"){if(s===0)return e;s--}else i==="/$"&&s++}e=e.previousSibling}return null}var Nf=Math.random().toString(36).slice(2),Of="__reactFiber$"+Nf,Pf="__reactProps$"+Nf,uf="__reactContainer$"+Nf,of="__reactEvents$"+Nf,Qf="__reactListeners$"+Nf,Rf="__reactHandles$"+Nf;function Wc(e){var s=e[Of];if(s)return s;for(var i=e.parentNode;i;){if(s=i[uf]||i[Of]){if(i=s.alternate,s.child!==null||i!==null&&i.child!==null)for(e=Mf(e);e!==null;){if(i=e[Of])return i;e=Mf(e)}return s}e=i,i=e.parentNode}return null}function Cb(e){return e=e[Of]||e[uf],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function ue(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(p(33))}function Db(e){return e[Pf]||null}var Sf=[],Tf=-1;function Uf(e){return{current:e}}function E(e){0>Tf||(e.current=Sf[Tf],Sf[Tf]=null,Tf--)}function G(e,s){Tf++,Sf[Tf]=e.current,e.current=s}var Vf={},H=Uf(Vf),Wf=Uf(!1),Xf=Vf;function Yf(e,s){var i=e.type.contextTypes;if(!i)return Vf;var a=e.stateNode;if(a&&a.__reactInternalMemoizedUnmaskedChildContext===s)return a.__reactInternalMemoizedMaskedChildContext;var o={},c;for(c in i)o[c]=s[c];return a&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=o),o}function Zf(e){return e=e.childContextTypes,e!=null}function $f(){E(Wf),E(H)}function ag(e,s,i){if(H.current!==Vf)throw Error(p(168));G(H,s),G(Wf,i)}function bg(e,s,i){var a=e.stateNode;if(s=s.childContextTypes,typeof a.getChildContext!="function")return i;a=a.getChildContext();for(var o in a)if(!(o in s))throw Error(p(108,Ra(e)||"Unknown",o));return A({},i,a)}function cg(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Vf,Xf=H.current,G(H,e),G(Wf,Wf.current),!0}function dg(e,s,i){var a=e.stateNode;if(!a)throw Error(p(169));i?(e=bg(e,s,Xf),a.__reactInternalMemoizedMergedChildContext=e,E(Wf),E(H),G(H,e)):E(Wf),G(Wf,i)}var eg=null,fg=!1,gg=!1;function hg(e){eg===null?eg=[e]:eg.push(e)}function ig(e){fg=!0,hg(e)}function jg(){if(!gg&&eg!==null){gg=!0;var e=0,s=C;try{var i=eg;for(C=1;e<i.length;e++){var a=i[e];do a=a(!0);while(a!==null)}eg=null,fg=!1}catch(o){throw eg!==null&&(eg=eg.slice(e+1)),ac(fc,jg),o}finally{C=s,gg=!1}}return null}var kg=[],lg=0,mg=null,ng=0,og=[],pg=0,qg=null,rg=1,sg="";function tg(e,s){kg[lg++]=ng,kg[lg++]=mg,mg=e,ng=s}function ug(e,s,i){og[pg++]=rg,og[pg++]=sg,og[pg++]=qg,qg=e;var a=rg;e=sg;var o=32-oc(a)-1;a&=~(1<<o),i+=1;var c=32-oc(s)+o;if(30<c){var h=o-o%5;c=(a&(1<<h)-1).toString(32),a>>=h,o-=h,rg=1<<32-oc(s)+o|i<<o|a,sg=c+e}else rg=1<<c|i<<o|a,sg=e}function vg(e){e.return!==null&&(tg(e,1),ug(e,1,0))}function wg(e){for(;e===mg;)mg=kg[--lg],kg[lg]=null,ng=kg[--lg],kg[lg]=null;for(;e===qg;)qg=og[--pg],og[pg]=null,sg=og[--pg],og[pg]=null,rg=og[--pg],og[pg]=null}var xg=null,yg=null,I=!1,zg=null;function Ag(e,s){var i=Bg(5,null,null,0);i.elementType="DELETED",i.stateNode=s,i.return=e,s=e.deletions,s===null?(e.deletions=[i],e.flags|=16):s.push(i)}function Cg(e,s){switch(e.tag){case 5:var i=e.type;return s=s.nodeType!==1||i.toLowerCase()!==s.nodeName.toLowerCase()?null:s,s!==null?(e.stateNode=s,xg=e,yg=Lf(s.firstChild),!0):!1;case 6:return s=e.pendingProps===""||s.nodeType!==3?null:s,s!==null?(e.stateNode=s,xg=e,yg=null,!0):!1;case 13:return s=s.nodeType!==8?null:s,s!==null?(i=qg!==null?{id:rg,overflow:sg}:null,e.memoizedState={dehydrated:s,treeContext:i,retryLane:1073741824},i=Bg(18,null,null,0),i.stateNode=s,i.return=e,e.child=i,xg=e,yg=null,!0):!1;default:return!1}}function Dg(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Eg(e){if(I){var s=yg;if(s){var i=s;if(!Cg(e,s)){if(Dg(e))throw Error(p(418));s=Lf(i.nextSibling);var a=xg;s&&Cg(e,s)?Ag(a,i):(e.flags=e.flags&-4097|2,I=!1,xg=e)}}else{if(Dg(e))throw Error(p(418));e.flags=e.flags&-4097|2,I=!1,xg=e}}}function Fg(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;xg=e}function Gg(e){if(e!==xg)return!1;if(!I)return Fg(e),I=!0,!1;var s;if((s=e.tag!==3)&&!(s=e.tag!==5)&&(s=e.type,s=s!=="head"&&s!=="body"&&!Ef(e.type,e.memoizedProps)),s&&(s=yg)){if(Dg(e))throw Hg(),Error(p(418));for(;s;)Ag(e,s),s=Lf(s.nextSibling)}if(Fg(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(p(317));e:{for(e=e.nextSibling,s=0;e;){if(e.nodeType===8){var i=e.data;if(i==="/$"){if(s===0){yg=Lf(e.nextSibling);break e}s--}else i!=="$"&&i!=="$!"&&i!=="$?"||s++}e=e.nextSibling}yg=null}}else yg=xg?Lf(e.stateNode.nextSibling):null;return!0}function Hg(){for(var e=yg;e;)e=Lf(e.nextSibling)}function Ig(){yg=xg=null,I=!1}function Jg(e){zg===null?zg=[e]:zg.push(e)}var Kg=ua.ReactCurrentBatchConfig;function Lg(e,s,i){if(e=i.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(i._owner){if(i=i._owner,i){if(i.tag!==1)throw Error(p(309));var a=i.stateNode}if(!a)throw Error(p(147,e));var o=a,c=""+e;return s!==null&&s.ref!==null&&typeof s.ref=="function"&&s.ref._stringRef===c?s.ref:(s=function(h){var d=o.refs;h===null?delete d[c]:d[c]=h},s._stringRef=c,s)}if(typeof e!="string")throw Error(p(284));if(!i._owner)throw Error(p(290,e))}return e}function Mg(e,s){throw e=Object.prototype.toString.call(s),Error(p(31,e==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":e))}function Ng(e){var s=e._init;return s(e._payload)}function Og(e){function s(_e,rt){if(e){var et=_e.deletions;et===null?(_e.deletions=[rt],_e.flags|=16):et.push(rt)}}function i(_e,rt){if(!e)return null;for(;rt!==null;)s(_e,rt),rt=rt.sibling;return null}function a(_e,rt){for(_e=new Map;rt!==null;)rt.key!==null?_e.set(rt.key,rt):_e.set(rt.index,rt),rt=rt.sibling;return _e}function o(_e,rt){return _e=Pg(_e,rt),_e.index=0,_e.sibling=null,_e}function c(_e,rt,et){return _e.index=et,e?(et=_e.alternate,et!==null?(et=et.index,et<rt?(_e.flags|=2,rt):et):(_e.flags|=2,rt)):(_e.flags|=1048576,rt)}function h(_e){return e&&_e.alternate===null&&(_e.flags|=2),_e}function d(_e,rt,et,it){return rt===null||rt.tag!==6?(rt=Qg(et,_e.mode,it),rt.return=_e,rt):(rt=o(rt,et),rt.return=_e,rt)}function g(_e,rt,et,it){var ot=et.type;return ot===ya?_(_e,rt,et.props.children,it,et.key):rt!==null&&(rt.elementType===ot||typeof ot=="object"&&ot!==null&&ot.$$typeof===Ha&&Ng(ot)===rt.type)?(it=o(rt,et.props),it.ref=Lg(_e,rt,et),it.return=_e,it):(it=Rg(et.type,et.key,et.props,null,_e.mode,it),it.ref=Lg(_e,rt,et),it.return=_e,it)}function b(_e,rt,et,it){return rt===null||rt.tag!==4||rt.stateNode.containerInfo!==et.containerInfo||rt.stateNode.implementation!==et.implementation?(rt=Sg(et,_e.mode,it),rt.return=_e,rt):(rt=o(rt,et.children||[]),rt.return=_e,rt)}function _(_e,rt,et,it,ot){return rt===null||rt.tag!==7?(rt=Tg(et,_e.mode,it,ot),rt.return=_e,rt):(rt=o(rt,et),rt.return=_e,rt)}function $(_e,rt,et){if(typeof rt=="string"&&rt!==""||typeof rt=="number")return rt=Qg(""+rt,_e.mode,et),rt.return=_e,rt;if(typeof rt=="object"&&rt!==null){switch(rt.$$typeof){case va:return et=Rg(rt.type,rt.key,rt.props,null,_e.mode,et),et.ref=Lg(_e,null,rt),et.return=_e,et;case wa:return rt=Sg(rt,_e.mode,et),rt.return=_e,rt;case Ha:var it=rt._init;return $(_e,it(rt._payload),et)}if(eb(rt)||Ka(rt))return rt=Tg(rt,_e.mode,et,null),rt.return=_e,rt;Mg(_e,rt)}return null}function j(_e,rt,et,it){var ot=rt!==null?rt.key:null;if(typeof et=="string"&&et!==""||typeof et=="number")return ot!==null?null:d(_e,rt,""+et,it);if(typeof et=="object"&&et!==null){switch(et.$$typeof){case va:return et.key===ot?g(_e,rt,et,it):null;case wa:return et.key===ot?b(_e,rt,et,it):null;case Ha:return ot=et._init,j(_e,rt,ot(et._payload),it)}if(eb(et)||Ka(et))return ot!==null?null:_(_e,rt,et,it,null);Mg(_e,et)}return null}function st(_e,rt,et,it,ot){if(typeof it=="string"&&it!==""||typeof it=="number")return _e=_e.get(et)||null,d(rt,_e,""+it,ot);if(typeof it=="object"&&it!==null){switch(it.$$typeof){case va:return _e=_e.get(it.key===null?et:it.key)||null,g(rt,_e,it,ot);case wa:return _e=_e.get(it.key===null?et:it.key)||null,b(rt,_e,it,ot);case Ha:var ut=it._init;return st(_e,rt,et,ut(it._payload),ot)}if(eb(it)||Ka(it))return _e=_e.get(et)||null,_(rt,_e,it,ot,null);Mg(rt,it)}return null}function tt(_e,rt,et,it){for(var ot=null,ut=null,ht=rt,dt=rt=0,mt=null;ht!==null&&dt<et.length;dt++){ht.index>dt?(mt=ht,ht=null):mt=ht.sibling;var xt=j(_e,ht,et[dt],it);if(xt===null){ht===null&&(ht=mt);break}e&&ht&&xt.alternate===null&&s(_e,ht),rt=c(xt,rt,dt),ut===null?ot=xt:ut.sibling=xt,ut=xt,ht=mt}if(dt===et.length)return i(_e,ht),I&&tg(_e,dt),ot;if(ht===null){for(;dt<et.length;dt++)ht=$(_e,et[dt],it),ht!==null&&(rt=c(ht,rt,dt),ut===null?ot=ht:ut.sibling=ht,ut=ht);return I&&tg(_e,dt),ot}for(ht=a(_e,ht);dt<et.length;dt++)mt=st(ht,_e,dt,et[dt],it),mt!==null&&(e&&mt.alternate!==null&&ht.delete(mt.key===null?dt:mt.key),rt=c(mt,rt,dt),ut===null?ot=mt:ut.sibling=mt,ut=mt);return e&&ht.forEach(function(St){return s(_e,St)}),I&&tg(_e,dt),ot}function nt(_e,rt,et,it){var ot=Ka(et);if(typeof ot!="function")throw Error(p(150));if(et=ot.call(et),et==null)throw Error(p(151));for(var ut=ot=null,ht=rt,dt=rt=0,mt=null,xt=et.next();ht!==null&&!xt.done;dt++,xt=et.next()){ht.index>dt?(mt=ht,ht=null):mt=ht.sibling;var St=j(_e,ht,xt.value,it);if(St===null){ht===null&&(ht=mt);break}e&&ht&&St.alternate===null&&s(_e,ht),rt=c(St,rt,dt),ut===null?ot=St:ut.sibling=St,ut=St,ht=mt}if(xt.done)return i(_e,ht),I&&tg(_e,dt),ot;if(ht===null){for(;!xt.done;dt++,xt=et.next())xt=$(_e,xt.value,it),xt!==null&&(rt=c(xt,rt,dt),ut===null?ot=xt:ut.sibling=xt,ut=xt);return I&&tg(_e,dt),ot}for(ht=a(_e,ht);!xt.done;dt++,xt=et.next())xt=st(ht,_e,dt,xt.value,it),xt!==null&&(e&&xt.alternate!==null&&ht.delete(xt.key===null?dt:xt.key),rt=c(xt,rt,dt),ut===null?ot=xt:ut.sibling=xt,ut=xt);return e&&ht.forEach(function(vt){return s(_e,vt)}),I&&tg(_e,dt),ot}function at(_e,rt,et,it){if(typeof et=="object"&&et!==null&&et.type===ya&&et.key===null&&(et=et.props.children),typeof et=="object"&&et!==null){switch(et.$$typeof){case va:e:{for(var ot=et.key,ut=rt;ut!==null;){if(ut.key===ot){if(ot=et.type,ot===ya){if(ut.tag===7){i(_e,ut.sibling),rt=o(ut,et.props.children),rt.return=_e,_e=rt;break e}}else if(ut.elementType===ot||typeof ot=="object"&&ot!==null&&ot.$$typeof===Ha&&Ng(ot)===ut.type){i(_e,ut.sibling),rt=o(ut,et.props),rt.ref=Lg(_e,ut,et),rt.return=_e,_e=rt;break e}i(_e,ut);break}else s(_e,ut);ut=ut.sibling}et.type===ya?(rt=Tg(et.props.children,_e.mode,it,et.key),rt.return=_e,_e=rt):(it=Rg(et.type,et.key,et.props,null,_e.mode,it),it.ref=Lg(_e,rt,et),it.return=_e,_e=it)}return h(_e);case wa:e:{for(ut=et.key;rt!==null;){if(rt.key===ut)if(rt.tag===4&&rt.stateNode.containerInfo===et.containerInfo&&rt.stateNode.implementation===et.implementation){i(_e,rt.sibling),rt=o(rt,et.children||[]),rt.return=_e,_e=rt;break e}else{i(_e,rt);break}else s(_e,rt);rt=rt.sibling}rt=Sg(et,_e.mode,it),rt.return=_e,_e=rt}return h(_e);case Ha:return ut=et._init,at(_e,rt,ut(et._payload),it)}if(eb(et))return tt(_e,rt,et,it);if(Ka(et))return nt(_e,rt,et,it);Mg(_e,et)}return typeof et=="string"&&et!==""||typeof et=="number"?(et=""+et,rt!==null&&rt.tag===6?(i(_e,rt.sibling),rt=o(rt,et),rt.return=_e,_e=rt):(i(_e,rt),rt=Qg(et,_e.mode,it),rt.return=_e,_e=rt),h(_e)):i(_e,rt)}return at}var Ug=Og(!0),Vg=Og(!1),Wg=Uf(null),Xg=null,Yg=null,Zg=null;function $g(){Zg=Yg=Xg=null}function ah(e){var s=Wg.current;E(Wg),e._currentValue=s}function bh(e,s,i){for(;e!==null;){var a=e.alternate;if((e.childLanes&s)!==s?(e.childLanes|=s,a!==null&&(a.childLanes|=s)):a!==null&&(a.childLanes&s)!==s&&(a.childLanes|=s),e===i)break;e=e.return}}function ch(e,s){Xg=e,Zg=Yg=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&s&&(dh=!0),e.firstContext=null)}function eh(e){var s=e._currentValue;if(Zg!==e)if(e={context:e,memoizedValue:s,next:null},Yg===null){if(Xg===null)throw Error(p(308));Yg=e,Xg.dependencies={lanes:0,firstContext:e}}else Yg=Yg.next=e;return s}var fh=null;function gh(e){fh===null?fh=[e]:fh.push(e)}function hh(e,s,i,a){var o=s.interleaved;return o===null?(i.next=i,gh(s)):(i.next=o.next,o.next=i),s.interleaved=i,ih(e,a)}function ih(e,s){e.lanes|=s;var i=e.alternate;for(i!==null&&(i.lanes|=s),i=e,e=e.return;e!==null;)e.childLanes|=s,i=e.alternate,i!==null&&(i.childLanes|=s),i=e,e=e.return;return i.tag===3?i.stateNode:null}var jh=!1;function kh(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function lh(e,s){e=e.updateQueue,s.updateQueue===e&&(s.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function mh(e,s){return{eventTime:e,lane:s,tag:0,payload:null,callback:null,next:null}}function nh(e,s,i){var a=e.updateQueue;if(a===null)return null;if(a=a.shared,K&2){var o=a.pending;return o===null?s.next=s:(s.next=o.next,o.next=s),a.pending=s,ih(e,i)}return o=a.interleaved,o===null?(s.next=s,gh(a)):(s.next=o.next,o.next=s),a.interleaved=s,ih(e,i)}function oh(e,s,i){if(s=s.updateQueue,s!==null&&(s=s.shared,(i&4194240)!==0)){var a=s.lanes;a&=e.pendingLanes,i|=a,s.lanes=i,Cc(e,i)}}function ph(e,s){var i=e.updateQueue,a=e.alternate;if(a!==null&&(a=a.updateQueue,i===a)){var o=null,c=null;if(i=i.firstBaseUpdate,i!==null){do{var h={eventTime:i.eventTime,lane:i.lane,tag:i.tag,payload:i.payload,callback:i.callback,next:null};c===null?o=c=h:c=c.next=h,i=i.next}while(i!==null);c===null?o=c=s:c=c.next=s}else o=c=s;i={baseState:a.baseState,firstBaseUpdate:o,lastBaseUpdate:c,shared:a.shared,effects:a.effects},e.updateQueue=i;return}e=i.lastBaseUpdate,e===null?i.firstBaseUpdate=s:e.next=s,i.lastBaseUpdate=s}function qh(e,s,i,a){var o=e.updateQueue;jh=!1;var c=o.firstBaseUpdate,h=o.lastBaseUpdate,d=o.shared.pending;if(d!==null){o.shared.pending=null;var g=d,b=g.next;g.next=null,h===null?c=b:h.next=b,h=g;var _=e.alternate;_!==null&&(_=_.updateQueue,d=_.lastBaseUpdate,d!==h&&(d===null?_.firstBaseUpdate=b:d.next=b,_.lastBaseUpdate=g))}if(c!==null){var $=o.baseState;h=0,_=b=g=null,d=c;do{var j=d.lane,st=d.eventTime;if((a&j)===j){_!==null&&(_=_.next={eventTime:st,lane:0,tag:d.tag,payload:d.payload,callback:d.callback,next:null});e:{var tt=e,nt=d;switch(j=s,st=i,nt.tag){case 1:if(tt=nt.payload,typeof tt=="function"){$=tt.call(st,$,j);break e}$=tt;break e;case 3:tt.flags=tt.flags&-65537|128;case 0:if(tt=nt.payload,j=typeof tt=="function"?tt.call(st,$,j):tt,j==null)break e;$=A({},$,j);break e;case 2:jh=!0}}d.callback!==null&&d.lane!==0&&(e.flags|=64,j=o.effects,j===null?o.effects=[d]:j.push(d))}else st={eventTime:st,lane:j,tag:d.tag,payload:d.payload,callback:d.callback,next:null},_===null?(b=_=st,g=$):_=_.next=st,h|=j;if(d=d.next,d===null){if(d=o.shared.pending,d===null)break;j=d,d=j.next,j.next=null,o.lastBaseUpdate=j,o.shared.pending=null}}while(!0);if(_===null&&(g=$),o.baseState=g,o.firstBaseUpdate=b,o.lastBaseUpdate=_,s=o.shared.interleaved,s!==null){o=s;do h|=o.lane,o=o.next;while(o!==s)}else c===null&&(o.shared.lanes=0);rh|=h,e.lanes=h,e.memoizedState=$}}function sh(e,s,i){if(e=s.effects,s.effects=null,e!==null)for(s=0;s<e.length;s++){var a=e[s],o=a.callback;if(o!==null){if(a.callback=null,a=i,typeof o!="function")throw Error(p(191,o));o.call(a)}}}var th={},uh=Uf(th),vh$1=Uf(th),wh=Uf(th);function xh(e){if(e===th)throw Error(p(174));return e}function yh(e,s){switch(G(wh,s),G(vh$1,e),G(uh,th),e=s.nodeType,e){case 9:case 11:s=(s=s.documentElement)?s.namespaceURI:lb(null,"");break;default:e=e===8?s.parentNode:s,s=e.namespaceURI||null,e=e.tagName,s=lb(s,e)}E(uh),G(uh,s)}function zh(){E(uh),E(vh$1),E(wh)}function Ah(e){xh(wh.current);var s=xh(uh.current),i=lb(s,e.type);s!==i&&(G(vh$1,e),G(uh,i))}function Bh(e){vh$1.current===e&&(E(uh),E(vh$1))}var L=Uf(0);function Ch(e){for(var s=e;s!==null;){if(s.tag===13){var i=s.memoizedState;if(i!==null&&(i=i.dehydrated,i===null||i.data==="$?"||i.data==="$!"))return s}else if(s.tag===19&&s.memoizedProps.revealOrder!==void 0){if(s.flags&128)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===e)break;for(;s.sibling===null;){if(s.return===null||s.return===e)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var Dh=[];function Eh(){for(var e=0;e<Dh.length;e++)Dh[e]._workInProgressVersionPrimary=null;Dh.length=0}var Fh=ua.ReactCurrentDispatcher,Gh=ua.ReactCurrentBatchConfig,Hh=0,M=null,N=null,O=null,Ih=!1,Jh=!1,Kh=0,Lh=0;function P(){throw Error(p(321))}function Mh(e,s){if(s===null)return!1;for(var i=0;i<s.length&&i<e.length;i++)if(!He(e[i],s[i]))return!1;return!0}function Nh(e,s,i,a,o,c){if(Hh=c,M=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,Fh.current=e===null||e.memoizedState===null?Oh:Ph,e=i(a,o),Jh){c=0;do{if(Jh=!1,Kh=0,25<=c)throw Error(p(301));c+=1,O=N=null,s.updateQueue=null,Fh.current=Qh,e=i(a,o)}while(Jh)}if(Fh.current=Rh,s=N!==null&&N.next!==null,Hh=0,O=N=M=null,Ih=!1,s)throw Error(p(300));return e}function Sh(){var e=Kh!==0;return Kh=0,e}function Th(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return O===null?M.memoizedState=O=e:O=O.next=e,O}function Uh(){if(N===null){var e=M.alternate;e=e!==null?e.memoizedState:null}else e=N.next;var s=O===null?M.memoizedState:O.next;if(s!==null)O=s,N=e;else{if(e===null)throw Error(p(310));N=e,e={memoizedState:N.memoizedState,baseState:N.baseState,baseQueue:N.baseQueue,queue:N.queue,next:null},O===null?M.memoizedState=O=e:O=O.next=e}return O}function Vh(e,s){return typeof s=="function"?s(e):s}function Wh(e){var s=Uh(),i=s.queue;if(i===null)throw Error(p(311));i.lastRenderedReducer=e;var a=N,o=a.baseQueue,c=i.pending;if(c!==null){if(o!==null){var h=o.next;o.next=c.next,c.next=h}a.baseQueue=o=c,i.pending=null}if(o!==null){c=o.next,a=a.baseState;var d=h=null,g=null,b=c;do{var _=b.lane;if((Hh&_)===_)g!==null&&(g=g.next={lane:0,action:b.action,hasEagerState:b.hasEagerState,eagerState:b.eagerState,next:null}),a=b.hasEagerState?b.eagerState:e(a,b.action);else{var $={lane:_,action:b.action,hasEagerState:b.hasEagerState,eagerState:b.eagerState,next:null};g===null?(d=g=$,h=a):g=g.next=$,M.lanes|=_,rh|=_}b=b.next}while(b!==null&&b!==c);g===null?h=a:g.next=d,He(a,s.memoizedState)||(dh=!0),s.memoizedState=a,s.baseState=h,s.baseQueue=g,i.lastRenderedState=a}if(e=i.interleaved,e!==null){o=e;do c=o.lane,M.lanes|=c,rh|=c,o=o.next;while(o!==e)}else o===null&&(i.lanes=0);return[s.memoizedState,i.dispatch]}function Xh(e){var s=Uh(),i=s.queue;if(i===null)throw Error(p(311));i.lastRenderedReducer=e;var a=i.dispatch,o=i.pending,c=s.memoizedState;if(o!==null){i.pending=null;var h=o=o.next;do c=e(c,h.action),h=h.next;while(h!==o);He(c,s.memoizedState)||(dh=!0),s.memoizedState=c,s.baseQueue===null&&(s.baseState=c),i.lastRenderedState=c}return[c,a]}function Yh(){}function Zh(e,s){var i=M,a=Uh(),o=s(),c=!He(a.memoizedState,o);if(c&&(a.memoizedState=o,dh=!0),a=a.queue,$h(ai.bind(null,i,a,e),[e]),a.getSnapshot!==s||c||O!==null&&O.memoizedState.tag&1){if(i.flags|=2048,bi(9,ci.bind(null,i,a,o,s),void 0,null),Q===null)throw Error(p(349));Hh&30||di(i,s,o)}return o}function di(e,s,i){e.flags|=16384,e={getSnapshot:s,value:i},s=M.updateQueue,s===null?(s={lastEffect:null,stores:null},M.updateQueue=s,s.stores=[e]):(i=s.stores,i===null?s.stores=[e]:i.push(e))}function ci(e,s,i,a){s.value=i,s.getSnapshot=a,ei(s)&&fi(e)}function ai(e,s,i){return i(function(){ei(s)&&fi(e)})}function ei(e){var s=e.getSnapshot;e=e.value;try{var i=s();return!He(e,i)}catch{return!0}}function fi(e){var s=ih(e,1);s!==null&&gi(s,e,1,-1)}function hi(e){var s=Th();return typeof e=="function"&&(e=e()),s.memoizedState=s.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Vh,lastRenderedState:e},s.queue=e,e=e.dispatch=ii.bind(null,M,e),[s.memoizedState,e]}function bi(e,s,i,a){return e={tag:e,create:s,destroy:i,deps:a,next:null},s=M.updateQueue,s===null?(s={lastEffect:null,stores:null},M.updateQueue=s,s.lastEffect=e.next=e):(i=s.lastEffect,i===null?s.lastEffect=e.next=e:(a=i.next,i.next=e,e.next=a,s.lastEffect=e)),e}function ji(){return Uh().memoizedState}function ki(e,s,i,a){var o=Th();M.flags|=e,o.memoizedState=bi(1|s,i,void 0,a===void 0?null:a)}function li(e,s,i,a){var o=Uh();a=a===void 0?null:a;var c=void 0;if(N!==null){var h=N.memoizedState;if(c=h.destroy,a!==null&&Mh(a,h.deps)){o.memoizedState=bi(s,i,c,a);return}}M.flags|=e,o.memoizedState=bi(1|s,i,c,a)}function mi(e,s){return ki(8390656,8,e,s)}function $h(e,s){return li(2048,8,e,s)}function ni(e,s){return li(4,2,e,s)}function oi(e,s){return li(4,4,e,s)}function pi(e,s){if(typeof s=="function")return e=e(),s(e),function(){s(null)};if(s!=null)return e=e(),s.current=e,function(){s.current=null}}function qi(e,s,i){return i=i!=null?i.concat([e]):null,li(4,4,pi.bind(null,s,e),i)}function ri(){}function si(e,s){var i=Uh();s=s===void 0?null:s;var a=i.memoizedState;return a!==null&&s!==null&&Mh(s,a[1])?a[0]:(i.memoizedState=[e,s],e)}function ti(e,s){var i=Uh();s=s===void 0?null:s;var a=i.memoizedState;return a!==null&&s!==null&&Mh(s,a[1])?a[0]:(e=e(),i.memoizedState=[e,s],e)}function ui(e,s,i){return Hh&21?(He(i,s)||(i=yc(),M.lanes|=i,rh|=i,e.baseState=!0),s):(e.baseState&&(e.baseState=!1,dh=!0),e.memoizedState=i)}function vi(e,s){var i=C;C=i!==0&&4>i?i:4,e(!0);var a=Gh.transition;Gh.transition={};try{e(!1),s()}finally{C=i,Gh.transition=a}}function wi(){return Uh().memoizedState}function xi(e,s,i){var a=yi(e);if(i={lane:a,action:i,hasEagerState:!1,eagerState:null,next:null},zi(e))Ai(s,i);else if(i=hh(e,s,i,a),i!==null){var o=R();gi(i,e,a,o),Bi(i,s,a)}}function ii(e,s,i){var a=yi(e),o={lane:a,action:i,hasEagerState:!1,eagerState:null,next:null};if(zi(e))Ai(s,o);else{var c=e.alternate;if(e.lanes===0&&(c===null||c.lanes===0)&&(c=s.lastRenderedReducer,c!==null))try{var h=s.lastRenderedState,d=c(h,i);if(o.hasEagerState=!0,o.eagerState=d,He(d,h)){var g=s.interleaved;g===null?(o.next=o,gh(s)):(o.next=g.next,g.next=o),s.interleaved=o;return}}catch{}finally{}i=hh(e,s,o,a),i!==null&&(o=R(),gi(i,e,a,o),Bi(i,s,a))}}function zi(e){var s=e.alternate;return e===M||s!==null&&s===M}function Ai(e,s){Jh=Ih=!0;var i=e.pending;i===null?s.next=s:(s.next=i.next,i.next=s),e.pending=s}function Bi(e,s,i){if(i&4194240){var a=s.lanes;a&=e.pendingLanes,i|=a,s.lanes=i,Cc(e,i)}}var Rh={readContext:eh,useCallback:P,useContext:P,useEffect:P,useImperativeHandle:P,useInsertionEffect:P,useLayoutEffect:P,useMemo:P,useReducer:P,useRef:P,useState:P,useDebugValue:P,useDeferredValue:P,useTransition:P,useMutableSource:P,useSyncExternalStore:P,useId:P,unstable_isNewReconciler:!1},Oh={readContext:eh,useCallback:function(e,s){return Th().memoizedState=[e,s===void 0?null:s],e},useContext:eh,useEffect:mi,useImperativeHandle:function(e,s,i){return i=i!=null?i.concat([e]):null,ki(4194308,4,pi.bind(null,s,e),i)},useLayoutEffect:function(e,s){return ki(4194308,4,e,s)},useInsertionEffect:function(e,s){return ki(4,2,e,s)},useMemo:function(e,s){var i=Th();return s=s===void 0?null:s,e=e(),i.memoizedState=[e,s],e},useReducer:function(e,s,i){var a=Th();return s=i!==void 0?i(s):s,a.memoizedState=a.baseState=s,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:s},a.queue=e,e=e.dispatch=xi.bind(null,M,e),[a.memoizedState,e]},useRef:function(e){var s=Th();return e={current:e},s.memoizedState=e},useState:hi,useDebugValue:ri,useDeferredValue:function(e){return Th().memoizedState=e},useTransition:function(){var e=hi(!1),s=e[0];return e=vi.bind(null,e[1]),Th().memoizedState=e,[s,e]},useMutableSource:function(){},useSyncExternalStore:function(e,s,i){var a=M,o=Th();if(I){if(i===void 0)throw Error(p(407));i=i()}else{if(i=s(),Q===null)throw Error(p(349));Hh&30||di(a,s,i)}o.memoizedState=i;var c={value:i,getSnapshot:s};return o.queue=c,mi(ai.bind(null,a,c,e),[e]),a.flags|=2048,bi(9,ci.bind(null,a,c,i,s),void 0,null),i},useId:function(){var e=Th(),s=Q.identifierPrefix;if(I){var i=sg,a=rg;i=(a&~(1<<32-oc(a)-1)).toString(32)+i,s=":"+s+"R"+i,i=Kh++,0<i&&(s+="H"+i.toString(32)),s+=":"}else i=Lh++,s=":"+s+"r"+i.toString(32)+":";return e.memoizedState=s},unstable_isNewReconciler:!1},Ph={readContext:eh,useCallback:si,useContext:eh,useEffect:$h,useImperativeHandle:qi,useInsertionEffect:ni,useLayoutEffect:oi,useMemo:ti,useReducer:Wh,useRef:ji,useState:function(){return Wh(Vh)},useDebugValue:ri,useDeferredValue:function(e){var s=Uh();return ui(s,N.memoizedState,e)},useTransition:function(){var e=Wh(Vh)[0],s=Uh().memoizedState;return[e,s]},useMutableSource:Yh,useSyncExternalStore:Zh,useId:wi,unstable_isNewReconciler:!1},Qh={readContext:eh,useCallback:si,useContext:eh,useEffect:$h,useImperativeHandle:qi,useInsertionEffect:ni,useLayoutEffect:oi,useMemo:ti,useReducer:Xh,useRef:ji,useState:function(){return Xh(Vh)},useDebugValue:ri,useDeferredValue:function(e){var s=Uh();return N===null?s.memoizedState=e:ui(s,N.memoizedState,e)},useTransition:function(){var e=Xh(Vh)[0],s=Uh().memoizedState;return[e,s]},useMutableSource:Yh,useSyncExternalStore:Zh,useId:wi,unstable_isNewReconciler:!1};function Ci(e,s){if(e&&e.defaultProps){s=A({},s),e=e.defaultProps;for(var i in e)s[i]===void 0&&(s[i]=e[i]);return s}return s}function Di(e,s,i,a){s=e.memoizedState,i=i(a,s),i=i==null?s:A({},s,i),e.memoizedState=i,e.lanes===0&&(e.updateQueue.baseState=i)}var Ei={isMounted:function(e){return(e=e._reactInternals)?Vb(e)===e:!1},enqueueSetState:function(e,s,i){e=e._reactInternals;var a=R(),o=yi(e),c=mh(a,o);c.payload=s,i!=null&&(c.callback=i),s=nh(e,c,o),s!==null&&(gi(s,e,o,a),oh(s,e,o))},enqueueReplaceState:function(e,s,i){e=e._reactInternals;var a=R(),o=yi(e),c=mh(a,o);c.tag=1,c.payload=s,i!=null&&(c.callback=i),s=nh(e,c,o),s!==null&&(gi(s,e,o,a),oh(s,e,o))},enqueueForceUpdate:function(e,s){e=e._reactInternals;var i=R(),a=yi(e),o=mh(i,a);o.tag=2,s!=null&&(o.callback=s),s=nh(e,o,a),s!==null&&(gi(s,e,a,i),oh(s,e,a))}};function Fi(e,s,i,a,o,c,h){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(a,c,h):s.prototype&&s.prototype.isPureReactComponent?!Ie(i,a)||!Ie(o,c):!0}function Gi(e,s,i){var a=!1,o=Vf,c=s.contextType;return typeof c=="object"&&c!==null?c=eh(c):(o=Zf(s)?Xf:H.current,a=s.contextTypes,c=(a=a!=null)?Yf(e,o):Vf),s=new s(i,c),e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,s.updater=Ei,e.stateNode=s,s._reactInternals=e,a&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=o,e.__reactInternalMemoizedMaskedChildContext=c),s}function Hi(e,s,i,a){e=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(i,a),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(i,a),s.state!==e&&Ei.enqueueReplaceState(s,s.state,null)}function Ii(e,s,i,a){var o=e.stateNode;o.props=i,o.state=e.memoizedState,o.refs={},kh(e);var c=s.contextType;typeof c=="object"&&c!==null?o.context=eh(c):(c=Zf(s)?Xf:H.current,o.context=Yf(e,c)),o.state=e.memoizedState,c=s.getDerivedStateFromProps,typeof c=="function"&&(Di(e,s,c,i),o.state=e.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof o.getSnapshotBeforeUpdate=="function"||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(s=o.state,typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount(),s!==o.state&&Ei.enqueueReplaceState(o,o.state,null),qh(e,i,o,a),o.state=e.memoizedState),typeof o.componentDidMount=="function"&&(e.flags|=4194308)}function Ji(e,s){try{var i="",a=s;do i+=Pa(a),a=a.return;while(a);var o=i}catch(c){o=`
Error generating stack: `+c.message+`
`+c.stack}return{value:e,source:s,stack:o,digest:null}}function Ki(e,s,i){return{value:e,source:null,stack:i??null,digest:s??null}}function Li(e,s){try{console.error(s.value)}catch(i){setTimeout(function(){throw i})}}var Mi=typeof WeakMap=="function"?WeakMap:Map;function Ni(e,s,i){i=mh(-1,i),i.tag=3,i.payload={element:null};var a=s.value;return i.callback=function(){Oi||(Oi=!0,Pi=a),Li(e,s)},i}function Qi(e,s,i){i=mh(-1,i),i.tag=3;var a=e.type.getDerivedStateFromError;if(typeof a=="function"){var o=s.value;i.payload=function(){return a(o)},i.callback=function(){Li(e,s)}}var c=e.stateNode;return c!==null&&typeof c.componentDidCatch=="function"&&(i.callback=function(){Li(e,s),typeof a!="function"&&(Ri===null?Ri=new Set([this]):Ri.add(this));var h=s.stack;this.componentDidCatch(s.value,{componentStack:h!==null?h:""})}),i}function Si(e,s,i){var a=e.pingCache;if(a===null){a=e.pingCache=new Mi;var o=new Set;a.set(s,o)}else o=a.get(s),o===void 0&&(o=new Set,a.set(s,o));o.has(i)||(o.add(i),e=Ti.bind(null,e,s,i),s.then(e,e))}function Ui(e){do{var s;if((s=e.tag===13)&&(s=e.memoizedState,s=s!==null?s.dehydrated!==null:!0),s)return e;e=e.return}while(e!==null);return null}function Vi(e,s,i,a,o){return e.mode&1?(e.flags|=65536,e.lanes=o,e):(e===s?e.flags|=65536:(e.flags|=128,i.flags|=131072,i.flags&=-52805,i.tag===1&&(i.alternate===null?i.tag=17:(s=mh(-1,1),s.tag=2,nh(i,s,1))),i.lanes|=1),e)}var Wi=ua.ReactCurrentOwner,dh=!1;function Xi(e,s,i,a){s.child=e===null?Vg(s,null,i,a):Ug(s,e.child,i,a)}function Yi(e,s,i,a,o){i=i.render;var c=s.ref;return ch(s,o),a=Nh(e,s,i,a,c,o),i=Sh(),e!==null&&!dh?(s.updateQueue=e.updateQueue,s.flags&=-2053,e.lanes&=~o,Zi(e,s,o)):(I&&i&&vg(s),s.flags|=1,Xi(e,s,a,o),s.child)}function $i(e,s,i,a,o){if(e===null){var c=i.type;return typeof c=="function"&&!aj(c)&&c.defaultProps===void 0&&i.compare===null&&i.defaultProps===void 0?(s.tag=15,s.type=c,bj(e,s,c,a,o)):(e=Rg(i.type,null,a,s,s.mode,o),e.ref=s.ref,e.return=s,s.child=e)}if(c=e.child,!(e.lanes&o)){var h=c.memoizedProps;if(i=i.compare,i=i!==null?i:Ie,i(h,a)&&e.ref===s.ref)return Zi(e,s,o)}return s.flags|=1,e=Pg(c,a),e.ref=s.ref,e.return=s,s.child=e}function bj(e,s,i,a,o){if(e!==null){var c=e.memoizedProps;if(Ie(c,a)&&e.ref===s.ref)if(dh=!1,s.pendingProps=a=c,(e.lanes&o)!==0)e.flags&131072&&(dh=!0);else return s.lanes=e.lanes,Zi(e,s,o)}return cj(e,s,i,a,o)}function dj(e,s,i){var a=s.pendingProps,o=a.children,c=e!==null?e.memoizedState:null;if(a.mode==="hidden")if(!(s.mode&1))s.memoizedState={baseLanes:0,cachePool:null,transitions:null},G(ej,fj),fj|=i;else{if(!(i&1073741824))return e=c!==null?c.baseLanes|i:i,s.lanes=s.childLanes=1073741824,s.memoizedState={baseLanes:e,cachePool:null,transitions:null},s.updateQueue=null,G(ej,fj),fj|=e,null;s.memoizedState={baseLanes:0,cachePool:null,transitions:null},a=c!==null?c.baseLanes:i,G(ej,fj),fj|=a}else c!==null?(a=c.baseLanes|i,s.memoizedState=null):a=i,G(ej,fj),fj|=a;return Xi(e,s,o,i),s.child}function gj(e,s){var i=s.ref;(e===null&&i!==null||e!==null&&e.ref!==i)&&(s.flags|=512,s.flags|=2097152)}function cj(e,s,i,a,o){var c=Zf(i)?Xf:H.current;return c=Yf(s,c),ch(s,o),i=Nh(e,s,i,a,c,o),a=Sh(),e!==null&&!dh?(s.updateQueue=e.updateQueue,s.flags&=-2053,e.lanes&=~o,Zi(e,s,o)):(I&&a&&vg(s),s.flags|=1,Xi(e,s,i,o),s.child)}function hj(e,s,i,a,o){if(Zf(i)){var c=!0;cg(s)}else c=!1;if(ch(s,o),s.stateNode===null)ij(e,s),Gi(s,i,a),Ii(s,i,a,o),a=!0;else if(e===null){var h=s.stateNode,d=s.memoizedProps;h.props=d;var g=h.context,b=i.contextType;typeof b=="object"&&b!==null?b=eh(b):(b=Zf(i)?Xf:H.current,b=Yf(s,b));var _=i.getDerivedStateFromProps,$=typeof _=="function"||typeof h.getSnapshotBeforeUpdate=="function";$||typeof h.UNSAFE_componentWillReceiveProps!="function"&&typeof h.componentWillReceiveProps!="function"||(d!==a||g!==b)&&Hi(s,h,a,b),jh=!1;var j=s.memoizedState;h.state=j,qh(s,a,h,o),g=s.memoizedState,d!==a||j!==g||Wf.current||jh?(typeof _=="function"&&(Di(s,i,_,a),g=s.memoizedState),(d=jh||Fi(s,i,d,a,j,g,b))?($||typeof h.UNSAFE_componentWillMount!="function"&&typeof h.componentWillMount!="function"||(typeof h.componentWillMount=="function"&&h.componentWillMount(),typeof h.UNSAFE_componentWillMount=="function"&&h.UNSAFE_componentWillMount()),typeof h.componentDidMount=="function"&&(s.flags|=4194308)):(typeof h.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=a,s.memoizedState=g),h.props=a,h.state=g,h.context=b,a=d):(typeof h.componentDidMount=="function"&&(s.flags|=4194308),a=!1)}else{h=s.stateNode,lh(e,s),d=s.memoizedProps,b=s.type===s.elementType?d:Ci(s.type,d),h.props=b,$=s.pendingProps,j=h.context,g=i.contextType,typeof g=="object"&&g!==null?g=eh(g):(g=Zf(i)?Xf:H.current,g=Yf(s,g));var st=i.getDerivedStateFromProps;(_=typeof st=="function"||typeof h.getSnapshotBeforeUpdate=="function")||typeof h.UNSAFE_componentWillReceiveProps!="function"&&typeof h.componentWillReceiveProps!="function"||(d!==$||j!==g)&&Hi(s,h,a,g),jh=!1,j=s.memoizedState,h.state=j,qh(s,a,h,o);var tt=s.memoizedState;d!==$||j!==tt||Wf.current||jh?(typeof st=="function"&&(Di(s,i,st,a),tt=s.memoizedState),(b=jh||Fi(s,i,b,a,j,tt,g)||!1)?(_||typeof h.UNSAFE_componentWillUpdate!="function"&&typeof h.componentWillUpdate!="function"||(typeof h.componentWillUpdate=="function"&&h.componentWillUpdate(a,tt,g),typeof h.UNSAFE_componentWillUpdate=="function"&&h.UNSAFE_componentWillUpdate(a,tt,g)),typeof h.componentDidUpdate=="function"&&(s.flags|=4),typeof h.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof h.componentDidUpdate!="function"||d===e.memoizedProps&&j===e.memoizedState||(s.flags|=4),typeof h.getSnapshotBeforeUpdate!="function"||d===e.memoizedProps&&j===e.memoizedState||(s.flags|=1024),s.memoizedProps=a,s.memoizedState=tt),h.props=a,h.state=tt,h.context=g,a=b):(typeof h.componentDidUpdate!="function"||d===e.memoizedProps&&j===e.memoizedState||(s.flags|=4),typeof h.getSnapshotBeforeUpdate!="function"||d===e.memoizedProps&&j===e.memoizedState||(s.flags|=1024),a=!1)}return jj(e,s,i,a,c,o)}function jj(e,s,i,a,o,c){gj(e,s);var h=(s.flags&128)!==0;if(!a&&!h)return o&&dg(s,i,!1),Zi(e,s,c);a=s.stateNode,Wi.current=s;var d=h&&typeof i.getDerivedStateFromError!="function"?null:a.render();return s.flags|=1,e!==null&&h?(s.child=Ug(s,e.child,null,c),s.child=Ug(s,null,d,c)):Xi(e,s,d,c),s.memoizedState=a.state,o&&dg(s,i,!0),s.child}function kj(e){var s=e.stateNode;s.pendingContext?ag(e,s.pendingContext,s.pendingContext!==s.context):s.context&&ag(e,s.context,!1),yh(e,s.containerInfo)}function lj(e,s,i,a,o){return Ig(),Jg(o),s.flags|=256,Xi(e,s,i,a),s.child}var mj={dehydrated:null,treeContext:null,retryLane:0};function nj(e){return{baseLanes:e,cachePool:null,transitions:null}}function oj(e,s,i){var a=s.pendingProps,o=L.current,c=!1,h=(s.flags&128)!==0,d;if((d=h)||(d=e!==null&&e.memoizedState===null?!1:(o&2)!==0),d?(c=!0,s.flags&=-129):(e===null||e.memoizedState!==null)&&(o|=1),G(L,o&1),e===null)return Eg(s),e=s.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(s.mode&1?e.data==="$!"?s.lanes=8:s.lanes=1073741824:s.lanes=1,null):(h=a.children,e=a.fallback,c?(a=s.mode,c=s.child,h={mode:"hidden",children:h},!(a&1)&&c!==null?(c.childLanes=0,c.pendingProps=h):c=pj(h,a,0,null),e=Tg(e,a,i,null),c.return=s,e.return=s,c.sibling=e,s.child=c,s.child.memoizedState=nj(i),s.memoizedState=mj,e):qj(s,h));if(o=e.memoizedState,o!==null&&(d=o.dehydrated,d!==null))return rj(e,s,h,a,d,o,i);if(c){c=a.fallback,h=s.mode,o=e.child,d=o.sibling;var g={mode:"hidden",children:a.children};return!(h&1)&&s.child!==o?(a=s.child,a.childLanes=0,a.pendingProps=g,s.deletions=null):(a=Pg(o,g),a.subtreeFlags=o.subtreeFlags&14680064),d!==null?c=Pg(d,c):(c=Tg(c,h,i,null),c.flags|=2),c.return=s,a.return=s,a.sibling=c,s.child=a,a=c,c=s.child,h=e.child.memoizedState,h=h===null?nj(i):{baseLanes:h.baseLanes|i,cachePool:null,transitions:h.transitions},c.memoizedState=h,c.childLanes=e.childLanes&~i,s.memoizedState=mj,a}return c=e.child,e=c.sibling,a=Pg(c,{mode:"visible",children:a.children}),!(s.mode&1)&&(a.lanes=i),a.return=s,a.sibling=null,e!==null&&(i=s.deletions,i===null?(s.deletions=[e],s.flags|=16):i.push(e)),s.child=a,s.memoizedState=null,a}function qj(e,s){return s=pj({mode:"visible",children:s},e.mode,0,null),s.return=e,e.child=s}function sj(e,s,i,a){return a!==null&&Jg(a),Ug(s,e.child,null,i),e=qj(s,s.pendingProps.children),e.flags|=2,s.memoizedState=null,e}function rj(e,s,i,a,o,c,h){if(i)return s.flags&256?(s.flags&=-257,a=Ki(Error(p(422))),sj(e,s,h,a)):s.memoizedState!==null?(s.child=e.child,s.flags|=128,null):(c=a.fallback,o=s.mode,a=pj({mode:"visible",children:a.children},o,0,null),c=Tg(c,o,h,null),c.flags|=2,a.return=s,c.return=s,a.sibling=c,s.child=a,s.mode&1&&Ug(s,e.child,null,h),s.child.memoizedState=nj(h),s.memoizedState=mj,c);if(!(s.mode&1))return sj(e,s,h,null);if(o.data==="$!"){if(a=o.nextSibling&&o.nextSibling.dataset,a)var d=a.dgst;return a=d,c=Error(p(419)),a=Ki(c,a,void 0),sj(e,s,h,a)}if(d=(h&e.childLanes)!==0,dh||d){if(a=Q,a!==null){switch(h&-h){case 4:o=2;break;case 16:o=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:o=32;break;case 536870912:o=268435456;break;default:o=0}o=o&(a.suspendedLanes|h)?0:o,o!==0&&o!==c.retryLane&&(c.retryLane=o,ih(e,o),gi(a,e,o,-1))}return tj(),a=Ki(Error(p(421))),sj(e,s,h,a)}return o.data==="$?"?(s.flags|=128,s.child=e.child,s=uj.bind(null,e),o._reactRetry=s,null):(e=c.treeContext,yg=Lf(o.nextSibling),xg=s,I=!0,zg=null,e!==null&&(og[pg++]=rg,og[pg++]=sg,og[pg++]=qg,rg=e.id,sg=e.overflow,qg=s),s=qj(s,a.children),s.flags|=4096,s)}function vj(e,s,i){e.lanes|=s;var a=e.alternate;a!==null&&(a.lanes|=s),bh(e.return,s,i)}function wj(e,s,i,a,o){var c=e.memoizedState;c===null?e.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:a,tail:i,tailMode:o}:(c.isBackwards=s,c.rendering=null,c.renderingStartTime=0,c.last=a,c.tail=i,c.tailMode=o)}function xj(e,s,i){var a=s.pendingProps,o=a.revealOrder,c=a.tail;if(Xi(e,s,a.children,i),a=L.current,a&2)a=a&1|2,s.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=s.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&vj(e,i,s);else if(e.tag===19)vj(e,i,s);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===s)break e;for(;e.sibling===null;){if(e.return===null||e.return===s)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}a&=1}if(G(L,a),!(s.mode&1))s.memoizedState=null;else switch(o){case"forwards":for(i=s.child,o=null;i!==null;)e=i.alternate,e!==null&&Ch(e)===null&&(o=i),i=i.sibling;i=o,i===null?(o=s.child,s.child=null):(o=i.sibling,i.sibling=null),wj(s,!1,o,i,c);break;case"backwards":for(i=null,o=s.child,s.child=null;o!==null;){if(e=o.alternate,e!==null&&Ch(e)===null){s.child=o;break}e=o.sibling,o.sibling=i,i=o,o=e}wj(s,!0,i,null,c);break;case"together":wj(s,!1,null,null,void 0);break;default:s.memoizedState=null}return s.child}function ij(e,s){!(s.mode&1)&&e!==null&&(e.alternate=null,s.alternate=null,s.flags|=2)}function Zi(e,s,i){if(e!==null&&(s.dependencies=e.dependencies),rh|=s.lanes,!(i&s.childLanes))return null;if(e!==null&&s.child!==e.child)throw Error(p(153));if(s.child!==null){for(e=s.child,i=Pg(e,e.pendingProps),s.child=i,i.return=s;e.sibling!==null;)e=e.sibling,i=i.sibling=Pg(e,e.pendingProps),i.return=s;i.sibling=null}return s.child}function yj(e,s,i){switch(s.tag){case 3:kj(s),Ig();break;case 5:Ah(s);break;case 1:Zf(s.type)&&cg(s);break;case 4:yh(s,s.stateNode.containerInfo);break;case 10:var a=s.type._context,o=s.memoizedProps.value;G(Wg,a._currentValue),a._currentValue=o;break;case 13:if(a=s.memoizedState,a!==null)return a.dehydrated!==null?(G(L,L.current&1),s.flags|=128,null):i&s.child.childLanes?oj(e,s,i):(G(L,L.current&1),e=Zi(e,s,i),e!==null?e.sibling:null);G(L,L.current&1);break;case 19:if(a=(i&s.childLanes)!==0,e.flags&128){if(a)return xj(e,s,i);s.flags|=128}if(o=s.memoizedState,o!==null&&(o.rendering=null,o.tail=null,o.lastEffect=null),G(L,L.current),a)break;return null;case 22:case 23:return s.lanes=0,dj(e,s,i)}return Zi(e,s,i)}var zj,Aj,Bj,Cj;zj=function(e,s){for(var i=s.child;i!==null;){if(i.tag===5||i.tag===6)e.appendChild(i.stateNode);else if(i.tag!==4&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===s)break;for(;i.sibling===null;){if(i.return===null||i.return===s)return;i=i.return}i.sibling.return=i.return,i=i.sibling}};Aj=function(){};Bj=function(e,s,i,a){var o=e.memoizedProps;if(o!==a){e=s.stateNode,xh(uh.current);var c=null;switch(i){case"input":o=Ya(e,o),a=Ya(e,a),c=[];break;case"select":o=A({},o,{value:void 0}),a=A({},a,{value:void 0}),c=[];break;case"textarea":o=gb(e,o),a=gb(e,a),c=[];break;default:typeof o.onClick!="function"&&typeof a.onClick=="function"&&(e.onclick=Bf)}ub(i,a);var h;i=null;for(b in o)if(!a.hasOwnProperty(b)&&o.hasOwnProperty(b)&&o[b]!=null)if(b==="style"){var d=o[b];for(h in d)d.hasOwnProperty(h)&&(i||(i={}),i[h]="")}else b!=="dangerouslySetInnerHTML"&&b!=="children"&&b!=="suppressContentEditableWarning"&&b!=="suppressHydrationWarning"&&b!=="autoFocus"&&(ea.hasOwnProperty(b)?c||(c=[]):(c=c||[]).push(b,null));for(b in a){var g=a[b];if(d=o!=null?o[b]:void 0,a.hasOwnProperty(b)&&g!==d&&(g!=null||d!=null))if(b==="style")if(d){for(h in d)!d.hasOwnProperty(h)||g&&g.hasOwnProperty(h)||(i||(i={}),i[h]="");for(h in g)g.hasOwnProperty(h)&&d[h]!==g[h]&&(i||(i={}),i[h]=g[h])}else i||(c||(c=[]),c.push(b,i)),i=g;else b==="dangerouslySetInnerHTML"?(g=g?g.__html:void 0,d=d?d.__html:void 0,g!=null&&d!==g&&(c=c||[]).push(b,g)):b==="children"?typeof g!="string"&&typeof g!="number"||(c=c||[]).push(b,""+g):b!=="suppressContentEditableWarning"&&b!=="suppressHydrationWarning"&&(ea.hasOwnProperty(b)?(g!=null&&b==="onScroll"&&D("scroll",e),c||d===g||(c=[])):(c=c||[]).push(b,g))}i&&(c=c||[]).push("style",i);var b=c;(s.updateQueue=b)&&(s.flags|=4)}};Cj=function(e,s,i,a){i!==a&&(s.flags|=4)};function Dj(e,s){if(!I)switch(e.tailMode){case"hidden":s=e.tail;for(var i=null;s!==null;)s.alternate!==null&&(i=s),s=s.sibling;i===null?e.tail=null:i.sibling=null;break;case"collapsed":i=e.tail;for(var a=null;i!==null;)i.alternate!==null&&(a=i),i=i.sibling;a===null?s||e.tail===null?e.tail=null:e.tail.sibling=null:a.sibling=null}}function S(e){var s=e.alternate!==null&&e.alternate.child===e.child,i=0,a=0;if(s)for(var o=e.child;o!==null;)i|=o.lanes|o.childLanes,a|=o.subtreeFlags&14680064,a|=o.flags&14680064,o.return=e,o=o.sibling;else for(o=e.child;o!==null;)i|=o.lanes|o.childLanes,a|=o.subtreeFlags,a|=o.flags,o.return=e,o=o.sibling;return e.subtreeFlags|=a,e.childLanes=i,s}function Ej(e,s,i){var a=s.pendingProps;switch(wg(s),s.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return S(s),null;case 1:return Zf(s.type)&&$f(),S(s),null;case 3:return a=s.stateNode,zh(),E(Wf),E(H),Eh(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(e===null||e.child===null)&&(Gg(s)?s.flags|=4:e===null||e.memoizedState.isDehydrated&&!(s.flags&256)||(s.flags|=1024,zg!==null&&(Fj(zg),zg=null))),Aj(e,s),S(s),null;case 5:Bh(s);var o=xh(wh.current);if(i=s.type,e!==null&&s.stateNode!=null)Bj(e,s,i,a,o),e.ref!==s.ref&&(s.flags|=512,s.flags|=2097152);else{if(!a){if(s.stateNode===null)throw Error(p(166));return S(s),null}if(e=xh(uh.current),Gg(s)){a=s.stateNode,i=s.type;var c=s.memoizedProps;switch(a[Of]=s,a[Pf]=c,e=(s.mode&1)!==0,i){case"dialog":D("cancel",a),D("close",a);break;case"iframe":case"object":case"embed":D("load",a);break;case"video":case"audio":for(o=0;o<lf.length;o++)D(lf[o],a);break;case"source":D("error",a);break;case"img":case"image":case"link":D("error",a),D("load",a);break;case"details":D("toggle",a);break;case"input":Za(a,c),D("invalid",a);break;case"select":a._wrapperState={wasMultiple:!!c.multiple},D("invalid",a);break;case"textarea":hb(a,c),D("invalid",a)}ub(i,c),o=null;for(var h in c)if(c.hasOwnProperty(h)){var d=c[h];h==="children"?typeof d=="string"?a.textContent!==d&&(c.suppressHydrationWarning!==!0&&Af(a.textContent,d,e),o=["children",d]):typeof d=="number"&&a.textContent!==""+d&&(c.suppressHydrationWarning!==!0&&Af(a.textContent,d,e),o=["children",""+d]):ea.hasOwnProperty(h)&&d!=null&&h==="onScroll"&&D("scroll",a)}switch(i){case"input":Va(a),db(a,c,!0);break;case"textarea":Va(a),jb(a);break;case"select":case"option":break;default:typeof c.onClick=="function"&&(a.onclick=Bf)}a=o,s.updateQueue=a,a!==null&&(s.flags|=4)}else{h=o.nodeType===9?o:o.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=kb(i)),e==="http://www.w3.org/1999/xhtml"?i==="script"?(e=h.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof a.is=="string"?e=h.createElement(i,{is:a.is}):(e=h.createElement(i),i==="select"&&(h=e,a.multiple?h.multiple=!0:a.size&&(h.size=a.size))):e=h.createElementNS(e,i),e[Of]=s,e[Pf]=a,zj(e,s,!1,!1),s.stateNode=e;e:{switch(h=vb(i,a),i){case"dialog":D("cancel",e),D("close",e),o=a;break;case"iframe":case"object":case"embed":D("load",e),o=a;break;case"video":case"audio":for(o=0;o<lf.length;o++)D(lf[o],e);o=a;break;case"source":D("error",e),o=a;break;case"img":case"image":case"link":D("error",e),D("load",e),o=a;break;case"details":D("toggle",e),o=a;break;case"input":Za(e,a),o=Ya(e,a),D("invalid",e);break;case"option":o=a;break;case"select":e._wrapperState={wasMultiple:!!a.multiple},o=A({},a,{value:void 0}),D("invalid",e);break;case"textarea":hb(e,a),o=gb(e,a),D("invalid",e);break;default:o=a}ub(i,o),d=o;for(c in d)if(d.hasOwnProperty(c)){var g=d[c];c==="style"?sb(e,g):c==="dangerouslySetInnerHTML"?(g=g?g.__html:void 0,g!=null&&nb(e,g)):c==="children"?typeof g=="string"?(i!=="textarea"||g!=="")&&ob(e,g):typeof g=="number"&&ob(e,""+g):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(ea.hasOwnProperty(c)?g!=null&&c==="onScroll"&&D("scroll",e):g!=null&&ta(e,c,g,h))}switch(i){case"input":Va(e),db(e,a,!1);break;case"textarea":Va(e),jb(e);break;case"option":a.value!=null&&e.setAttribute("value",""+Sa(a.value));break;case"select":e.multiple=!!a.multiple,c=a.value,c!=null?fb(e,!!a.multiple,c,!1):a.defaultValue!=null&&fb(e,!!a.multiple,a.defaultValue,!0);break;default:typeof o.onClick=="function"&&(e.onclick=Bf)}switch(i){case"button":case"input":case"select":case"textarea":a=!!a.autoFocus;break e;case"img":a=!0;break e;default:a=!1}}a&&(s.flags|=4)}s.ref!==null&&(s.flags|=512,s.flags|=2097152)}return S(s),null;case 6:if(e&&s.stateNode!=null)Cj(e,s,e.memoizedProps,a);else{if(typeof a!="string"&&s.stateNode===null)throw Error(p(166));if(i=xh(wh.current),xh(uh.current),Gg(s)){if(a=s.stateNode,i=s.memoizedProps,a[Of]=s,(c=a.nodeValue!==i)&&(e=xg,e!==null))switch(e.tag){case 3:Af(a.nodeValue,i,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Af(a.nodeValue,i,(e.mode&1)!==0)}c&&(s.flags|=4)}else a=(i.nodeType===9?i:i.ownerDocument).createTextNode(a),a[Of]=s,s.stateNode=a}return S(s),null;case 13:if(E(L),a=s.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(I&&yg!==null&&s.mode&1&&!(s.flags&128))Hg(),Ig(),s.flags|=98560,c=!1;else if(c=Gg(s),a!==null&&a.dehydrated!==null){if(e===null){if(!c)throw Error(p(318));if(c=s.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(p(317));c[Of]=s}else Ig(),!(s.flags&128)&&(s.memoizedState=null),s.flags|=4;S(s),c=!1}else zg!==null&&(Fj(zg),zg=null),c=!0;if(!c)return s.flags&65536?s:null}return s.flags&128?(s.lanes=i,s):(a=a!==null,a!==(e!==null&&e.memoizedState!==null)&&a&&(s.child.flags|=8192,s.mode&1&&(e===null||L.current&1?T===0&&(T=3):tj())),s.updateQueue!==null&&(s.flags|=4),S(s),null);case 4:return zh(),Aj(e,s),e===null&&sf(s.stateNode.containerInfo),S(s),null;case 10:return ah(s.type._context),S(s),null;case 17:return Zf(s.type)&&$f(),S(s),null;case 19:if(E(L),c=s.memoizedState,c===null)return S(s),null;if(a=(s.flags&128)!==0,h=c.rendering,h===null)if(a)Dj(c,!1);else{if(T!==0||e!==null&&e.flags&128)for(e=s.child;e!==null;){if(h=Ch(e),h!==null){for(s.flags|=128,Dj(c,!1),a=h.updateQueue,a!==null&&(s.updateQueue=a,s.flags|=4),s.subtreeFlags=0,a=i,i=s.child;i!==null;)c=i,e=a,c.flags&=14680066,h=c.alternate,h===null?(c.childLanes=0,c.lanes=e,c.child=null,c.subtreeFlags=0,c.memoizedProps=null,c.memoizedState=null,c.updateQueue=null,c.dependencies=null,c.stateNode=null):(c.childLanes=h.childLanes,c.lanes=h.lanes,c.child=h.child,c.subtreeFlags=0,c.deletions=null,c.memoizedProps=h.memoizedProps,c.memoizedState=h.memoizedState,c.updateQueue=h.updateQueue,c.type=h.type,e=h.dependencies,c.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),i=i.sibling;return G(L,L.current&1|2),s.child}e=e.sibling}c.tail!==null&&B()>Gj&&(s.flags|=128,a=!0,Dj(c,!1),s.lanes=4194304)}else{if(!a)if(e=Ch(h),e!==null){if(s.flags|=128,a=!0,i=e.updateQueue,i!==null&&(s.updateQueue=i,s.flags|=4),Dj(c,!0),c.tail===null&&c.tailMode==="hidden"&&!h.alternate&&!I)return S(s),null}else 2*B()-c.renderingStartTime>Gj&&i!==1073741824&&(s.flags|=128,a=!0,Dj(c,!1),s.lanes=4194304);c.isBackwards?(h.sibling=s.child,s.child=h):(i=c.last,i!==null?i.sibling=h:s.child=h,c.last=h)}return c.tail!==null?(s=c.tail,c.rendering=s,c.tail=s.sibling,c.renderingStartTime=B(),s.sibling=null,i=L.current,G(L,a?i&1|2:i&1),s):(S(s),null);case 22:case 23:return Hj(),a=s.memoizedState!==null,e!==null&&e.memoizedState!==null!==a&&(s.flags|=8192),a&&s.mode&1?fj&1073741824&&(S(s),s.subtreeFlags&6&&(s.flags|=8192)):S(s),null;case 24:return null;case 25:return null}throw Error(p(156,s.tag))}function Ij(e,s){switch(wg(s),s.tag){case 1:return Zf(s.type)&&$f(),e=s.flags,e&65536?(s.flags=e&-65537|128,s):null;case 3:return zh(),E(Wf),E(H),Eh(),e=s.flags,e&65536&&!(e&128)?(s.flags=e&-65537|128,s):null;case 5:return Bh(s),null;case 13:if(E(L),e=s.memoizedState,e!==null&&e.dehydrated!==null){if(s.alternate===null)throw Error(p(340));Ig()}return e=s.flags,e&65536?(s.flags=e&-65537|128,s):null;case 19:return E(L),null;case 4:return zh(),null;case 10:return ah(s.type._context),null;case 22:case 23:return Hj(),null;case 24:return null;default:return null}}var Jj=!1,U=!1,Kj=typeof WeakSet=="function"?WeakSet:Set,V=null;function Lj(e,s){var i=e.ref;if(i!==null)if(typeof i=="function")try{i(null)}catch(a){W(e,s,a)}else i.current=null}function Mj(e,s,i){try{i()}catch(a){W(e,s,a)}}var Nj=!1;function Oj(e,s){if(Cf=dd,e=Me(),Ne(e)){if("selectionStart"in e)var i={start:e.selectionStart,end:e.selectionEnd};else e:{i=(i=e.ownerDocument)&&i.defaultView||window;var a=i.getSelection&&i.getSelection();if(a&&a.rangeCount!==0){i=a.anchorNode;var o=a.anchorOffset,c=a.focusNode;a=a.focusOffset;try{i.nodeType,c.nodeType}catch{i=null;break e}var h=0,d=-1,g=-1,b=0,_=0,$=e,j=null;t:for(;;){for(var st;$!==i||o!==0&&$.nodeType!==3||(d=h+o),$!==c||a!==0&&$.nodeType!==3||(g=h+a),$.nodeType===3&&(h+=$.nodeValue.length),(st=$.firstChild)!==null;)j=$,$=st;for(;;){if($===e)break t;if(j===i&&++b===o&&(d=h),j===c&&++_===a&&(g=h),(st=$.nextSibling)!==null)break;$=j,j=$.parentNode}$=st}i=d===-1||g===-1?null:{start:d,end:g}}else i=null}i=i||{start:0,end:0}}else i=null;for(Df={focusedElem:e,selectionRange:i},dd=!1,V=s;V!==null;)if(s=V,e=s.child,(s.subtreeFlags&1028)!==0&&e!==null)e.return=s,V=e;else for(;V!==null;){s=V;try{var tt=s.alternate;if(s.flags&1024)switch(s.tag){case 0:case 11:case 15:break;case 1:if(tt!==null){var nt=tt.memoizedProps,at=tt.memoizedState,_e=s.stateNode,rt=_e.getSnapshotBeforeUpdate(s.elementType===s.type?nt:Ci(s.type,nt),at);_e.__reactInternalSnapshotBeforeUpdate=rt}break;case 3:var et=s.stateNode.containerInfo;et.nodeType===1?et.textContent="":et.nodeType===9&&et.documentElement&&et.removeChild(et.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(p(163))}}catch(it){W(s,s.return,it)}if(e=s.sibling,e!==null){e.return=s.return,V=e;break}V=s.return}return tt=Nj,Nj=!1,tt}function Pj(e,s,i){var a=s.updateQueue;if(a=a!==null?a.lastEffect:null,a!==null){var o=a=a.next;do{if((o.tag&e)===e){var c=o.destroy;o.destroy=void 0,c!==void 0&&Mj(s,i,c)}o=o.next}while(o!==a)}}function Qj(e,s){if(s=s.updateQueue,s=s!==null?s.lastEffect:null,s!==null){var i=s=s.next;do{if((i.tag&e)===e){var a=i.create;i.destroy=a()}i=i.next}while(i!==s)}}function Rj(e){var s=e.ref;if(s!==null){var i=e.stateNode;switch(e.tag){case 5:e=i;break;default:e=i}typeof s=="function"?s(e):s.current=e}}function Sj(e){var s=e.alternate;s!==null&&(e.alternate=null,Sj(s)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(s=e.stateNode,s!==null&&(delete s[Of],delete s[Pf],delete s[of],delete s[Qf],delete s[Rf])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Tj(e){return e.tag===5||e.tag===3||e.tag===4}function Uj(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Tj(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Vj(e,s,i){var a=e.tag;if(a===5||a===6)e=e.stateNode,s?i.nodeType===8?i.parentNode.insertBefore(e,s):i.insertBefore(e,s):(i.nodeType===8?(s=i.parentNode,s.insertBefore(e,i)):(s=i,s.appendChild(e)),i=i._reactRootContainer,i!=null||s.onclick!==null||(s.onclick=Bf));else if(a!==4&&(e=e.child,e!==null))for(Vj(e,s,i),e=e.sibling;e!==null;)Vj(e,s,i),e=e.sibling}function Wj(e,s,i){var a=e.tag;if(a===5||a===6)e=e.stateNode,s?i.insertBefore(e,s):i.appendChild(e);else if(a!==4&&(e=e.child,e!==null))for(Wj(e,s,i),e=e.sibling;e!==null;)Wj(e,s,i),e=e.sibling}var X$1=null,Xj=!1;function Yj(e,s,i){for(i=i.child;i!==null;)Zj(e,s,i),i=i.sibling}function Zj(e,s,i){if(lc&&typeof lc.onCommitFiberUnmount=="function")try{lc.onCommitFiberUnmount(kc,i)}catch{}switch(i.tag){case 5:U||Lj(i,s);case 6:var a=X$1,o=Xj;X$1=null,Yj(e,s,i),X$1=a,Xj=o,X$1!==null&&(Xj?(e=X$1,i=i.stateNode,e.nodeType===8?e.parentNode.removeChild(i):e.removeChild(i)):X$1.removeChild(i.stateNode));break;case 18:X$1!==null&&(Xj?(e=X$1,i=i.stateNode,e.nodeType===8?Kf(e.parentNode,i):e.nodeType===1&&Kf(e,i),bd(e)):Kf(X$1,i.stateNode));break;case 4:a=X$1,o=Xj,X$1=i.stateNode.containerInfo,Xj=!0,Yj(e,s,i),X$1=a,Xj=o;break;case 0:case 11:case 14:case 15:if(!U&&(a=i.updateQueue,a!==null&&(a=a.lastEffect,a!==null))){o=a=a.next;do{var c=o,h=c.destroy;c=c.tag,h!==void 0&&(c&2||c&4)&&Mj(i,s,h),o=o.next}while(o!==a)}Yj(e,s,i);break;case 1:if(!U&&(Lj(i,s),a=i.stateNode,typeof a.componentWillUnmount=="function"))try{a.props=i.memoizedProps,a.state=i.memoizedState,a.componentWillUnmount()}catch(d){W(i,s,d)}Yj(e,s,i);break;case 21:Yj(e,s,i);break;case 22:i.mode&1?(U=(a=U)||i.memoizedState!==null,Yj(e,s,i),U=a):Yj(e,s,i);break;default:Yj(e,s,i)}}function ak(e){var s=e.updateQueue;if(s!==null){e.updateQueue=null;var i=e.stateNode;i===null&&(i=e.stateNode=new Kj),s.forEach(function(a){var o=bk.bind(null,e,a);i.has(a)||(i.add(a),a.then(o,o))})}}function ck(e,s){var i=s.deletions;if(i!==null)for(var a=0;a<i.length;a++){var o=i[a];try{var c=e,h=s,d=h;e:for(;d!==null;){switch(d.tag){case 5:X$1=d.stateNode,Xj=!1;break e;case 3:X$1=d.stateNode.containerInfo,Xj=!0;break e;case 4:X$1=d.stateNode.containerInfo,Xj=!0;break e}d=d.return}if(X$1===null)throw Error(p(160));Zj(c,h,o),X$1=null,Xj=!1;var g=o.alternate;g!==null&&(g.return=null),o.return=null}catch(b){W(o,s,b)}}if(s.subtreeFlags&12854)for(s=s.child;s!==null;)dk(s,e),s=s.sibling}function dk(e,s){var i=e.alternate,a=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(ck(s,e),ek(e),a&4){try{Pj(3,e,e.return),Qj(3,e)}catch(nt){W(e,e.return,nt)}try{Pj(5,e,e.return)}catch(nt){W(e,e.return,nt)}}break;case 1:ck(s,e),ek(e),a&512&&i!==null&&Lj(i,i.return);break;case 5:if(ck(s,e),ek(e),a&512&&i!==null&&Lj(i,i.return),e.flags&32){var o=e.stateNode;try{ob(o,"")}catch(nt){W(e,e.return,nt)}}if(a&4&&(o=e.stateNode,o!=null)){var c=e.memoizedProps,h=i!==null?i.memoizedProps:c,d=e.type,g=e.updateQueue;if(e.updateQueue=null,g!==null)try{d==="input"&&c.type==="radio"&&c.name!=null&&ab(o,c),vb(d,h);var b=vb(d,c);for(h=0;h<g.length;h+=2){var _=g[h],$=g[h+1];_==="style"?sb(o,$):_==="dangerouslySetInnerHTML"?nb(o,$):_==="children"?ob(o,$):ta(o,_,$,b)}switch(d){case"input":bb(o,c);break;case"textarea":ib(o,c);break;case"select":var j=o._wrapperState.wasMultiple;o._wrapperState.wasMultiple=!!c.multiple;var st=c.value;st!=null?fb(o,!!c.multiple,st,!1):j!==!!c.multiple&&(c.defaultValue!=null?fb(o,!!c.multiple,c.defaultValue,!0):fb(o,!!c.multiple,c.multiple?[]:"",!1))}o[Pf]=c}catch(nt){W(e,e.return,nt)}}break;case 6:if(ck(s,e),ek(e),a&4){if(e.stateNode===null)throw Error(p(162));o=e.stateNode,c=e.memoizedProps;try{o.nodeValue=c}catch(nt){W(e,e.return,nt)}}break;case 3:if(ck(s,e),ek(e),a&4&&i!==null&&i.memoizedState.isDehydrated)try{bd(s.containerInfo)}catch(nt){W(e,e.return,nt)}break;case 4:ck(s,e),ek(e);break;case 13:ck(s,e),ek(e),o=e.child,o.flags&8192&&(c=o.memoizedState!==null,o.stateNode.isHidden=c,!c||o.alternate!==null&&o.alternate.memoizedState!==null||(fk=B())),a&4&&ak(e);break;case 22:if(_=i!==null&&i.memoizedState!==null,e.mode&1?(U=(b=U)||_,ck(s,e),U=b):ck(s,e),ek(e),a&8192){if(b=e.memoizedState!==null,(e.stateNode.isHidden=b)&&!_&&e.mode&1)for(V=e,_=e.child;_!==null;){for($=V=_;V!==null;){switch(j=V,st=j.child,j.tag){case 0:case 11:case 14:case 15:Pj(4,j,j.return);break;case 1:Lj(j,j.return);var tt=j.stateNode;if(typeof tt.componentWillUnmount=="function"){a=j,i=j.return;try{s=a,tt.props=s.memoizedProps,tt.state=s.memoizedState,tt.componentWillUnmount()}catch(nt){W(a,i,nt)}}break;case 5:Lj(j,j.return);break;case 22:if(j.memoizedState!==null){gk($);continue}}st!==null?(st.return=j,V=st):gk($)}_=_.sibling}e:for(_=null,$=e;;){if($.tag===5){if(_===null){_=$;try{o=$.stateNode,b?(c=o.style,typeof c.setProperty=="function"?c.setProperty("display","none","important"):c.display="none"):(d=$.stateNode,g=$.memoizedProps.style,h=g!=null&&g.hasOwnProperty("display")?g.display:null,d.style.display=rb("display",h))}catch(nt){W(e,e.return,nt)}}}else if($.tag===6){if(_===null)try{$.stateNode.nodeValue=b?"":$.memoizedProps}catch(nt){W(e,e.return,nt)}}else if(($.tag!==22&&$.tag!==23||$.memoizedState===null||$===e)&&$.child!==null){$.child.return=$,$=$.child;continue}if($===e)break e;for(;$.sibling===null;){if($.return===null||$.return===e)break e;_===$&&(_=null),$=$.return}_===$&&(_=null),$.sibling.return=$.return,$=$.sibling}}break;case 19:ck(s,e),ek(e),a&4&&ak(e);break;case 21:break;default:ck(s,e),ek(e)}}function ek(e){var s=e.flags;if(s&2){try{e:{for(var i=e.return;i!==null;){if(Tj(i)){var a=i;break e}i=i.return}throw Error(p(160))}switch(a.tag){case 5:var o=a.stateNode;a.flags&32&&(ob(o,""),a.flags&=-33);var c=Uj(e);Wj(e,c,o);break;case 3:case 4:var h=a.stateNode.containerInfo,d=Uj(e);Vj(e,d,h);break;default:throw Error(p(161))}}catch(g){W(e,e.return,g)}e.flags&=-3}s&4096&&(e.flags&=-4097)}function hk(e,s,i){V=e,ik(e)}function ik(e,s,i){for(var a=(e.mode&1)!==0;V!==null;){var o=V,c=o.child;if(o.tag===22&&a){var h=o.memoizedState!==null||Jj;if(!h){var d=o.alternate,g=d!==null&&d.memoizedState!==null||U;d=Jj;var b=U;if(Jj=h,(U=g)&&!b)for(V=o;V!==null;)h=V,g=h.child,h.tag===22&&h.memoizedState!==null?jk(o):g!==null?(g.return=h,V=g):jk(o);for(;c!==null;)V=c,ik(c),c=c.sibling;V=o,Jj=d,U=b}kk(e)}else o.subtreeFlags&8772&&c!==null?(c.return=o,V=c):kk(e)}}function kk(e){for(;V!==null;){var s=V;if(s.flags&8772){var i=s.alternate;try{if(s.flags&8772)switch(s.tag){case 0:case 11:case 15:U||Qj(5,s);break;case 1:var a=s.stateNode;if(s.flags&4&&!U)if(i===null)a.componentDidMount();else{var o=s.elementType===s.type?i.memoizedProps:Ci(s.type,i.memoizedProps);a.componentDidUpdate(o,i.memoizedState,a.__reactInternalSnapshotBeforeUpdate)}var c=s.updateQueue;c!==null&&sh(s,c,a);break;case 3:var h=s.updateQueue;if(h!==null){if(i=null,s.child!==null)switch(s.child.tag){case 5:i=s.child.stateNode;break;case 1:i=s.child.stateNode}sh(s,h,i)}break;case 5:var d=s.stateNode;if(i===null&&s.flags&4){i=d;var g=s.memoizedProps;switch(s.type){case"button":case"input":case"select":case"textarea":g.autoFocus&&i.focus();break;case"img":g.src&&(i.src=g.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(s.memoizedState===null){var b=s.alternate;if(b!==null){var _=b.memoizedState;if(_!==null){var $=_.dehydrated;$!==null&&bd($)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(p(163))}U||s.flags&512&&Rj(s)}catch(j){W(s,s.return,j)}}if(s===e){V=null;break}if(i=s.sibling,i!==null){i.return=s.return,V=i;break}V=s.return}}function gk(e){for(;V!==null;){var s=V;if(s===e){V=null;break}var i=s.sibling;if(i!==null){i.return=s.return,V=i;break}V=s.return}}function jk(e){for(;V!==null;){var s=V;try{switch(s.tag){case 0:case 11:case 15:var i=s.return;try{Qj(4,s)}catch(g){W(s,i,g)}break;case 1:var a=s.stateNode;if(typeof a.componentDidMount=="function"){var o=s.return;try{a.componentDidMount()}catch(g){W(s,o,g)}}var c=s.return;try{Rj(s)}catch(g){W(s,c,g)}break;case 5:var h=s.return;try{Rj(s)}catch(g){W(s,h,g)}}}catch(g){W(s,s.return,g)}if(s===e){V=null;break}var d=s.sibling;if(d!==null){d.return=s.return,V=d;break}V=s.return}}var lk=Math.ceil,mk=ua.ReactCurrentDispatcher,nk=ua.ReactCurrentOwner,ok=ua.ReactCurrentBatchConfig,K=0,Q=null,Y=null,Z=0,fj=0,ej=Uf(0),T=0,pk=null,rh=0,qk=0,rk=0,sk=null,tk=null,fk=0,Gj=1/0,uk=null,Oi=!1,Pi=null,Ri=null,vk=!1,wk=null,xk=0,yk=0,zk=null,Ak=-1,Bk=0;function R(){return K&6?B():Ak!==-1?Ak:Ak=B()}function yi(e){return e.mode&1?K&2&&Z!==0?Z&-Z:Kg.transition!==null?(Bk===0&&(Bk=yc()),Bk):(e=C,e!==0||(e=window.event,e=e===void 0?16:jd(e.type)),e):1}function gi(e,s,i,a){if(50<yk)throw yk=0,zk=null,Error(p(185));Ac(e,i,a),(!(K&2)||e!==Q)&&(e===Q&&(!(K&2)&&(qk|=i),T===4&&Ck(e,Z)),Dk(e,a),i===1&&K===0&&!(s.mode&1)&&(Gj=B()+500,fg&&jg()))}function Dk(e,s){var i=e.callbackNode;wc(e,s);var a=uc(e,e===Q?Z:0);if(a===0)i!==null&&bc(i),e.callbackNode=null,e.callbackPriority=0;else if(s=a&-a,e.callbackPriority!==s){if(i!=null&&bc(i),s===1)e.tag===0?ig(Ek.bind(null,e)):hg(Ek.bind(null,e)),Jf(function(){!(K&6)&&jg()}),i=null;else{switch(Dc(a)){case 1:i=fc;break;case 4:i=gc;break;case 16:i=hc;break;case 536870912:i=jc;break;default:i=hc}i=Fk(i,Gk.bind(null,e))}e.callbackPriority=s,e.callbackNode=i}}function Gk(e,s){if(Ak=-1,Bk=0,K&6)throw Error(p(327));var i=e.callbackNode;if(Hk()&&e.callbackNode!==i)return null;var a=uc(e,e===Q?Z:0);if(a===0)return null;if(a&30||a&e.expiredLanes||s)s=Ik(e,a);else{s=a;var o=K;K|=2;var c=Jk();(Q!==e||Z!==s)&&(uk=null,Gj=B()+500,Kk(e,s));do try{Lk();break}catch(d){Mk(e,d)}while(!0);$g(),mk.current=c,K=o,Y!==null?s=0:(Q=null,Z=0,s=T)}if(s!==0){if(s===2&&(o=xc(e),o!==0&&(a=o,s=Nk(e,o))),s===1)throw i=pk,Kk(e,0),Ck(e,a),Dk(e,B()),i;if(s===6)Ck(e,a);else{if(o=e.current.alternate,!(a&30)&&!Ok(o)&&(s=Ik(e,a),s===2&&(c=xc(e),c!==0&&(a=c,s=Nk(e,c))),s===1))throw i=pk,Kk(e,0),Ck(e,a),Dk(e,B()),i;switch(e.finishedWork=o,e.finishedLanes=a,s){case 0:case 1:throw Error(p(345));case 2:Pk(e,tk,uk);break;case 3:if(Ck(e,a),(a&130023424)===a&&(s=fk+500-B(),10<s)){if(uc(e,0)!==0)break;if(o=e.suspendedLanes,(o&a)!==a){R(),e.pingedLanes|=e.suspendedLanes&o;break}e.timeoutHandle=Ff(Pk.bind(null,e,tk,uk),s);break}Pk(e,tk,uk);break;case 4:if(Ck(e,a),(a&4194240)===a)break;for(s=e.eventTimes,o=-1;0<a;){var h=31-oc(a);c=1<<h,h=s[h],h>o&&(o=h),a&=~c}if(a=o,a=B()-a,a=(120>a?120:480>a?480:1080>a?1080:1920>a?1920:3e3>a?3e3:4320>a?4320:1960*lk(a/1960))-a,10<a){e.timeoutHandle=Ff(Pk.bind(null,e,tk,uk),a);break}Pk(e,tk,uk);break;case 5:Pk(e,tk,uk);break;default:throw Error(p(329))}}}return Dk(e,B()),e.callbackNode===i?Gk.bind(null,e):null}function Nk(e,s){var i=sk;return e.current.memoizedState.isDehydrated&&(Kk(e,s).flags|=256),e=Ik(e,s),e!==2&&(s=tk,tk=i,s!==null&&Fj(s)),e}function Fj(e){tk===null?tk=e:tk.push.apply(tk,e)}function Ok(e){for(var s=e;;){if(s.flags&16384){var i=s.updateQueue;if(i!==null&&(i=i.stores,i!==null))for(var a=0;a<i.length;a++){var o=i[a],c=o.getSnapshot;o=o.value;try{if(!He(c(),o))return!1}catch{return!1}}}if(i=s.child,s.subtreeFlags&16384&&i!==null)i.return=s,s=i;else{if(s===e)break;for(;s.sibling===null;){if(s.return===null||s.return===e)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function Ck(e,s){for(s&=~rk,s&=~qk,e.suspendedLanes|=s,e.pingedLanes&=~s,e=e.expirationTimes;0<s;){var i=31-oc(s),a=1<<i;e[i]=-1,s&=~a}}function Ek(e){if(K&6)throw Error(p(327));Hk();var s=uc(e,0);if(!(s&1))return Dk(e,B()),null;var i=Ik(e,s);if(e.tag!==0&&i===2){var a=xc(e);a!==0&&(s=a,i=Nk(e,a))}if(i===1)throw i=pk,Kk(e,0),Ck(e,s),Dk(e,B()),i;if(i===6)throw Error(p(345));return e.finishedWork=e.current.alternate,e.finishedLanes=s,Pk(e,tk,uk),Dk(e,B()),null}function Qk(e,s){var i=K;K|=1;try{return e(s)}finally{K=i,K===0&&(Gj=B()+500,fg&&jg())}}function Rk(e){wk!==null&&wk.tag===0&&!(K&6)&&Hk();var s=K;K|=1;var i=ok.transition,a=C;try{if(ok.transition=null,C=1,e)return e()}finally{C=a,ok.transition=i,K=s,!(K&6)&&jg()}}function Hj(){fj=ej.current,E(ej)}function Kk(e,s){e.finishedWork=null,e.finishedLanes=0;var i=e.timeoutHandle;if(i!==-1&&(e.timeoutHandle=-1,Gf(i)),Y!==null)for(i=Y.return;i!==null;){var a=i;switch(wg(a),a.tag){case 1:a=a.type.childContextTypes,a!=null&&$f();break;case 3:zh(),E(Wf),E(H),Eh();break;case 5:Bh(a);break;case 4:zh();break;case 13:E(L);break;case 19:E(L);break;case 10:ah(a.type._context);break;case 22:case 23:Hj()}i=i.return}if(Q=e,Y=e=Pg(e.current,null),Z=fj=s,T=0,pk=null,rk=qk=rh=0,tk=sk=null,fh!==null){for(s=0;s<fh.length;s++)if(i=fh[s],a=i.interleaved,a!==null){i.interleaved=null;var o=a.next,c=i.pending;if(c!==null){var h=c.next;c.next=o,a.next=h}i.pending=a}fh=null}return e}function Mk(e,s){do{var i=Y;try{if($g(),Fh.current=Rh,Ih){for(var a=M.memoizedState;a!==null;){var o=a.queue;o!==null&&(o.pending=null),a=a.next}Ih=!1}if(Hh=0,O=N=M=null,Jh=!1,Kh=0,nk.current=null,i===null||i.return===null){T=1,pk=s,Y=null;break}e:{var c=e,h=i.return,d=i,g=s;if(s=Z,d.flags|=32768,g!==null&&typeof g=="object"&&typeof g.then=="function"){var b=g,_=d,$=_.tag;if(!(_.mode&1)&&($===0||$===11||$===15)){var j=_.alternate;j?(_.updateQueue=j.updateQueue,_.memoizedState=j.memoizedState,_.lanes=j.lanes):(_.updateQueue=null,_.memoizedState=null)}var st=Ui(h);if(st!==null){st.flags&=-257,Vi(st,h,d,c,s),st.mode&1&&Si(c,b,s),s=st,g=b;var tt=s.updateQueue;if(tt===null){var nt=new Set;nt.add(g),s.updateQueue=nt}else tt.add(g);break e}else{if(!(s&1)){Si(c,b,s),tj();break e}g=Error(p(426))}}else if(I&&d.mode&1){var at=Ui(h);if(at!==null){!(at.flags&65536)&&(at.flags|=256),Vi(at,h,d,c,s),Jg(Ji(g,d));break e}}c=g=Ji(g,d),T!==4&&(T=2),sk===null?sk=[c]:sk.push(c),c=h;do{switch(c.tag){case 3:c.flags|=65536,s&=-s,c.lanes|=s;var _e=Ni(c,g,s);ph(c,_e);break e;case 1:d=g;var rt=c.type,et=c.stateNode;if(!(c.flags&128)&&(typeof rt.getDerivedStateFromError=="function"||et!==null&&typeof et.componentDidCatch=="function"&&(Ri===null||!Ri.has(et)))){c.flags|=65536,s&=-s,c.lanes|=s;var it=Qi(c,d,s);ph(c,it);break e}}c=c.return}while(c!==null)}Sk(i)}catch(ot){s=ot,Y===i&&i!==null&&(Y=i=i.return);continue}break}while(!0)}function Jk(){var e=mk.current;return mk.current=Rh,e===null?Rh:e}function tj(){(T===0||T===3||T===2)&&(T=4),Q===null||!(rh&268435455)&&!(qk&268435455)||Ck(Q,Z)}function Ik(e,s){var i=K;K|=2;var a=Jk();(Q!==e||Z!==s)&&(uk=null,Kk(e,s));do try{Tk();break}catch(o){Mk(e,o)}while(!0);if($g(),K=i,mk.current=a,Y!==null)throw Error(p(261));return Q=null,Z=0,T}function Tk(){for(;Y!==null;)Uk(Y)}function Lk(){for(;Y!==null&&!cc();)Uk(Y)}function Uk(e){var s=Vk(e.alternate,e,fj);e.memoizedProps=e.pendingProps,s===null?Sk(e):Y=s,nk.current=null}function Sk(e){var s=e;do{var i=s.alternate;if(e=s.return,s.flags&32768){if(i=Ij(i,s),i!==null){i.flags&=32767,Y=i;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{T=6,Y=null;return}}else if(i=Ej(i,s,fj),i!==null){Y=i;return}if(s=s.sibling,s!==null){Y=s;return}Y=s=e}while(s!==null);T===0&&(T=5)}function Pk(e,s,i){var a=C,o=ok.transition;try{ok.transition=null,C=1,Wk(e,s,i,a)}finally{ok.transition=o,C=a}return null}function Wk(e,s,i,a){do Hk();while(wk!==null);if(K&6)throw Error(p(327));i=e.finishedWork;var o=e.finishedLanes;if(i===null)return null;if(e.finishedWork=null,e.finishedLanes=0,i===e.current)throw Error(p(177));e.callbackNode=null,e.callbackPriority=0;var c=i.lanes|i.childLanes;if(Bc(e,c),e===Q&&(Y=Q=null,Z=0),!(i.subtreeFlags&2064)&&!(i.flags&2064)||vk||(vk=!0,Fk(hc,function(){return Hk(),null})),c=(i.flags&15990)!==0,i.subtreeFlags&15990||c){c=ok.transition,ok.transition=null;var h=C;C=1;var d=K;K|=4,nk.current=null,Oj(e,i),dk(i,e),Oe(Df),dd=!!Cf,Df=Cf=null,e.current=i,hk(i),dc(),K=d,C=h,ok.transition=c}else e.current=i;if(vk&&(vk=!1,wk=e,xk=o),c=e.pendingLanes,c===0&&(Ri=null),mc(i.stateNode),Dk(e,B()),s!==null)for(a=e.onRecoverableError,i=0;i<s.length;i++)o=s[i],a(o.value,{componentStack:o.stack,digest:o.digest});if(Oi)throw Oi=!1,e=Pi,Pi=null,e;return xk&1&&e.tag!==0&&Hk(),c=e.pendingLanes,c&1?e===zk?yk++:(yk=0,zk=e):yk=0,jg(),null}function Hk(){if(wk!==null){var e=Dc(xk),s=ok.transition,i=C;try{if(ok.transition=null,C=16>e?16:e,wk===null)var a=!1;else{if(e=wk,wk=null,xk=0,K&6)throw Error(p(331));var o=K;for(K|=4,V=e.current;V!==null;){var c=V,h=c.child;if(V.flags&16){var d=c.deletions;if(d!==null){for(var g=0;g<d.length;g++){var b=d[g];for(V=b;V!==null;){var _=V;switch(_.tag){case 0:case 11:case 15:Pj(8,_,c)}var $=_.child;if($!==null)$.return=_,V=$;else for(;V!==null;){_=V;var j=_.sibling,st=_.return;if(Sj(_),_===b){V=null;break}if(j!==null){j.return=st,V=j;break}V=st}}}var tt=c.alternate;if(tt!==null){var nt=tt.child;if(nt!==null){tt.child=null;do{var at=nt.sibling;nt.sibling=null,nt=at}while(nt!==null)}}V=c}}if(c.subtreeFlags&2064&&h!==null)h.return=c,V=h;else e:for(;V!==null;){if(c=V,c.flags&2048)switch(c.tag){case 0:case 11:case 15:Pj(9,c,c.return)}var _e=c.sibling;if(_e!==null){_e.return=c.return,V=_e;break e}V=c.return}}var rt=e.current;for(V=rt;V!==null;){h=V;var et=h.child;if(h.subtreeFlags&2064&&et!==null)et.return=h,V=et;else e:for(h=rt;V!==null;){if(d=V,d.flags&2048)try{switch(d.tag){case 0:case 11:case 15:Qj(9,d)}}catch(ot){W(d,d.return,ot)}if(d===h){V=null;break e}var it=d.sibling;if(it!==null){it.return=d.return,V=it;break e}V=d.return}}if(K=o,jg(),lc&&typeof lc.onPostCommitFiberRoot=="function")try{lc.onPostCommitFiberRoot(kc,e)}catch{}a=!0}return a}finally{C=i,ok.transition=s}}return!1}function Xk(e,s,i){s=Ji(i,s),s=Ni(e,s,1),e=nh(e,s,1),s=R(),e!==null&&(Ac(e,1,s),Dk(e,s))}function W(e,s,i){if(e.tag===3)Xk(e,e,i);else for(;s!==null;){if(s.tag===3){Xk(s,e,i);break}else if(s.tag===1){var a=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof a.componentDidCatch=="function"&&(Ri===null||!Ri.has(a))){e=Ji(i,e),e=Qi(s,e,1),s=nh(s,e,1),e=R(),s!==null&&(Ac(s,1,e),Dk(s,e));break}}s=s.return}}function Ti(e,s,i){var a=e.pingCache;a!==null&&a.delete(s),s=R(),e.pingedLanes|=e.suspendedLanes&i,Q===e&&(Z&i)===i&&(T===4||T===3&&(Z&130023424)===Z&&500>B()-fk?Kk(e,0):rk|=i),Dk(e,s)}function Yk(e,s){s===0&&(e.mode&1?(s=sc,sc<<=1,!(sc&130023424)&&(sc=4194304)):s=1);var i=R();e=ih(e,s),e!==null&&(Ac(e,s,i),Dk(e,i))}function uj(e){var s=e.memoizedState,i=0;s!==null&&(i=s.retryLane),Yk(e,i)}function bk(e,s){var i=0;switch(e.tag){case 13:var a=e.stateNode,o=e.memoizedState;o!==null&&(i=o.retryLane);break;case 19:a=e.stateNode;break;default:throw Error(p(314))}a!==null&&a.delete(s),Yk(e,i)}var Vk;Vk=function(e,s,i){if(e!==null)if(e.memoizedProps!==s.pendingProps||Wf.current)dh=!0;else{if(!(e.lanes&i)&&!(s.flags&128))return dh=!1,yj(e,s,i);dh=!!(e.flags&131072)}else dh=!1,I&&s.flags&1048576&&ug(s,ng,s.index);switch(s.lanes=0,s.tag){case 2:var a=s.type;ij(e,s),e=s.pendingProps;var o=Yf(s,H.current);ch(s,i),o=Nh(null,s,a,e,o,i);var c=Sh();return s.flags|=1,typeof o=="object"&&o!==null&&typeof o.render=="function"&&o.$$typeof===void 0?(s.tag=1,s.memoizedState=null,s.updateQueue=null,Zf(a)?(c=!0,cg(s)):c=!1,s.memoizedState=o.state!==null&&o.state!==void 0?o.state:null,kh(s),o.updater=Ei,s.stateNode=o,o._reactInternals=s,Ii(s,a,e,i),s=jj(null,s,a,!0,c,i)):(s.tag=0,I&&c&&vg(s),Xi(null,s,o,i),s=s.child),s;case 16:a=s.elementType;e:{switch(ij(e,s),e=s.pendingProps,o=a._init,a=o(a._payload),s.type=a,o=s.tag=Zk(a),e=Ci(a,e),o){case 0:s=cj(null,s,a,e,i);break e;case 1:s=hj(null,s,a,e,i);break e;case 11:s=Yi(null,s,a,e,i);break e;case 14:s=$i(null,s,a,Ci(a.type,e),i);break e}throw Error(p(306,a,""))}return s;case 0:return a=s.type,o=s.pendingProps,o=s.elementType===a?o:Ci(a,o),cj(e,s,a,o,i);case 1:return a=s.type,o=s.pendingProps,o=s.elementType===a?o:Ci(a,o),hj(e,s,a,o,i);case 3:e:{if(kj(s),e===null)throw Error(p(387));a=s.pendingProps,c=s.memoizedState,o=c.element,lh(e,s),qh(s,a,null,i);var h=s.memoizedState;if(a=h.element,c.isDehydrated)if(c={element:a,isDehydrated:!1,cache:h.cache,pendingSuspenseBoundaries:h.pendingSuspenseBoundaries,transitions:h.transitions},s.updateQueue.baseState=c,s.memoizedState=c,s.flags&256){o=Ji(Error(p(423)),s),s=lj(e,s,a,i,o);break e}else if(a!==o){o=Ji(Error(p(424)),s),s=lj(e,s,a,i,o);break e}else for(yg=Lf(s.stateNode.containerInfo.firstChild),xg=s,I=!0,zg=null,i=Vg(s,null,a,i),s.child=i;i;)i.flags=i.flags&-3|4096,i=i.sibling;else{if(Ig(),a===o){s=Zi(e,s,i);break e}Xi(e,s,a,i)}s=s.child}return s;case 5:return Ah(s),e===null&&Eg(s),a=s.type,o=s.pendingProps,c=e!==null?e.memoizedProps:null,h=o.children,Ef(a,o)?h=null:c!==null&&Ef(a,c)&&(s.flags|=32),gj(e,s),Xi(e,s,h,i),s.child;case 6:return e===null&&Eg(s),null;case 13:return oj(e,s,i);case 4:return yh(s,s.stateNode.containerInfo),a=s.pendingProps,e===null?s.child=Ug(s,null,a,i):Xi(e,s,a,i),s.child;case 11:return a=s.type,o=s.pendingProps,o=s.elementType===a?o:Ci(a,o),Yi(e,s,a,o,i);case 7:return Xi(e,s,s.pendingProps,i),s.child;case 8:return Xi(e,s,s.pendingProps.children,i),s.child;case 12:return Xi(e,s,s.pendingProps.children,i),s.child;case 10:e:{if(a=s.type._context,o=s.pendingProps,c=s.memoizedProps,h=o.value,G(Wg,a._currentValue),a._currentValue=h,c!==null)if(He(c.value,h)){if(c.children===o.children&&!Wf.current){s=Zi(e,s,i);break e}}else for(c=s.child,c!==null&&(c.return=s);c!==null;){var d=c.dependencies;if(d!==null){h=c.child;for(var g=d.firstContext;g!==null;){if(g.context===a){if(c.tag===1){g=mh(-1,i&-i),g.tag=2;var b=c.updateQueue;if(b!==null){b=b.shared;var _=b.pending;_===null?g.next=g:(g.next=_.next,_.next=g),b.pending=g}}c.lanes|=i,g=c.alternate,g!==null&&(g.lanes|=i),bh(c.return,i,s),d.lanes|=i;break}g=g.next}}else if(c.tag===10)h=c.type===s.type?null:c.child;else if(c.tag===18){if(h=c.return,h===null)throw Error(p(341));h.lanes|=i,d=h.alternate,d!==null&&(d.lanes|=i),bh(h,i,s),h=c.sibling}else h=c.child;if(h!==null)h.return=c;else for(h=c;h!==null;){if(h===s){h=null;break}if(c=h.sibling,c!==null){c.return=h.return,h=c;break}h=h.return}c=h}Xi(e,s,o.children,i),s=s.child}return s;case 9:return o=s.type,a=s.pendingProps.children,ch(s,i),o=eh(o),a=a(o),s.flags|=1,Xi(e,s,a,i),s.child;case 14:return a=s.type,o=Ci(a,s.pendingProps),o=Ci(a.type,o),$i(e,s,a,o,i);case 15:return bj(e,s,s.type,s.pendingProps,i);case 17:return a=s.type,o=s.pendingProps,o=s.elementType===a?o:Ci(a,o),ij(e,s),s.tag=1,Zf(a)?(e=!0,cg(s)):e=!1,ch(s,i),Gi(s,a,o),Ii(s,a,o,i),jj(null,s,a,!0,e,i);case 19:return xj(e,s,i);case 22:return dj(e,s,i)}throw Error(p(156,s.tag))};function Fk(e,s){return ac(e,s)}function $k(e,s,i,a){this.tag=e,this.key=i,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=a,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Bg(e,s,i,a){return new $k(e,s,i,a)}function aj(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Zk(e){if(typeof e=="function")return aj(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Da)return 11;if(e===Ga)return 14}return 2}function Pg(e,s){var i=e.alternate;return i===null?(i=Bg(e.tag,s,e.key,e.mode),i.elementType=e.elementType,i.type=e.type,i.stateNode=e.stateNode,i.alternate=e,e.alternate=i):(i.pendingProps=s,i.type=e.type,i.flags=0,i.subtreeFlags=0,i.deletions=null),i.flags=e.flags&14680064,i.childLanes=e.childLanes,i.lanes=e.lanes,i.child=e.child,i.memoizedProps=e.memoizedProps,i.memoizedState=e.memoizedState,i.updateQueue=e.updateQueue,s=e.dependencies,i.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},i.sibling=e.sibling,i.index=e.index,i.ref=e.ref,i}function Rg(e,s,i,a,o,c){var h=2;if(a=e,typeof e=="function")aj(e)&&(h=1);else if(typeof e=="string")h=5;else e:switch(e){case ya:return Tg(i.children,o,c,s);case za:h=8,o|=8;break;case Aa:return e=Bg(12,i,s,o|2),e.elementType=Aa,e.lanes=c,e;case Ea:return e=Bg(13,i,s,o),e.elementType=Ea,e.lanes=c,e;case Fa:return e=Bg(19,i,s,o),e.elementType=Fa,e.lanes=c,e;case Ia:return pj(i,o,c,s);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Ba:h=10;break e;case Ca:h=9;break e;case Da:h=11;break e;case Ga:h=14;break e;case Ha:h=16,a=null;break e}throw Error(p(130,e==null?e:typeof e,""))}return s=Bg(h,i,s,o),s.elementType=e,s.type=a,s.lanes=c,s}function Tg(e,s,i,a){return e=Bg(7,e,a,s),e.lanes=i,e}function pj(e,s,i,a){return e=Bg(22,e,a,s),e.elementType=Ia,e.lanes=i,e.stateNode={isHidden:!1},e}function Qg(e,s,i){return e=Bg(6,e,null,s),e.lanes=i,e}function Sg(e,s,i){return s=Bg(4,e.children!==null?e.children:[],e.key,s),s.lanes=i,s.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},s}function al(e,s,i,a,o){this.tag=s,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=zc(0),this.expirationTimes=zc(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=zc(0),this.identifierPrefix=a,this.onRecoverableError=o,this.mutableSourceEagerHydrationData=null}function bl(e,s,i,a,o,c,h,d,g){return e=new al(e,s,i,d,g),s===1?(s=1,c===!0&&(s|=8)):s=0,c=Bg(3,null,null,s),e.current=c,c.stateNode=e,c.memoizedState={element:a,isDehydrated:i,cache:null,transitions:null,pendingSuspenseBoundaries:null},kh(c),e}function cl(e,s,i){var a=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:wa,key:a==null?null:""+a,children:e,containerInfo:s,implementation:i}}function dl(e){if(!e)return Vf;e=e._reactInternals;e:{if(Vb(e)!==e||e.tag!==1)throw Error(p(170));var s=e;do{switch(s.tag){case 3:s=s.stateNode.context;break e;case 1:if(Zf(s.type)){s=s.stateNode.__reactInternalMemoizedMergedChildContext;break e}}s=s.return}while(s!==null);throw Error(p(171))}if(e.tag===1){var i=e.type;if(Zf(i))return bg(e,i,s)}return s}function el(e,s,i,a,o,c,h,d,g){return e=bl(i,a,!0,e,o,c,h,d,g),e.context=dl(null),i=e.current,a=R(),o=yi(i),c=mh(a,o),c.callback=s??null,nh(i,c,o),e.current.lanes=o,Ac(e,o,a),Dk(e,a),e}function fl(e,s,i,a){var o=s.current,c=R(),h=yi(o);return i=dl(i),s.context===null?s.context=i:s.pendingContext=i,s=mh(c,h),s.payload={element:e},a=a===void 0?null:a,a!==null&&(s.callback=a),e=nh(o,s,h),e!==null&&(gi(e,o,h,c),oh(e,o,h)),h}function gl(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function hl(e,s){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var i=e.retryLane;e.retryLane=i!==0&&i<s?i:s}}function il(e,s){hl(e,s),(e=e.alternate)&&hl(e,s)}function jl(){return null}var kl=typeof reportError=="function"?reportError:function(e){console.error(e)};function ll(e){this._internalRoot=e}ml.prototype.render=ll.prototype.render=function(e){var s=this._internalRoot;if(s===null)throw Error(p(409));fl(e,s,null,null)};ml.prototype.unmount=ll.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var s=e.containerInfo;Rk(function(){fl(null,e,null,null)}),s[uf]=null}};function ml(e){this._internalRoot=e}ml.prototype.unstable_scheduleHydration=function(e){if(e){var s=Hc();e={blockedOn:null,target:e,priority:s};for(var i=0;i<Qc.length&&s!==0&&s<Qc[i].priority;i++);Qc.splice(i,0,e),i===0&&Vc(e)}};function nl(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function ol(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function pl(){}function ql(e,s,i,a,o){if(o){if(typeof a=="function"){var c=a;a=function(){var b=gl(h);c.call(b)}}var h=el(s,a,e,0,null,!1,!1,"",pl);return e._reactRootContainer=h,e[uf]=h.current,sf(e.nodeType===8?e.parentNode:e),Rk(),h}for(;o=e.lastChild;)e.removeChild(o);if(typeof a=="function"){var d=a;a=function(){var b=gl(g);d.call(b)}}var g=bl(e,0,!1,null,null,!1,!1,"",pl);return e._reactRootContainer=g,e[uf]=g.current,sf(e.nodeType===8?e.parentNode:e),Rk(function(){fl(s,g,i,a)}),g}function rl(e,s,i,a,o){var c=i._reactRootContainer;if(c){var h=c;if(typeof o=="function"){var d=o;o=function(){var g=gl(h);d.call(g)}}fl(s,h,e,o)}else h=ql(i,s,e,o,a);return gl(h)}Ec=function(e){switch(e.tag){case 3:var s=e.stateNode;if(s.current.memoizedState.isDehydrated){var i=tc(s.pendingLanes);i!==0&&(Cc(s,i|1),Dk(s,B()),!(K&6)&&(Gj=B()+500,jg()))}break;case 13:Rk(function(){var a=ih(e,1);if(a!==null){var o=R();gi(a,e,1,o)}}),il(e,1)}};Fc=function(e){if(e.tag===13){var s=ih(e,134217728);if(s!==null){var i=R();gi(s,e,134217728,i)}il(e,134217728)}};Gc=function(e){if(e.tag===13){var s=yi(e),i=ih(e,s);if(i!==null){var a=R();gi(i,e,s,a)}il(e,s)}};Hc=function(){return C};Ic=function(e,s){var i=C;try{return C=e,s()}finally{C=i}};yb=function(e,s,i){switch(s){case"input":if(bb(e,i),s=i.name,i.type==="radio"&&s!=null){for(i=e;i.parentNode;)i=i.parentNode;for(i=i.querySelectorAll("input[name="+JSON.stringify(""+s)+'][type="radio"]'),s=0;s<i.length;s++){var a=i[s];if(a!==e&&a.form===e.form){var o=Db(a);if(!o)throw Error(p(90));Wa(a),bb(a,o)}}}break;case"textarea":ib(e,i);break;case"select":s=i.value,s!=null&&fb(e,!!i.multiple,s,!1)}};Gb=Qk;Hb=Rk;var sl={usingClientEntryPoint:!1,Events:[Cb,ue,Db,Eb,Fb,Qk]},tl={findFiberByHostInstance:Wc,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},ul={bundleType:tl.bundleType,version:tl.version,rendererPackageName:tl.rendererPackageName,rendererConfig:tl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ua.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Zb(e),e===null?null:e.stateNode},findFiberByHostInstance:tl.findFiberByHostInstance||jl,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var vl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!vl.isDisabled&&vl.supportsFiber)try{kc=vl.inject(ul),lc=vl}catch{}}reactDom_production_min.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=sl;reactDom_production_min.createPortal=function(e,s){var i=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!nl(s))throw Error(p(200));return cl(e,s,null,i)};reactDom_production_min.createRoot=function(e,s){if(!nl(e))throw Error(p(299));var i=!1,a="",o=kl;return s!=null&&(s.unstable_strictMode===!0&&(i=!0),s.identifierPrefix!==void 0&&(a=s.identifierPrefix),s.onRecoverableError!==void 0&&(o=s.onRecoverableError)),s=bl(e,1,!1,null,null,i,!1,a,o),e[uf]=s.current,sf(e.nodeType===8?e.parentNode:e),new ll(s)};reactDom_production_min.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var s=e._reactInternals;if(s===void 0)throw typeof e.render=="function"?Error(p(188)):(e=Object.keys(e).join(","),Error(p(268,e)));return e=Zb(s),e=e===null?null:e.stateNode,e};reactDom_production_min.flushSync=function(e){return Rk(e)};reactDom_production_min.hydrate=function(e,s,i){if(!ol(s))throw Error(p(200));return rl(null,e,s,!0,i)};reactDom_production_min.hydrateRoot=function(e,s,i){if(!nl(e))throw Error(p(405));var a=i!=null&&i.hydratedSources||null,o=!1,c="",h=kl;if(i!=null&&(i.unstable_strictMode===!0&&(o=!0),i.identifierPrefix!==void 0&&(c=i.identifierPrefix),i.onRecoverableError!==void 0&&(h=i.onRecoverableError)),s=el(s,null,e,1,i??null,o,!1,c,h),e[uf]=s.current,sf(e),a)for(e=0;e<a.length;e++)i=a[e],o=i._getVersion,o=o(i._source),s.mutableSourceEagerHydrationData==null?s.mutableSourceEagerHydrationData=[i,o]:s.mutableSourceEagerHydrationData.push(i,o);return new ml(s)};reactDom_production_min.render=function(e,s,i){if(!ol(s))throw Error(p(200));return rl(null,e,s,!1,i)};reactDom_production_min.unmountComponentAtNode=function(e){if(!ol(e))throw Error(p(40));return e._reactRootContainer?(Rk(function(){rl(null,null,e,!1,function(){e._reactRootContainer=null,e[uf]=null})}),!0):!1};reactDom_production_min.unstable_batchedUpdates=Qk;reactDom_production_min.unstable_renderSubtreeIntoContainer=function(e,s,i,a){if(!ol(i))throw Error(p(200));if(e==null||e._reactInternals===void 0)throw Error(p(38));return rl(e,s,i,!1,a)};reactDom_production_min.version="18.3.1-next-f1338f8080-20240426";function checkDCE(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(checkDCE)}catch(e){console.error(e)}}checkDCE(),reactDom.exports=reactDom_production_min;var reactDomExports=reactDom.exports,createRoot,m=reactDomExports;createRoot=m.createRoot,m.hydrateRoot;function bind(e,s){return function(){return e.apply(s,arguments)}}const{toString}=Object.prototype,{getPrototypeOf}=Object,{iterator,toStringTag}=Symbol,kindOf=(e=>s=>{const i=toString.call(s);return e[i]||(e[i]=i.slice(8,-1).toLowerCase())})(Object.create(null)),kindOfTest=e=>(e=e.toLowerCase(),s=>kindOf(s)===e),typeOfTest=e=>s=>typeof s===e,{isArray}=Array,isUndefined=typeOfTest("undefined");function isBuffer(e){return e!==null&&!isUndefined(e)&&e.constructor!==null&&!isUndefined(e.constructor)&&isFunction(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const isArrayBuffer=kindOfTest("ArrayBuffer");function isArrayBufferView(e){let s;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?s=ArrayBuffer.isView(e):s=e&&e.buffer&&isArrayBuffer(e.buffer),s}const isString=typeOfTest("string"),isFunction=typeOfTest("function"),isNumber=typeOfTest("number"),isObject=e=>e!==null&&typeof e=="object",isBoolean=e=>e===!0||e===!1,isPlainObject=e=>{if(kindOf(e)!=="object")return!1;const s=getPrototypeOf(e);return(s===null||s===Object.prototype||Object.getPrototypeOf(s)===null)&&!(toStringTag in e)&&!(iterator in e)},isDate=kindOfTest("Date"),isFile=kindOfTest("File"),isBlob=kindOfTest("Blob"),isFileList=kindOfTest("FileList"),isStream=e=>isObject(e)&&isFunction(e.pipe),isFormData=e=>{let s;return e&&(typeof FormData=="function"&&e instanceof FormData||isFunction(e.append)&&((s=kindOf(e))==="formdata"||s==="object"&&isFunction(e.toString)&&e.toString()==="[object FormData]"))},isURLSearchParams=kindOfTest("URLSearchParams"),[isReadableStream,isRequest,isResponse,isHeaders]=["ReadableStream","Request","Response","Headers"].map(kindOfTest),trim=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function forEach(e,s,{allOwnKeys:i=!1}={}){if(e===null||typeof e>"u")return;let a,o;if(typeof e!="object"&&(e=[e]),isArray(e))for(a=0,o=e.length;a<o;a++)s.call(null,e[a],a,e);else{const c=i?Object.getOwnPropertyNames(e):Object.keys(e),h=c.length;let d;for(a=0;a<h;a++)d=c[a],s.call(null,e[d],d,e)}}function findKey(e,s){s=s.toLowerCase();const i=Object.keys(e);let a=i.length,o;for(;a-- >0;)if(o=i[a],s===o.toLowerCase())return o;return null}const _global=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,isContextDefined=e=>!isUndefined(e)&&e!==_global;function merge(){const{caseless:e}=isContextDefined(this)&&this||{},s={},i=(a,o)=>{const c=e&&findKey(s,o)||o;isPlainObject(s[c])&&isPlainObject(a)?s[c]=merge(s[c],a):isPlainObject(a)?s[c]=merge({},a):isArray(a)?s[c]=a.slice():s[c]=a};for(let a=0,o=arguments.length;a<o;a++)arguments[a]&&forEach(arguments[a],i);return s}const extend=(e,s,i,{allOwnKeys:a}={})=>(forEach(s,(o,c)=>{i&&isFunction(o)?e[c]=bind(o,i):e[c]=o},{allOwnKeys:a}),e),stripBOM=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),inherits=(e,s,i,a)=>{e.prototype=Object.create(s.prototype,a),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:s.prototype}),i&&Object.assign(e.prototype,i)},toFlatObject=(e,s,i,a)=>{let o,c,h;const d={};if(s=s||{},e==null)return s;do{for(o=Object.getOwnPropertyNames(e),c=o.length;c-- >0;)h=o[c],(!a||a(h,e,s))&&!d[h]&&(s[h]=e[h],d[h]=!0);e=i!==!1&&getPrototypeOf(e)}while(e&&(!i||i(e,s))&&e!==Object.prototype);return s},endsWith=(e,s,i)=>{e=String(e),(i===void 0||i>e.length)&&(i=e.length),i-=s.length;const a=e.indexOf(s,i);return a!==-1&&a===i},toArray$1=e=>{if(!e)return null;if(isArray(e))return e;let s=e.length;if(!isNumber(s))return null;const i=new Array(s);for(;s-- >0;)i[s]=e[s];return i},isTypedArray=(e=>s=>e&&s instanceof e)(typeof Uint8Array<"u"&&getPrototypeOf(Uint8Array)),forEachEntry=(e,s)=>{const a=(e&&e[iterator]).call(e);let o;for(;(o=a.next())&&!o.done;){const c=o.value;s.call(e,c[0],c[1])}},matchAll=(e,s)=>{let i;const a=[];for(;(i=e.exec(s))!==null;)a.push(i);return a},isHTMLForm=kindOfTest("HTMLFormElement"),toCamelCase=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(i,a,o){return a.toUpperCase()+o}),hasOwnProperty=(({hasOwnProperty:e})=>(s,i)=>e.call(s,i))(Object.prototype),isRegExp=kindOfTest("RegExp"),reduceDescriptors=(e,s)=>{const i=Object.getOwnPropertyDescriptors(e),a={};forEach(i,(o,c)=>{let h;(h=s(o,c,e))!==!1&&(a[c]=h||o)}),Object.defineProperties(e,a)},freezeMethods=e=>{reduceDescriptors(e,(s,i)=>{if(isFunction(e)&&["arguments","caller","callee"].indexOf(i)!==-1)return!1;const a=e[i];if(isFunction(a)){if(s.enumerable=!1,"writable"in s){s.writable=!1;return}s.set||(s.set=()=>{throw Error("Can not rewrite read-only method '"+i+"'")})}})},toObjectSet=(e,s)=>{const i={},a=o=>{o.forEach(c=>{i[c]=!0})};return isArray(e)?a(e):a(String(e).split(s)),i},noop$3=()=>{},toFiniteNumber=(e,s)=>e!=null&&Number.isFinite(e=+e)?e:s;function isSpecCompliantForm(e){return!!(e&&isFunction(e.append)&&e[toStringTag]==="FormData"&&e[iterator])}const toJSONObject=e=>{const s=new Array(10),i=(a,o)=>{if(isObject(a)){if(s.indexOf(a)>=0)return;if(!("toJSON"in a)){s[o]=a;const c=isArray(a)?[]:{};return forEach(a,(h,d)=>{const g=i(h,o+1);!isUndefined(g)&&(c[d]=g)}),s[o]=void 0,c}}return a};return i(e,0)},isAsyncFn=kindOfTest("AsyncFunction"),isThenable=e=>e&&(isObject(e)||isFunction(e))&&isFunction(e.then)&&isFunction(e.catch),_setImmediate=((e,s)=>e?setImmediate:s?((i,a)=>(_global.addEventListener("message",({source:o,data:c})=>{o===_global&&c===i&&a.length&&a.shift()()},!1),o=>{a.push(o),_global.postMessage(i,"*")}))(`axios@${Math.random()}`,[]):i=>setTimeout(i))(typeof setImmediate=="function",isFunction(_global.postMessage)),asap=typeof queueMicrotask<"u"?queueMicrotask.bind(_global):typeof process<"u"&&process.nextTick||_setImmediate,isIterable=e=>e!=null&&isFunction(e[iterator]),utils$1={isArray,isArrayBuffer,isBuffer,isFormData,isArrayBufferView,isString,isNumber,isBoolean,isObject,isPlainObject,isReadableStream,isRequest,isResponse,isHeaders,isUndefined,isDate,isFile,isBlob,isRegExp,isFunction,isStream,isURLSearchParams,isTypedArray,isFileList,forEach,merge,extend,trim,stripBOM,inherits,toFlatObject,kindOf,kindOfTest,endsWith,toArray:toArray$1,forEachEntry,matchAll,isHTMLForm,hasOwnProperty,hasOwnProp:hasOwnProperty,reduceDescriptors,freezeMethods,toObjectSet,toCamelCase,noop:noop$3,toFiniteNumber,findKey,global:_global,isContextDefined,isSpecCompliantForm,toJSONObject,isAsyncFn,isThenable,setImmediate:_setImmediate,asap,isIterable};function AxiosError(e,s,i,a,o){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",s&&(this.code=s),i&&(this.config=i),a&&(this.request=a),o&&(this.response=o,this.status=o.status?o.status:null)}utils$1.inherits(AxiosError,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:utils$1.toJSONObject(this.config),code:this.code,status:this.status}}});const prototype$1=AxiosError.prototype,descriptors={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{descriptors[e]={value:e}});Object.defineProperties(AxiosError,descriptors);Object.defineProperty(prototype$1,"isAxiosError",{value:!0});AxiosError.from=(e,s,i,a,o,c)=>{const h=Object.create(prototype$1);return utils$1.toFlatObject(e,h,function(g){return g!==Error.prototype},d=>d!=="isAxiosError"),AxiosError.call(h,e.message,s,i,a,o),h.cause=e,h.name=e.name,c&&Object.assign(h,c),h};const httpAdapter=null;function isVisitable(e){return utils$1.isPlainObject(e)||utils$1.isArray(e)}function removeBrackets(e){return utils$1.endsWith(e,"[]")?e.slice(0,-2):e}function renderKey(e,s,i){return e?e.concat(s).map(function(o,c){return o=removeBrackets(o),!i&&c?"["+o+"]":o}).join(i?".":""):s}function isFlatArray(e){return utils$1.isArray(e)&&!e.some(isVisitable)}const predicates=utils$1.toFlatObject(utils$1,{},null,function(s){return/^is[A-Z]/.test(s)});function toFormData(e,s,i){if(!utils$1.isObject(e))throw new TypeError("target must be an object");s=s||new FormData,i=utils$1.toFlatObject(i,{metaTokens:!0,dots:!1,indexes:!1},!1,function(nt,at){return!utils$1.isUndefined(at[nt])});const a=i.metaTokens,o=i.visitor||_,c=i.dots,h=i.indexes,g=(i.Blob||typeof Blob<"u"&&Blob)&&utils$1.isSpecCompliantForm(s);if(!utils$1.isFunction(o))throw new TypeError("visitor must be a function");function b(tt){if(tt===null)return"";if(utils$1.isDate(tt))return tt.toISOString();if(!g&&utils$1.isBlob(tt))throw new AxiosError("Blob is not supported. Use a Buffer instead.");return utils$1.isArrayBuffer(tt)||utils$1.isTypedArray(tt)?g&&typeof Blob=="function"?new Blob([tt]):Buffer.from(tt):tt}function _(tt,nt,at){let _e=tt;if(tt&&!at&&typeof tt=="object"){if(utils$1.endsWith(nt,"{}"))nt=a?nt:nt.slice(0,-2),tt=JSON.stringify(tt);else if(utils$1.isArray(tt)&&isFlatArray(tt)||(utils$1.isFileList(tt)||utils$1.endsWith(nt,"[]"))&&(_e=utils$1.toArray(tt)))return nt=removeBrackets(nt),_e.forEach(function(et,it){!(utils$1.isUndefined(et)||et===null)&&s.append(h===!0?renderKey([nt],it,c):h===null?nt:nt+"[]",b(et))}),!1}return isVisitable(tt)?!0:(s.append(renderKey(at,nt,c),b(tt)),!1)}const $=[],j=Object.assign(predicates,{defaultVisitor:_,convertValue:b,isVisitable});function st(tt,nt){if(!utils$1.isUndefined(tt)){if($.indexOf(tt)!==-1)throw Error("Circular reference detected in "+nt.join("."));$.push(tt),utils$1.forEach(tt,function(_e,rt){(!(utils$1.isUndefined(_e)||_e===null)&&o.call(s,_e,utils$1.isString(rt)?rt.trim():rt,nt,j))===!0&&st(_e,nt?nt.concat(rt):[rt])}),$.pop()}}if(!utils$1.isObject(e))throw new TypeError("data must be an object");return st(e),s}function encode$1(e){const s={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(a){return s[a]})}function AxiosURLSearchParams(e,s){this._pairs=[],e&&toFormData(e,this,s)}const prototype=AxiosURLSearchParams.prototype;prototype.append=function(s,i){this._pairs.push([s,i])};prototype.toString=function(s){const i=s?function(a){return s.call(this,a,encode$1)}:encode$1;return this._pairs.map(function(o){return i(o[0])+"="+i(o[1])},"").join("&")};function encode(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function buildURL(e,s,i){if(!s)return e;const a=i&&i.encode||encode;utils$1.isFunction(i)&&(i={serialize:i});const o=i&&i.serialize;let c;if(o?c=o(s,i):c=utils$1.isURLSearchParams(s)?s.toString():new AxiosURLSearchParams(s,i).toString(a),c){const h=e.indexOf("#");h!==-1&&(e=e.slice(0,h)),e+=(e.indexOf("?")===-1?"?":"&")+c}return e}class InterceptorManager{constructor(){this.handlers=[]}use(s,i,a){return this.handlers.push({fulfilled:s,rejected:i,synchronous:a?a.synchronous:!1,runWhen:a?a.runWhen:null}),this.handlers.length-1}eject(s){this.handlers[s]&&(this.handlers[s]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(s){utils$1.forEach(this.handlers,function(a){a!==null&&s(a)})}}const transitionalDefaults={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},URLSearchParams$1=typeof URLSearchParams<"u"?URLSearchParams:AxiosURLSearchParams,FormData$1=typeof FormData<"u"?FormData:null,Blob$1=typeof Blob<"u"?Blob:null,platform$1={isBrowser:!0,classes:{URLSearchParams:URLSearchParams$1,FormData:FormData$1,Blob:Blob$1},protocols:["http","https","file","blob","url","data"]},hasBrowserEnv=typeof window<"u"&&typeof document<"u",_navigator=typeof navigator=="object"&&navigator||void 0,hasStandardBrowserEnv=hasBrowserEnv&&(!_navigator||["ReactNative","NativeScript","NS"].indexOf(_navigator.product)<0),hasStandardBrowserWebWorkerEnv=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",origin=hasBrowserEnv&&window.location.href||"http://localhost",utils=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv,hasStandardBrowserEnv,hasStandardBrowserWebWorkerEnv,navigator:_navigator,origin},Symbol.toStringTag,{value:"Module"})),platform={...utils,...platform$1};function toURLEncodedForm(e,s){return toFormData(e,new platform.classes.URLSearchParams,Object.assign({visitor:function(i,a,o,c){return platform.isNode&&utils$1.isBuffer(i)?(this.append(a,i.toString("base64")),!1):c.defaultVisitor.apply(this,arguments)}},s))}function parsePropPath(e){return utils$1.matchAll(/\w+|\[(\w*)]/g,e).map(s=>s[0]==="[]"?"":s[1]||s[0])}function arrayToObject(e){const s={},i=Object.keys(e);let a;const o=i.length;let c;for(a=0;a<o;a++)c=i[a],s[c]=e[c];return s}function formDataToJSON(e){function s(i,a,o,c){let h=i[c++];if(h==="__proto__")return!0;const d=Number.isFinite(+h),g=c>=i.length;return h=!h&&utils$1.isArray(o)?o.length:h,g?(utils$1.hasOwnProp(o,h)?o[h]=[o[h],a]:o[h]=a,!d):((!o[h]||!utils$1.isObject(o[h]))&&(o[h]=[]),s(i,a,o[h],c)&&utils$1.isArray(o[h])&&(o[h]=arrayToObject(o[h])),!d)}if(utils$1.isFormData(e)&&utils$1.isFunction(e.entries)){const i={};return utils$1.forEachEntry(e,(a,o)=>{s(parsePropPath(a),o,i,0)}),i}return null}function stringifySafely(e,s,i){if(utils$1.isString(e))try{return(s||JSON.parse)(e),utils$1.trim(e)}catch(a){if(a.name!=="SyntaxError")throw a}return(0,JSON.stringify)(e)}const defaults={transitional:transitionalDefaults,adapter:["xhr","http","fetch"],transformRequest:[function(s,i){const a=i.getContentType()||"",o=a.indexOf("application/json")>-1,c=utils$1.isObject(s);if(c&&utils$1.isHTMLForm(s)&&(s=new FormData(s)),utils$1.isFormData(s))return o?JSON.stringify(formDataToJSON(s)):s;if(utils$1.isArrayBuffer(s)||utils$1.isBuffer(s)||utils$1.isStream(s)||utils$1.isFile(s)||utils$1.isBlob(s)||utils$1.isReadableStream(s))return s;if(utils$1.isArrayBufferView(s))return s.buffer;if(utils$1.isURLSearchParams(s))return i.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),s.toString();let d;if(c){if(a.indexOf("application/x-www-form-urlencoded")>-1)return toURLEncodedForm(s,this.formSerializer).toString();if((d=utils$1.isFileList(s))||a.indexOf("multipart/form-data")>-1){const g=this.env&&this.env.FormData;return toFormData(d?{"files[]":s}:s,g&&new g,this.formSerializer)}}return c||o?(i.setContentType("application/json",!1),stringifySafely(s)):s}],transformResponse:[function(s){const i=this.transitional||defaults.transitional,a=i&&i.forcedJSONParsing,o=this.responseType==="json";if(utils$1.isResponse(s)||utils$1.isReadableStream(s))return s;if(s&&utils$1.isString(s)&&(a&&!this.responseType||o)){const h=!(i&&i.silentJSONParsing)&&o;try{return JSON.parse(s)}catch(d){if(h)throw d.name==="SyntaxError"?AxiosError.from(d,AxiosError.ERR_BAD_RESPONSE,this,null,this.response):d}}return s}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:platform.classes.FormData,Blob:platform.classes.Blob},validateStatus:function(s){return s>=200&&s<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};utils$1.forEach(["delete","get","head","post","put","patch"],e=>{defaults.headers[e]={}});const ignoreDuplicateOf=utils$1.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),parseHeaders=e=>{const s={};let i,a,o;return e&&e.split(`
`).forEach(function(h){o=h.indexOf(":"),i=h.substring(0,o).trim().toLowerCase(),a=h.substring(o+1).trim(),!(!i||s[i]&&ignoreDuplicateOf[i])&&(i==="set-cookie"?s[i]?s[i].push(a):s[i]=[a]:s[i]=s[i]?s[i]+", "+a:a)}),s},$internals=Symbol("internals");function normalizeHeader(e){return e&&String(e).trim().toLowerCase()}function normalizeValue(e){return e===!1||e==null?e:utils$1.isArray(e)?e.map(normalizeValue):String(e)}function parseTokens(e){const s=Object.create(null),i=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let a;for(;a=i.exec(e);)s[a[1]]=a[2];return s}const isValidHeaderName=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function matchHeaderValue(e,s,i,a,o){if(utils$1.isFunction(a))return a.call(this,s,i);if(o&&(s=i),!!utils$1.isString(s)){if(utils$1.isString(a))return s.indexOf(a)!==-1;if(utils$1.isRegExp(a))return a.test(s)}}function formatHeader(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(s,i,a)=>i.toUpperCase()+a)}function buildAccessors(e,s){const i=utils$1.toCamelCase(" "+s);["get","set","has"].forEach(a=>{Object.defineProperty(e,a+i,{value:function(o,c,h){return this[a].call(this,s,o,c,h)},configurable:!0})})}class AxiosHeaders{constructor(s){s&&this.set(s)}set(s,i,a){const o=this;function c(d,g,b){const _=normalizeHeader(g);if(!_)throw new Error("header name must be a non-empty string");const $=utils$1.findKey(o,_);(!$||o[$]===void 0||b===!0||b===void 0&&o[$]!==!1)&&(o[$||g]=normalizeValue(d))}const h=(d,g)=>utils$1.forEach(d,(b,_)=>c(b,_,g));if(utils$1.isPlainObject(s)||s instanceof this.constructor)h(s,i);else if(utils$1.isString(s)&&(s=s.trim())&&!isValidHeaderName(s))h(parseHeaders(s),i);else if(utils$1.isObject(s)&&utils$1.isIterable(s)){let d={},g,b;for(const _ of s){if(!utils$1.isArray(_))throw TypeError("Object iterator must return a key-value pair");d[b=_[0]]=(g=d[b])?utils$1.isArray(g)?[...g,_[1]]:[g,_[1]]:_[1]}h(d,i)}else s!=null&&c(i,s,a);return this}get(s,i){if(s=normalizeHeader(s),s){const a=utils$1.findKey(this,s);if(a){const o=this[a];if(!i)return o;if(i===!0)return parseTokens(o);if(utils$1.isFunction(i))return i.call(this,o,a);if(utils$1.isRegExp(i))return i.exec(o);throw new TypeError("parser must be boolean|regexp|function")}}}has(s,i){if(s=normalizeHeader(s),s){const a=utils$1.findKey(this,s);return!!(a&&this[a]!==void 0&&(!i||matchHeaderValue(this,this[a],a,i)))}return!1}delete(s,i){const a=this;let o=!1;function c(h){if(h=normalizeHeader(h),h){const d=utils$1.findKey(a,h);d&&(!i||matchHeaderValue(a,a[d],d,i))&&(delete a[d],o=!0)}}return utils$1.isArray(s)?s.forEach(c):c(s),o}clear(s){const i=Object.keys(this);let a=i.length,o=!1;for(;a--;){const c=i[a];(!s||matchHeaderValue(this,this[c],c,s,!0))&&(delete this[c],o=!0)}return o}normalize(s){const i=this,a={};return utils$1.forEach(this,(o,c)=>{const h=utils$1.findKey(a,c);if(h){i[h]=normalizeValue(o),delete i[c];return}const d=s?formatHeader(c):String(c).trim();d!==c&&delete i[c],i[d]=normalizeValue(o),a[d]=!0}),this}concat(...s){return this.constructor.concat(this,...s)}toJSON(s){const i=Object.create(null);return utils$1.forEach(this,(a,o)=>{a!=null&&a!==!1&&(i[o]=s&&utils$1.isArray(a)?a.join(", "):a)}),i}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([s,i])=>s+": "+i).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(s){return s instanceof this?s:new this(s)}static concat(s,...i){const a=new this(s);return i.forEach(o=>a.set(o)),a}static accessor(s){const a=(this[$internals]=this[$internals]={accessors:{}}).accessors,o=this.prototype;function c(h){const d=normalizeHeader(h);a[d]||(buildAccessors(o,h),a[d]=!0)}return utils$1.isArray(s)?s.forEach(c):c(s),this}}AxiosHeaders.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);utils$1.reduceDescriptors(AxiosHeaders.prototype,({value:e},s)=>{let i=s[0].toUpperCase()+s.slice(1);return{get:()=>e,set(a){this[i]=a}}});utils$1.freezeMethods(AxiosHeaders);function transformData(e,s){const i=this||defaults,a=s||i,o=AxiosHeaders.from(a.headers);let c=a.data;return utils$1.forEach(e,function(d){c=d.call(i,c,o.normalize(),s?s.status:void 0)}),o.normalize(),c}function isCancel(e){return!!(e&&e.__CANCEL__)}function CanceledError(e,s,i){AxiosError.call(this,e??"canceled",AxiosError.ERR_CANCELED,s,i),this.name="CanceledError"}utils$1.inherits(CanceledError,AxiosError,{__CANCEL__:!0});function settle(e,s,i){const a=i.config.validateStatus;!i.status||!a||a(i.status)?e(i):s(new AxiosError("Request failed with status code "+i.status,[AxiosError.ERR_BAD_REQUEST,AxiosError.ERR_BAD_RESPONSE][Math.floor(i.status/100)-4],i.config,i.request,i))}function parseProtocol(e){const s=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return s&&s[1]||""}function speedometer(e,s){e=e||10;const i=new Array(e),a=new Array(e);let o=0,c=0,h;return s=s!==void 0?s:1e3,function(g){const b=Date.now(),_=a[c];h||(h=b),i[o]=g,a[o]=b;let $=c,j=0;for(;$!==o;)j+=i[$++],$=$%e;if(o=(o+1)%e,o===c&&(c=(c+1)%e),b-h<s)return;const st=_&&b-_;return st?Math.round(j*1e3/st):void 0}}function throttle(e,s){let i=0,a=1e3/s,o,c;const h=(b,_=Date.now())=>{i=_,o=null,c&&(clearTimeout(c),c=null),e.apply(null,b)};return[(...b)=>{const _=Date.now(),$=_-i;$>=a?h(b,_):(o=b,c||(c=setTimeout(()=>{c=null,h(o)},a-$)))},()=>o&&h(o)]}const progressEventReducer=(e,s,i=3)=>{let a=0;const o=speedometer(50,250);return throttle(c=>{const h=c.loaded,d=c.lengthComputable?c.total:void 0,g=h-a,b=o(g),_=h<=d;a=h;const $={loaded:h,total:d,progress:d?h/d:void 0,bytes:g,rate:b||void 0,estimated:b&&d&&_?(d-h)/b:void 0,event:c,lengthComputable:d!=null,[s?"download":"upload"]:!0};e($)},i)},progressEventDecorator=(e,s)=>{const i=e!=null;return[a=>s[0]({lengthComputable:i,total:e,loaded:a}),s[1]]},asyncDecorator=e=>(...s)=>utils$1.asap(()=>e(...s)),isURLSameOrigin=platform.hasStandardBrowserEnv?((e,s)=>i=>(i=new URL(i,platform.origin),e.protocol===i.protocol&&e.host===i.host&&(s||e.port===i.port)))(new URL(platform.origin),platform.navigator&&/(msie|trident)/i.test(platform.navigator.userAgent)):()=>!0,cookies=platform.hasStandardBrowserEnv?{write(e,s,i,a,o,c){const h=[e+"="+encodeURIComponent(s)];utils$1.isNumber(i)&&h.push("expires="+new Date(i).toGMTString()),utils$1.isString(a)&&h.push("path="+a),utils$1.isString(o)&&h.push("domain="+o),c===!0&&h.push("secure"),document.cookie=h.join("; ")},read(e){const s=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return s?decodeURIComponent(s[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function isAbsoluteURL(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function combineURLs(e,s){return s?e.replace(/\/?\/$/,"")+"/"+s.replace(/^\/+/,""):e}function buildFullPath(e,s,i){let a=!isAbsoluteURL(s);return e&&(a||i==!1)?combineURLs(e,s):s}const headersToObject=e=>e instanceof AxiosHeaders?{...e}:e;function mergeConfig(e,s){s=s||{};const i={};function a(b,_,$,j){return utils$1.isPlainObject(b)&&utils$1.isPlainObject(_)?utils$1.merge.call({caseless:j},b,_):utils$1.isPlainObject(_)?utils$1.merge({},_):utils$1.isArray(_)?_.slice():_}function o(b,_,$,j){if(utils$1.isUndefined(_)){if(!utils$1.isUndefined(b))return a(void 0,b,$,j)}else return a(b,_,$,j)}function c(b,_){if(!utils$1.isUndefined(_))return a(void 0,_)}function h(b,_){if(utils$1.isUndefined(_)){if(!utils$1.isUndefined(b))return a(void 0,b)}else return a(void 0,_)}function d(b,_,$){if($ in s)return a(b,_);if($ in e)return a(void 0,b)}const g={url:c,method:c,data:c,baseURL:h,transformRequest:h,transformResponse:h,paramsSerializer:h,timeout:h,timeoutMessage:h,withCredentials:h,withXSRFToken:h,adapter:h,responseType:h,xsrfCookieName:h,xsrfHeaderName:h,onUploadProgress:h,onDownloadProgress:h,decompress:h,maxContentLength:h,maxBodyLength:h,beforeRedirect:h,transport:h,httpAgent:h,httpsAgent:h,cancelToken:h,socketPath:h,responseEncoding:h,validateStatus:d,headers:(b,_,$)=>o(headersToObject(b),headersToObject(_),$,!0)};return utils$1.forEach(Object.keys(Object.assign({},e,s)),function(_){const $=g[_]||o,j=$(e[_],s[_],_);utils$1.isUndefined(j)&&$!==d||(i[_]=j)}),i}const resolveConfig=e=>{const s=mergeConfig({},e);let{data:i,withXSRFToken:a,xsrfHeaderName:o,xsrfCookieName:c,headers:h,auth:d}=s;s.headers=h=AxiosHeaders.from(h),s.url=buildURL(buildFullPath(s.baseURL,s.url,s.allowAbsoluteUrls),e.params,e.paramsSerializer),d&&h.set("Authorization","Basic "+btoa((d.username||"")+":"+(d.password?unescape(encodeURIComponent(d.password)):"")));let g;if(utils$1.isFormData(i)){if(platform.hasStandardBrowserEnv||platform.hasStandardBrowserWebWorkerEnv)h.setContentType(void 0);else if((g=h.getContentType())!==!1){const[b,..._]=g?g.split(";").map($=>$.trim()).filter(Boolean):[];h.setContentType([b||"multipart/form-data",..._].join("; "))}}if(platform.hasStandardBrowserEnv&&(a&&utils$1.isFunction(a)&&(a=a(s)),a||a!==!1&&isURLSameOrigin(s.url))){const b=o&&c&&cookies.read(c);b&&h.set(o,b)}return s},isXHRAdapterSupported=typeof XMLHttpRequest<"u",xhrAdapter=isXHRAdapterSupported&&function(e){return new Promise(function(i,a){const o=resolveConfig(e);let c=o.data;const h=AxiosHeaders.from(o.headers).normalize();let{responseType:d,onUploadProgress:g,onDownloadProgress:b}=o,_,$,j,st,tt;function nt(){st&&st(),tt&&tt(),o.cancelToken&&o.cancelToken.unsubscribe(_),o.signal&&o.signal.removeEventListener("abort",_)}let at=new XMLHttpRequest;at.open(o.method.toUpperCase(),o.url,!0),at.timeout=o.timeout;function _e(){if(!at)return;const et=AxiosHeaders.from("getAllResponseHeaders"in at&&at.getAllResponseHeaders()),ot={data:!d||d==="text"||d==="json"?at.responseText:at.response,status:at.status,statusText:at.statusText,headers:et,config:e,request:at};settle(function(ht){i(ht),nt()},function(ht){a(ht),nt()},ot),at=null}"onloadend"in at?at.onloadend=_e:at.onreadystatechange=function(){!at||at.readyState!==4||at.status===0&&!(at.responseURL&&at.responseURL.indexOf("file:")===0)||setTimeout(_e)},at.onabort=function(){at&&(a(new AxiosError("Request aborted",AxiosError.ECONNABORTED,e,at)),at=null)},at.onerror=function(){a(new AxiosError("Network Error",AxiosError.ERR_NETWORK,e,at)),at=null},at.ontimeout=function(){let it=o.timeout?"timeout of "+o.timeout+"ms exceeded":"timeout exceeded";const ot=o.transitional||transitionalDefaults;o.timeoutErrorMessage&&(it=o.timeoutErrorMessage),a(new AxiosError(it,ot.clarifyTimeoutError?AxiosError.ETIMEDOUT:AxiosError.ECONNABORTED,e,at)),at=null},c===void 0&&h.setContentType(null),"setRequestHeader"in at&&utils$1.forEach(h.toJSON(),function(it,ot){at.setRequestHeader(ot,it)}),utils$1.isUndefined(o.withCredentials)||(at.withCredentials=!!o.withCredentials),d&&d!=="json"&&(at.responseType=o.responseType),b&&([j,tt]=progressEventReducer(b,!0),at.addEventListener("progress",j)),g&&at.upload&&([$,st]=progressEventReducer(g),at.upload.addEventListener("progress",$),at.upload.addEventListener("loadend",st)),(o.cancelToken||o.signal)&&(_=et=>{at&&(a(!et||et.type?new CanceledError(null,e,at):et),at.abort(),at=null)},o.cancelToken&&o.cancelToken.subscribe(_),o.signal&&(o.signal.aborted?_():o.signal.addEventListener("abort",_)));const rt=parseProtocol(o.url);if(rt&&platform.protocols.indexOf(rt)===-1){a(new AxiosError("Unsupported protocol "+rt+":",AxiosError.ERR_BAD_REQUEST,e));return}at.send(c||null)})},composeSignals=(e,s)=>{const{length:i}=e=e?e.filter(Boolean):[];if(s||i){let a=new AbortController,o;const c=function(b){if(!o){o=!0,d();const _=b instanceof Error?b:this.reason;a.abort(_ instanceof AxiosError?_:new CanceledError(_ instanceof Error?_.message:_))}};let h=s&&setTimeout(()=>{h=null,c(new AxiosError(`timeout ${s} of ms exceeded`,AxiosError.ETIMEDOUT))},s);const d=()=>{e&&(h&&clearTimeout(h),h=null,e.forEach(b=>{b.unsubscribe?b.unsubscribe(c):b.removeEventListener("abort",c)}),e=null)};e.forEach(b=>b.addEventListener("abort",c));const{signal:g}=a;return g.unsubscribe=()=>utils$1.asap(d),g}},streamChunk=function*(e,s){let i=e.byteLength;if(i<s){yield e;return}let a=0,o;for(;a<i;)o=a+s,yield e.slice(a,o),a=o},readBytes=async function*(e,s){for await(const i of readStream(e))yield*streamChunk(i,s)},readStream=async function*(e){if(e[Symbol.asyncIterator]){yield*e;return}const s=e.getReader();try{for(;;){const{done:i,value:a}=await s.read();if(i)break;yield a}}finally{await s.cancel()}},trackStream=(e,s,i,a)=>{const o=readBytes(e,s);let c=0,h,d=g=>{h||(h=!0,a&&a(g))};return new ReadableStream({async pull(g){try{const{done:b,value:_}=await o.next();if(b){d(),g.close();return}let $=_.byteLength;if(i){let j=c+=$;i(j)}g.enqueue(new Uint8Array(_))}catch(b){throw d(b),b}},cancel(g){return d(g),o.return()}},{highWaterMark:2})},isFetchSupported=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",isReadableStreamSupported=isFetchSupported&&typeof ReadableStream=="function",encodeText=isFetchSupported&&(typeof TextEncoder=="function"?(e=>s=>e.encode(s))(new TextEncoder):async e=>new Uint8Array(await new Response(e).arrayBuffer())),test$1=(e,...s)=>{try{return!!e(...s)}catch{return!1}},supportsRequestStream=isReadableStreamSupported&&test$1(()=>{let e=!1;const s=new Request(platform.origin,{body:new ReadableStream,method:"POST",get duplex(){return e=!0,"half"}}).headers.has("Content-Type");return e&&!s}),DEFAULT_CHUNK_SIZE=64*1024,supportsResponseStream=isReadableStreamSupported&&test$1(()=>utils$1.isReadableStream(new Response("").body)),resolvers={stream:supportsResponseStream&&(e=>e.body)};isFetchSupported&&(e=>{["text","arrayBuffer","blob","formData","stream"].forEach(s=>{!resolvers[s]&&(resolvers[s]=utils$1.isFunction(e[s])?i=>i[s]():(i,a)=>{throw new AxiosError(`Response type '${s}' is not supported`,AxiosError.ERR_NOT_SUPPORT,a)})})})(new Response);const getBodyLength=async e=>{if(e==null)return 0;if(utils$1.isBlob(e))return e.size;if(utils$1.isSpecCompliantForm(e))return(await new Request(platform.origin,{method:"POST",body:e}).arrayBuffer()).byteLength;if(utils$1.isArrayBufferView(e)||utils$1.isArrayBuffer(e))return e.byteLength;if(utils$1.isURLSearchParams(e)&&(e=e+""),utils$1.isString(e))return(await encodeText(e)).byteLength},resolveBodyLength=async(e,s)=>{const i=utils$1.toFiniteNumber(e.getContentLength());return i??getBodyLength(s)},fetchAdapter=isFetchSupported&&(async e=>{let{url:s,method:i,data:a,signal:o,cancelToken:c,timeout:h,onDownloadProgress:d,onUploadProgress:g,responseType:b,headers:_,withCredentials:$="same-origin",fetchOptions:j}=resolveConfig(e);b=b?(b+"").toLowerCase():"text";let st=composeSignals([o,c&&c.toAbortSignal()],h),tt;const nt=st&&st.unsubscribe&&(()=>{st.unsubscribe()});let at;try{if(g&&supportsRequestStream&&i!=="get"&&i!=="head"&&(at=await resolveBodyLength(_,a))!==0){let ot=new Request(s,{method:"POST",body:a,duplex:"half"}),ut;if(utils$1.isFormData(a)&&(ut=ot.headers.get("content-type"))&&_.setContentType(ut),ot.body){const[ht,dt]=progressEventDecorator(at,progressEventReducer(asyncDecorator(g)));a=trackStream(ot.body,DEFAULT_CHUNK_SIZE,ht,dt)}}utils$1.isString($)||($=$?"include":"omit");const _e="credentials"in Request.prototype;tt=new Request(s,{...j,signal:st,method:i.toUpperCase(),headers:_.normalize().toJSON(),body:a,duplex:"half",credentials:_e?$:void 0});let rt=await fetch(tt);const et=supportsResponseStream&&(b==="stream"||b==="response");if(supportsResponseStream&&(d||et&&nt)){const ot={};["status","statusText","headers"].forEach(mt=>{ot[mt]=rt[mt]});const ut=utils$1.toFiniteNumber(rt.headers.get("content-length")),[ht,dt]=d&&progressEventDecorator(ut,progressEventReducer(asyncDecorator(d),!0))||[];rt=new Response(trackStream(rt.body,DEFAULT_CHUNK_SIZE,ht,()=>{dt&&dt(),nt&&nt()}),ot)}b=b||"text";let it=await resolvers[utils$1.findKey(resolvers,b)||"text"](rt,e);return!et&&nt&&nt(),await new Promise((ot,ut)=>{settle(ot,ut,{data:it,headers:AxiosHeaders.from(rt.headers),status:rt.status,statusText:rt.statusText,config:e,request:tt})})}catch(_e){throw nt&&nt(),_e&&_e.name==="TypeError"&&/Load failed|fetch/i.test(_e.message)?Object.assign(new AxiosError("Network Error",AxiosError.ERR_NETWORK,e,tt),{cause:_e.cause||_e}):AxiosError.from(_e,_e&&_e.code,e,tt)}}),knownAdapters={http:httpAdapter,xhr:xhrAdapter,fetch:fetchAdapter};utils$1.forEach(knownAdapters,(e,s)=>{if(e){try{Object.defineProperty(e,"name",{value:s})}catch{}Object.defineProperty(e,"adapterName",{value:s})}});const renderReason=e=>`- ${e}`,isResolvedHandle=e=>utils$1.isFunction(e)||e===null||e===!1,adapters={getAdapter:e=>{e=utils$1.isArray(e)?e:[e];const{length:s}=e;let i,a;const o={};for(let c=0;c<s;c++){i=e[c];let h;if(a=i,!isResolvedHandle(i)&&(a=knownAdapters[(h=String(i)).toLowerCase()],a===void 0))throw new AxiosError(`Unknown adapter '${h}'`);if(a)break;o[h||"#"+c]=a}if(!a){const c=Object.entries(o).map(([d,g])=>`adapter ${d} `+(g===!1?"is not supported by the environment":"is not available in the build"));let h=s?c.length>1?`since :
`+c.map(renderReason).join(`
`):" "+renderReason(c[0]):"as no adapter specified";throw new AxiosError("There is no suitable adapter to dispatch the request "+h,"ERR_NOT_SUPPORT")}return a},adapters:knownAdapters};function throwIfCancellationRequested(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new CanceledError(null,e)}function dispatchRequest(e){return throwIfCancellationRequested(e),e.headers=AxiosHeaders.from(e.headers),e.data=transformData.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),adapters.getAdapter(e.adapter||defaults.adapter)(e).then(function(a){return throwIfCancellationRequested(e),a.data=transformData.call(e,e.transformResponse,a),a.headers=AxiosHeaders.from(a.headers),a},function(a){return isCancel(a)||(throwIfCancellationRequested(e),a&&a.response&&(a.response.data=transformData.call(e,e.transformResponse,a.response),a.response.headers=AxiosHeaders.from(a.response.headers))),Promise.reject(a)})}const VERSION="1.9.0",validators$1={};["object","boolean","number","function","string","symbol"].forEach((e,s)=>{validators$1[e]=function(a){return typeof a===e||"a"+(s<1?"n ":" ")+e}});const deprecatedWarnings={};validators$1.transitional=function(s,i,a){function o(c,h){return"[Axios v"+VERSION+"] Transitional option '"+c+"'"+h+(a?". "+a:"")}return(c,h,d)=>{if(s===!1)throw new AxiosError(o(h," has been removed"+(i?" in "+i:"")),AxiosError.ERR_DEPRECATED);return i&&!deprecatedWarnings[h]&&(deprecatedWarnings[h]=!0,console.warn(o(h," has been deprecated since v"+i+" and will be removed in the near future"))),s?s(c,h,d):!0}};validators$1.spelling=function(s){return(i,a)=>(console.warn(`${a} is likely a misspelling of ${s}`),!0)};function assertOptions(e,s,i){if(typeof e!="object")throw new AxiosError("options must be an object",AxiosError.ERR_BAD_OPTION_VALUE);const a=Object.keys(e);let o=a.length;for(;o-- >0;){const c=a[o],h=s[c];if(h){const d=e[c],g=d===void 0||h(d,c,e);if(g!==!0)throw new AxiosError("option "+c+" must be "+g,AxiosError.ERR_BAD_OPTION_VALUE);continue}if(i!==!0)throw new AxiosError("Unknown option "+c,AxiosError.ERR_BAD_OPTION)}}const validator={assertOptions,validators:validators$1},validators=validator.validators;class Axios{constructor(s){this.defaults=s||{},this.interceptors={request:new InterceptorManager,response:new InterceptorManager}}async request(s,i){try{return await this._request(s,i)}catch(a){if(a instanceof Error){let o={};Error.captureStackTrace?Error.captureStackTrace(o):o=new Error;const c=o.stack?o.stack.replace(/^.+\n/,""):"";try{a.stack?c&&!String(a.stack).endsWith(c.replace(/^.+\n.+\n/,""))&&(a.stack+=`
`+c):a.stack=c}catch{}}throw a}}_request(s,i){typeof s=="string"?(i=i||{},i.url=s):i=s||{},i=mergeConfig(this.defaults,i);const{transitional:a,paramsSerializer:o,headers:c}=i;a!==void 0&&validator.assertOptions(a,{silentJSONParsing:validators.transitional(validators.boolean),forcedJSONParsing:validators.transitional(validators.boolean),clarifyTimeoutError:validators.transitional(validators.boolean)},!1),o!=null&&(utils$1.isFunction(o)?i.paramsSerializer={serialize:o}:validator.assertOptions(o,{encode:validators.function,serialize:validators.function},!0)),i.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?i.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:i.allowAbsoluteUrls=!0),validator.assertOptions(i,{baseUrl:validators.spelling("baseURL"),withXsrfToken:validators.spelling("withXSRFToken")},!0),i.method=(i.method||this.defaults.method||"get").toLowerCase();let h=c&&utils$1.merge(c.common,c[i.method]);c&&utils$1.forEach(["delete","get","head","post","put","patch","common"],tt=>{delete c[tt]}),i.headers=AxiosHeaders.concat(h,c);const d=[];let g=!0;this.interceptors.request.forEach(function(nt){typeof nt.runWhen=="function"&&nt.runWhen(i)===!1||(g=g&&nt.synchronous,d.unshift(nt.fulfilled,nt.rejected))});const b=[];this.interceptors.response.forEach(function(nt){b.push(nt.fulfilled,nt.rejected)});let _,$=0,j;if(!g){const tt=[dispatchRequest.bind(this),void 0];for(tt.unshift.apply(tt,d),tt.push.apply(tt,b),j=tt.length,_=Promise.resolve(i);$<j;)_=_.then(tt[$++],tt[$++]);return _}j=d.length;let st=i;for($=0;$<j;){const tt=d[$++],nt=d[$++];try{st=tt(st)}catch(at){nt.call(this,at);break}}try{_=dispatchRequest.call(this,st)}catch(tt){return Promise.reject(tt)}for($=0,j=b.length;$<j;)_=_.then(b[$++],b[$++]);return _}getUri(s){s=mergeConfig(this.defaults,s);const i=buildFullPath(s.baseURL,s.url,s.allowAbsoluteUrls);return buildURL(i,s.params,s.paramsSerializer)}}utils$1.forEach(["delete","get","head","options"],function(s){Axios.prototype[s]=function(i,a){return this.request(mergeConfig(a||{},{method:s,url:i,data:(a||{}).data}))}});utils$1.forEach(["post","put","patch"],function(s){function i(a){return function(c,h,d){return this.request(mergeConfig(d||{},{method:s,headers:a?{"Content-Type":"multipart/form-data"}:{},url:c,data:h}))}}Axios.prototype[s]=i(),Axios.prototype[s+"Form"]=i(!0)});class CancelToken{constructor(s){if(typeof s!="function")throw new TypeError("executor must be a function.");let i;this.promise=new Promise(function(c){i=c});const a=this;this.promise.then(o=>{if(!a._listeners)return;let c=a._listeners.length;for(;c-- >0;)a._listeners[c](o);a._listeners=null}),this.promise.then=o=>{let c;const h=new Promise(d=>{a.subscribe(d),c=d}).then(o);return h.cancel=function(){a.unsubscribe(c)},h},s(function(c,h,d){a.reason||(a.reason=new CanceledError(c,h,d),i(a.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(s){if(this.reason){s(this.reason);return}this._listeners?this._listeners.push(s):this._listeners=[s]}unsubscribe(s){if(!this._listeners)return;const i=this._listeners.indexOf(s);i!==-1&&this._listeners.splice(i,1)}toAbortSignal(){const s=new AbortController,i=a=>{s.abort(a)};return this.subscribe(i),s.signal.unsubscribe=()=>this.unsubscribe(i),s.signal}static source(){let s;return{token:new CancelToken(function(o){s=o}),cancel:s}}}function spread(e){return function(i){return e.apply(null,i)}}function isAxiosError(e){return utils$1.isObject(e)&&e.isAxiosError===!0}const HttpStatusCode={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(HttpStatusCode).forEach(([e,s])=>{HttpStatusCode[s]=e});function createInstance(e){const s=new Axios(e),i=bind(Axios.prototype.request,s);return utils$1.extend(i,Axios.prototype,s,{allOwnKeys:!0}),utils$1.extend(i,s,null,{allOwnKeys:!0}),i.create=function(o){return createInstance(mergeConfig(e,o))},i}const axios=createInstance(defaults);axios.Axios=Axios;axios.CanceledError=CanceledError;axios.CancelToken=CancelToken;axios.isCancel=isCancel;axios.VERSION=VERSION;axios.toFormData=toFormData;axios.AxiosError=AxiosError;axios.Cancel=axios.CanceledError;axios.all=function(s){return Promise.all(s)};axios.spread=spread;axios.isAxiosError=isAxiosError;axios.mergeConfig=mergeConfig;axios.AxiosHeaders=AxiosHeaders;axios.formToJSON=e=>formDataToJSON(utils$1.isHTMLForm(e)?new FormData(e):e);axios.getAdapter=adapters.getAdapter;axios.HttpStatusCode=HttpStatusCode;axios.default=axios;let ENABLE_REQUEST_LOGGING=!1;typeof window<"u"&&(window.toggleApiLogging=e=>(ENABLE_REQUEST_LOGGING=e!==void 0?e:!ENABLE_REQUEST_LOGGING,console.log(` API Request Logging ${ENABLE_REQUEST_LOGGING?"ENABLED":"DISABLED"}`),console.log(" Use toggleApiLogging() to toggle or toggleApiLogging(true/false) to set explicitly"),ENABLE_REQUEST_LOGGING));const API_BASE_URL="http://16.171.135.133/api",axiosInstance=axios.create({baseURL:API_BASE_URL,timeout:1e4,headers:{"Content-Type":"application/json",Accept:"application/json"}});axiosInstance.interceptors.request.use(e=>{const s=localStorage.getItem("auth_token");return s&&(e.headers.Authorization=`Bearer ${s}`),e},e=>Promise.reject(e));axiosInstance.interceptors.response.use(e=>e,e=>{if(e.response)switch(e.response.status){case 401:console.error("Unauthorized - please login again");break;case 403:console.error("Forbidden - insufficient permissions");break;case 404:console.error("Resource not found");break;case 500:console.error("Server error - please try again later");break;default:console.error("Request failed with status:",e.response.status)}else e.request?console.error("No response received from server"):console.error("Request setup error:",e.message);return Promise.reject(e)});const isRestaurantOpen=(e,s)=>{const i=new Date,a=i.getHours()*60+i.getMinutes(),[o,c]=e.split(":").map(Number),[h,d]=s.split(":").map(Number),g=o*60+c,b=h*60+d;return b<g?a>=g||a<=b:a>=g&&a<=b},calculateDistanceFromMapBox=async(e,s,i,a)=>{const o="pk.eyJ1Ijoic2FoaWxiZWxpbW4iLCJhIjoiY20wemZlODcxMDVleTJsc2Z6OTByNW5ycSJ9.QNA7fVbFp2DrLealDWm2JQ";try{const h=await(await fetch(`https://api.mapbox.com/directions-matrix/v1/mapbox/driving/${s},${e};${a},${i}?sources=0&destinations=1&access_token=${o}`,{headers:{Accept:"application/json"}})).json();return h.distances&&h.distances[0]&&h.durations&&h.durations[0]?{distance:Math.round(h.distances[0][0]/1e3*10)/10,duration:Math.round(h.durations[0][0]/60)}:calculateHaversineDistance(e,s,i,a)}catch(c){return console.error("Error calculating distance with MapBox:",c),calculateHaversineDistance(e,s,i,a)}},calculateHaversineDistance=(e,s,i,a)=>{const c=(i-e)*Math.PI/180,h=(a-s)*Math.PI/180,d=Math.sin(c/2)*Math.sin(c/2)+Math.cos(e*Math.PI/180)*Math.cos(i*Math.PI/180)*Math.sin(h/2)*Math.sin(h/2),g=2*Math.atan2(Math.sqrt(d),Math.sqrt(1-d)),b=Math.round(6371*g*10)/10,_=Math.round(b/30*60);return{distance:b,duration:_}},RestaurantService={getNearbyRestaurants:async(e,s)=>{try{const i=await axiosInstance.post("/restaurant/check-delivery-available/",{restaurant_id:2,latitude:e,longitude:s});return i.data.delivery_available?await Promise.all(i.data.matched_addresses.map(async(o,c)=>{const h=o.latitude||43.140965,d=o.longitude||-79.238715,{distance:g,duration:b}=await calculateDistanceFromMapBox(e,s,h,d);return{address_id:o.address_id,city:o.city,pincode:o.pincode,contact_person_phone:o.contact_person_phone,opening_time:o.opening_time,closing_time:o.closing_time,id:o.address_id.toString(),name:`Restaurant ${o.city}`,cuisineType:"Multi-Cuisine",description:`Delicious food delivery in ${o.city}`,imageUrl:"https://images.pexels.com/photos/1267320/pexels-photo-1267320.jpeg",rating:4+c*.1,totalRatings:100+c*50,distance:g,deliveryTime:b+10,minimumOrder:15,priceRange:2,serviceOptions:{delivery:!0,pickup:!0},deliveryRadius:5,address:`${o.city}, ${o.pincode}`,isOpen:isRestaurantOpen(o.opening_time,o.closing_time),openingHours:{monday:{open:o.opening_time.slice(0,5),close:o.closing_time.slice(0,5)}}}})):[]}catch(i){throw console.error("Error fetching nearby restaurants:",i),i}},getRestaurantDetails:async e=>{try{return(await axiosInstance.get(`/restaurant/${e}/`)).data.data}catch(s){throw console.error("Error fetching restaurant details:",s),s}},getMenuCategories:async e=>{try{return(await axiosInstance.get(`/restaurant/get-menu-categories?address_id=${e}`)).data||[]}catch(s){throw console.error("Error fetching menu categories:",s),s}},getMenuItems:async(e,s)=>{try{return(await axiosInstance.get(`/restaurant/${e}/category/${s}/items/`)).data.data||[]}catch(i){throw console.error("Error fetching menu items:",i),i}},getItemVariants:async e=>{try{return(await axiosInstance.get(`/menu/item/${e}/variants/`)).data.data||[]}catch(s){throw console.error("Error fetching item variants:",s),s}},getItemAddons:async e=>{try{return(await axiosInstance.get(`/menu/item/${e}/addons/`)).data.data||[]}catch(s){throw console.error("Error fetching item addons:",s),s}},checkDeliveryAvailability:async e=>{try{return(await axiosInstance.post("/restaurant/check-delivery-available/",e)).data}catch(s){throw console.error("Error checking delivery availability:",s),s}}},LayoutGroupContext=reactExports.createContext({});function useConstant(e){const s=reactExports.useRef(null);return s.current===null&&(s.current=e()),s.current}const PresenceContext=reactExports.createContext(null),MotionConfigContext=reactExports.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"});class PopChildMeasure extends reactExports.Component{getSnapshotBeforeUpdate(s){const i=this.props.childRef.current;if(i&&s.isPresent&&!this.props.isPresent){const a=this.props.sizeRef.current;a.height=i.offsetHeight||0,a.width=i.offsetWidth||0,a.top=i.offsetTop,a.left=i.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function PopChild({children:e,isPresent:s}){const i=reactExports.useId(),a=reactExports.useRef(null),o=reactExports.useRef({width:0,height:0,top:0,left:0}),{nonce:c}=reactExports.useContext(MotionConfigContext);return reactExports.useInsertionEffect(()=>{const{width:h,height:d,top:g,left:b}=o.current;if(s||!a.current||!h||!d)return;a.current.dataset.motionPopId=i;const _=document.createElement("style");return c&&(_.nonce=c),document.head.appendChild(_),_.sheet&&_.sheet.insertRule(`
          [data-motion-pop-id="${i}"] {
            position: absolute !important;
            width: ${h}px !important;
            height: ${d}px !important;
            top: ${g}px !important;
            left: ${b}px !important;
          }
        `),()=>{document.head.removeChild(_)}},[s]),jsxRuntimeExports.jsx(PopChildMeasure,{isPresent:s,childRef:a,sizeRef:o,children:reactExports.cloneElement(e,{ref:a})})}const PresenceChild=({children:e,initial:s,isPresent:i,onExitComplete:a,custom:o,presenceAffectsLayout:c,mode:h})=>{const d=useConstant(newChildrenMap),g=reactExports.useId(),b=reactExports.useCallback($=>{d.set($,!0);for(const j of d.values())if(!j)return;a&&a()},[d,a]),_=reactExports.useMemo(()=>({id:g,initial:s,isPresent:i,custom:o,onExitComplete:b,register:$=>(d.set($,!1),()=>d.delete($))}),c?[Math.random(),b]:[i,b]);return reactExports.useMemo(()=>{d.forEach(($,j)=>d.set(j,!1))},[i]),reactExports.useEffect(()=>{!i&&!d.size&&a&&a()},[i]),h==="popLayout"&&(e=jsxRuntimeExports.jsx(PopChild,{isPresent:i,children:e})),jsxRuntimeExports.jsx(PresenceContext.Provider,{value:_,children:e})};function newChildrenMap(){return new Map}function usePresence(e=!0){const s=reactExports.useContext(PresenceContext);if(s===null)return[!0,null];const{isPresent:i,onExitComplete:a,register:o}=s,c=reactExports.useId();reactExports.useEffect(()=>{e&&o(c)},[e]);const h=reactExports.useCallback(()=>e&&a&&a(c),[c,a,e]);return!i&&a?[!1,h]:[!0]}const getChildKey=e=>e.key||"";function onlyElements(e){const s=[];return reactExports.Children.forEach(e,i=>{reactExports.isValidElement(i)&&s.push(i)}),s}const isBrowser$1=typeof window<"u",useIsomorphicLayoutEffect=isBrowser$1?reactExports.useLayoutEffect:reactExports.useEffect,AnimatePresence=({children:e,custom:s,initial:i=!0,onExitComplete:a,presenceAffectsLayout:o=!0,mode:c="sync",propagate:h=!1})=>{const[d,g]=usePresence(h),b=reactExports.useMemo(()=>onlyElements(e),[e]),_=h&&!d?[]:b.map(getChildKey),$=reactExports.useRef(!0),j=reactExports.useRef(b),st=useConstant(()=>new Map),[tt,nt]=reactExports.useState(b),[at,_e]=reactExports.useState(b);useIsomorphicLayoutEffect(()=>{$.current=!1,j.current=b;for(let it=0;it<at.length;it++){const ot=getChildKey(at[it]);_.includes(ot)?st.delete(ot):st.get(ot)!==!0&&st.set(ot,!1)}},[at,_.length,_.join("-")]);const rt=[];if(b!==tt){let it=[...b];for(let ot=0;ot<at.length;ot++){const ut=at[ot],ht=getChildKey(ut);_.includes(ht)||(it.splice(ot,0,ut),rt.push(ut))}c==="wait"&&rt.length&&(it=rt),_e(onlyElements(it)),nt(b);return}const{forceRender:et}=reactExports.useContext(LayoutGroupContext);return jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:at.map(it=>{const ot=getChildKey(it),ut=h&&!d?!1:b===at||_.includes(ot),ht=()=>{if(st.has(ot))st.set(ot,!0);else return;let dt=!0;st.forEach(mt=>{mt||(dt=!1)}),dt&&(et==null||et(),_e(j.current),h&&(g==null||g()),a&&a())};return jsxRuntimeExports.jsx(PresenceChild,{isPresent:ut,initial:!$.current||i?void 0:!1,custom:ut?void 0:s,presenceAffectsLayout:o,mode:c,onExitComplete:ut?void 0:ht,children:it},ot)})})},noop$2=e=>e;let invariant=noop$2;function memo(e){let s;return()=>(s===void 0&&(s=e()),s)}const progress=(e,s,i)=>{const a=s-e;return a===0?1:(i-e)/a},secondsToMilliseconds=e=>e*1e3,millisecondsToSeconds=e=>e/1e3,MotionGlobalConfig={skipAnimations:!1,useManualTiming:!1};function createRenderStep(e){let s=new Set,i=new Set,a=!1,o=!1;const c=new WeakSet;let h={delta:0,timestamp:0,isProcessing:!1};function d(b){c.has(b)&&(g.schedule(b),e()),b(h)}const g={schedule:(b,_=!1,$=!1)=>{const st=$&&a?s:i;return _&&c.add(b),st.has(b)||st.add(b),b},cancel:b=>{i.delete(b),c.delete(b)},process:b=>{if(h=b,a){o=!0;return}a=!0,[s,i]=[i,s],s.forEach(d),s.clear(),a=!1,o&&(o=!1,g.process(b))}};return g}const stepsOrder=["read","resolveKeyframes","update","preRender","render","postRender"],maxElapsed=40;function createRenderBatcher(e,s){let i=!1,a=!0;const o={delta:0,timestamp:0,isProcessing:!1},c=()=>i=!0,h=stepsOrder.reduce((_e,rt)=>(_e[rt]=createRenderStep(c),_e),{}),{read:d,resolveKeyframes:g,update:b,preRender:_,render:$,postRender:j}=h,st=()=>{const _e=performance.now();i=!1,o.delta=a?1e3/60:Math.max(Math.min(_e-o.timestamp,maxElapsed),1),o.timestamp=_e,o.isProcessing=!0,d.process(o),g.process(o),b.process(o),_.process(o),$.process(o),j.process(o),o.isProcessing=!1,i&&s&&(a=!1,e(st))},tt=()=>{i=!0,a=!0,o.isProcessing||e(st)};return{schedule:stepsOrder.reduce((_e,rt)=>{const et=h[rt];return _e[rt]=(it,ot=!1,ut=!1)=>(i||tt(),et.schedule(it,ot,ut)),_e},{}),cancel:_e=>{for(let rt=0;rt<stepsOrder.length;rt++)h[stepsOrder[rt]].cancel(_e)},state:o,steps:h}}const{schedule:frame,cancel:cancelFrame,state:frameData,steps:frameSteps}=createRenderBatcher(typeof requestAnimationFrame<"u"?requestAnimationFrame:noop$2,!0),LazyContext=reactExports.createContext({strict:!1}),featureProps={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},featureDefinitions={};for(const e in featureProps)featureDefinitions[e]={isEnabled:s=>featureProps[e].some(i=>!!s[i])};function loadFeatures(e){for(const s in e)featureDefinitions[s]={...featureDefinitions[s],...e[s]}}const validMotionProps=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function isValidMotionProp(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||validMotionProps.has(e)}let shouldForward=e=>!isValidMotionProp(e);function loadExternalIsValidProp(e){e&&(shouldForward=s=>s.startsWith("on")?!isValidMotionProp(s):e(s))}try{loadExternalIsValidProp(require("@emotion/is-prop-valid").default)}catch{}function filterProps(e,s,i){const a={};for(const o in e)o==="values"&&typeof e.values=="object"||(shouldForward(o)||i===!0&&isValidMotionProp(o)||!s&&!isValidMotionProp(o)||e.draggable&&o.startsWith("onDrag"))&&(a[o]=e[o]);return a}function createDOMMotionComponentProxy(e){if(typeof Proxy>"u")return e;const s=new Map,i=(...a)=>e(...a);return new Proxy(i,{get:(a,o)=>o==="create"?e:(s.has(o)||s.set(o,e(o)),s.get(o))})}const MotionContext=reactExports.createContext({});function isVariantLabel(e){return typeof e=="string"||Array.isArray(e)}function isAnimationControls(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}const variantPriorityOrder=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],variantProps=["initial",...variantPriorityOrder];function isControllingVariants(e){return isAnimationControls(e.animate)||variantProps.some(s=>isVariantLabel(e[s]))}function isVariantNode(e){return!!(isControllingVariants(e)||e.variants)}function getCurrentTreeVariants(e,s){if(isControllingVariants(e)){const{initial:i,animate:a}=e;return{initial:i===!1||isVariantLabel(i)?i:void 0,animate:isVariantLabel(a)?a:void 0}}return e.inherit!==!1?s:{}}function useCreateMotionContext(e){const{initial:s,animate:i}=getCurrentTreeVariants(e,reactExports.useContext(MotionContext));return reactExports.useMemo(()=>({initial:s,animate:i}),[variantLabelsAsDependency(s),variantLabelsAsDependency(i)])}function variantLabelsAsDependency(e){return Array.isArray(e)?e.join(" "):e}const motionComponentSymbol=Symbol.for("motionComponentSymbol");function isRefObject(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function useMotionRef(e,s,i){return reactExports.useCallback(a=>{a&&e.onMount&&e.onMount(a),s&&(a?s.mount(a):s.unmount()),i&&(typeof i=="function"?i(a):isRefObject(i)&&(i.current=a))},[s])}const camelToDash=e=>e.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),optimizedAppearDataId="framerAppearId",optimizedAppearDataAttribute="data-"+camelToDash(optimizedAppearDataId),{schedule:microtask,cancel:cancelMicrotask}=createRenderBatcher(queueMicrotask,!1),SwitchLayoutGroupContext=reactExports.createContext({});function useVisualElement(e,s,i,a,o){var c,h;const{visualElement:d}=reactExports.useContext(MotionContext),g=reactExports.useContext(LazyContext),b=reactExports.useContext(PresenceContext),_=reactExports.useContext(MotionConfigContext).reducedMotion,$=reactExports.useRef(null);a=a||g.renderer,!$.current&&a&&($.current=a(e,{visualState:s,parent:d,props:i,presenceContext:b,blockInitialAnimation:b?b.initial===!1:!1,reducedMotionConfig:_}));const j=$.current,st=reactExports.useContext(SwitchLayoutGroupContext);j&&!j.projection&&o&&(j.type==="html"||j.type==="svg")&&createProjectionNode$1($.current,i,o,st);const tt=reactExports.useRef(!1);reactExports.useInsertionEffect(()=>{j&&tt.current&&j.update(i,b)});const nt=i[optimizedAppearDataAttribute],at=reactExports.useRef(!!nt&&!(!((c=window.MotionHandoffIsComplete)===null||c===void 0)&&c.call(window,nt))&&((h=window.MotionHasOptimisedAnimation)===null||h===void 0?void 0:h.call(window,nt)));return useIsomorphicLayoutEffect(()=>{j&&(tt.current=!0,window.MotionIsMounted=!0,j.updateFeatures(),microtask.render(j.render),at.current&&j.animationState&&j.animationState.animateChanges())}),reactExports.useEffect(()=>{j&&(!at.current&&j.animationState&&j.animationState.animateChanges(),at.current&&(queueMicrotask(()=>{var _e;(_e=window.MotionHandoffMarkAsComplete)===null||_e===void 0||_e.call(window,nt)}),at.current=!1))}),j}function createProjectionNode$1(e,s,i,a){const{layoutId:o,layout:c,drag:h,dragConstraints:d,layoutScroll:g,layoutRoot:b}=s;e.projection=new i(e.latestValues,s["data-framer-portal-id"]?void 0:getClosestProjectingNode(e.parent)),e.projection.setOptions({layoutId:o,layout:c,alwaysMeasureLayout:!!h||d&&isRefObject(d),visualElement:e,animationType:typeof c=="string"?c:"both",initialPromotionConfig:a,layoutScroll:g,layoutRoot:b})}function getClosestProjectingNode(e){if(e)return e.options.allowProjection!==!1?e.projection:getClosestProjectingNode(e.parent)}function createRendererMotionComponent({preloadedFeatures:e,createVisualElement:s,useRender:i,useVisualState:a,Component:o}){var c,h;e&&loadFeatures(e);function d(b,_){let $;const j={...reactExports.useContext(MotionConfigContext),...b,layoutId:useLayoutId(b)},{isStatic:st}=j,tt=useCreateMotionContext(b),nt=a(b,st);if(!st&&isBrowser$1){useStrictMode();const at=getProjectionFunctionality(j);$=at.MeasureLayout,tt.visualElement=useVisualElement(o,nt,j,s,at.ProjectionNode)}return jsxRuntimeExports.jsxs(MotionContext.Provider,{value:tt,children:[$&&tt.visualElement?jsxRuntimeExports.jsx($,{visualElement:tt.visualElement,...j}):null,i(o,b,useMotionRef(nt,tt.visualElement,_),nt,st,tt.visualElement)]})}d.displayName=`motion.${typeof o=="string"?o:`create(${(h=(c=o.displayName)!==null&&c!==void 0?c:o.name)!==null&&h!==void 0?h:""})`}`;const g=reactExports.forwardRef(d);return g[motionComponentSymbol]=o,g}function useLayoutId({layoutId:e}){const s=reactExports.useContext(LayoutGroupContext).id;return s&&e!==void 0?s+"-"+e:e}function useStrictMode(e,s){reactExports.useContext(LazyContext).strict}function getProjectionFunctionality(e){const{drag:s,layout:i}=featureDefinitions;if(!s&&!i)return{};const a={...s,...i};return{MeasureLayout:s!=null&&s.isEnabled(e)||i!=null&&i.isEnabled(e)?a.MeasureLayout:void 0,ProjectionNode:a.ProjectionNode}}const lowercaseSVGElements=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function isSVGComponent(e){return typeof e!="string"||e.includes("-")?!1:!!(lowercaseSVGElements.indexOf(e)>-1||/[A-Z]/u.test(e))}function getValueState(e){const s=[{},{}];return e==null||e.values.forEach((i,a)=>{s[0][a]=i.get(),s[1][a]=i.getVelocity()}),s}function resolveVariantFromProps(e,s,i,a){if(typeof s=="function"){const[o,c]=getValueState(a);s=s(i!==void 0?i:e.custom,o,c)}if(typeof s=="string"&&(s=e.variants&&e.variants[s]),typeof s=="function"){const[o,c]=getValueState(a);s=s(i!==void 0?i:e.custom,o,c)}return s}const isKeyframesTarget=e=>Array.isArray(e),isCustomValue=e=>!!(e&&typeof e=="object"&&e.mix&&e.toValue),resolveFinalValueInKeyframes=e=>isKeyframesTarget(e)?e[e.length-1]||0:e,isMotionValue=e=>!!(e&&e.getVelocity);function resolveMotionValue(e){const s=isMotionValue(e)?e.get():e;return isCustomValue(s)?s.toValue():s}function makeState({scrapeMotionValuesFromProps:e,createRenderState:s,onUpdate:i},a,o,c){const h={latestValues:makeLatestValues(a,o,c,e),renderState:s()};return i&&(h.onMount=d=>i({props:a,current:d,...h}),h.onUpdate=d=>i(d)),h}const makeUseVisualState=e=>(s,i)=>{const a=reactExports.useContext(MotionContext),o=reactExports.useContext(PresenceContext),c=()=>makeState(e,s,a,o);return i?c():useConstant(c)};function makeLatestValues(e,s,i,a){const o={},c=a(e,{});for(const j in c)o[j]=resolveMotionValue(c[j]);let{initial:h,animate:d}=e;const g=isControllingVariants(e),b=isVariantNode(e);s&&b&&!g&&e.inherit!==!1&&(h===void 0&&(h=s.initial),d===void 0&&(d=s.animate));let _=i?i.initial===!1:!1;_=_||h===!1;const $=_?d:h;if($&&typeof $!="boolean"&&!isAnimationControls($)){const j=Array.isArray($)?$:[$];for(let st=0;st<j.length;st++){const tt=resolveVariantFromProps(e,j[st]);if(tt){const{transitionEnd:nt,transition:at,..._e}=tt;for(const rt in _e){let et=_e[rt];if(Array.isArray(et)){const it=_?et.length-1:0;et=et[it]}et!==null&&(o[rt]=et)}for(const rt in nt)o[rt]=nt[rt]}}}return o}const transformPropOrder=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],transformProps=new Set(transformPropOrder),checkStringStartsWith=e=>s=>typeof s=="string"&&s.startsWith(e),isCSSVariableName=checkStringStartsWith("--"),startsAsVariableToken=checkStringStartsWith("var(--"),isCSSVariableToken=e=>startsAsVariableToken(e)?singleCssVariableRegex.test(e.split("/*")[0].trim()):!1,singleCssVariableRegex=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,getValueAsType=(e,s)=>s&&typeof e=="number"?s.transform(e):e,clamp=(e,s,i)=>i>s?s:i<e?e:i,number={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},alpha={...number,transform:e=>clamp(0,1,e)},scale={...number,default:1},createUnitType=e=>({test:s=>typeof s=="string"&&s.endsWith(e)&&s.split(" ").length===1,parse:parseFloat,transform:s=>`${s}${e}`}),degrees=createUnitType("deg"),percent=createUnitType("%"),px=createUnitType("px"),vh=createUnitType("vh"),vw=createUnitType("vw"),progressPercentage={...percent,parse:e=>percent.parse(e)/100,transform:e=>percent.transform(e*100)},browserNumberValueTypes={borderWidth:px,borderTopWidth:px,borderRightWidth:px,borderBottomWidth:px,borderLeftWidth:px,borderRadius:px,radius:px,borderTopLeftRadius:px,borderTopRightRadius:px,borderBottomRightRadius:px,borderBottomLeftRadius:px,width:px,maxWidth:px,height:px,maxHeight:px,top:px,right:px,bottom:px,left:px,padding:px,paddingTop:px,paddingRight:px,paddingBottom:px,paddingLeft:px,margin:px,marginTop:px,marginRight:px,marginBottom:px,marginLeft:px,backgroundPositionX:px,backgroundPositionY:px},transformValueTypes={rotate:degrees,rotateX:degrees,rotateY:degrees,rotateZ:degrees,scale,scaleX:scale,scaleY:scale,scaleZ:scale,skew:degrees,skewX:degrees,skewY:degrees,distance:px,translateX:px,translateY:px,translateZ:px,x:px,y:px,z:px,perspective:px,transformPerspective:px,opacity:alpha,originX:progressPercentage,originY:progressPercentage,originZ:px},int={...number,transform:Math.round},numberValueTypes={...browserNumberValueTypes,...transformValueTypes,zIndex:int,size:px,fillOpacity:alpha,strokeOpacity:alpha,numOctaves:int},translateAlias={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},numTransforms=transformPropOrder.length;function buildTransform(e,s,i){let a="",o=!0;for(let c=0;c<numTransforms;c++){const h=transformPropOrder[c],d=e[h];if(d===void 0)continue;let g=!0;if(typeof d=="number"?g=d===(h.startsWith("scale")?1:0):g=parseFloat(d)===0,!g||i){const b=getValueAsType(d,numberValueTypes[h]);if(!g){o=!1;const _=translateAlias[h]||h;a+=`${_}(${b}) `}i&&(s[h]=b)}}return a=a.trim(),i?a=i(s,o?"":a):o&&(a="none"),a}function buildHTMLStyles(e,s,i){const{style:a,vars:o,transformOrigin:c}=e;let h=!1,d=!1;for(const g in s){const b=s[g];if(transformProps.has(g)){h=!0;continue}else if(isCSSVariableName(g)){o[g]=b;continue}else{const _=getValueAsType(b,numberValueTypes[g]);g.startsWith("origin")?(d=!0,c[g]=_):a[g]=_}}if(s.transform||(h||i?a.transform=buildTransform(s,e.transform,i):a.transform&&(a.transform="none")),d){const{originX:g="50%",originY:b="50%",originZ:_=0}=c;a.transformOrigin=`${g} ${b} ${_}`}}const dashKeys={offset:"stroke-dashoffset",array:"stroke-dasharray"},camelKeys={offset:"strokeDashoffset",array:"strokeDasharray"};function buildSVGPath(e,s,i=1,a=0,o=!0){e.pathLength=1;const c=o?dashKeys:camelKeys;e[c.offset]=px.transform(-a);const h=px.transform(s),d=px.transform(i);e[c.array]=`${h} ${d}`}function calcOrigin$1(e,s,i){return typeof e=="string"?e:px.transform(s+i*e)}function calcSVGTransformOrigin(e,s,i){const a=calcOrigin$1(s,e.x,e.width),o=calcOrigin$1(i,e.y,e.height);return`${a} ${o}`}function buildSVGAttrs(e,{attrX:s,attrY:i,attrScale:a,originX:o,originY:c,pathLength:h,pathSpacing:d=1,pathOffset:g=0,...b},_,$){if(buildHTMLStyles(e,b,$),_){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:j,style:st,dimensions:tt}=e;j.transform&&(tt&&(st.transform=j.transform),delete j.transform),tt&&(o!==void 0||c!==void 0||st.transform)&&(st.transformOrigin=calcSVGTransformOrigin(tt,o!==void 0?o:.5,c!==void 0?c:.5)),s!==void 0&&(j.x=s),i!==void 0&&(j.y=i),a!==void 0&&(j.scale=a),h!==void 0&&buildSVGPath(j,h,d,g,!1)}const createHtmlRenderState=()=>({style:{},transform:{},transformOrigin:{},vars:{}}),createSvgRenderState=()=>({...createHtmlRenderState(),attrs:{}}),isSVGTag=e=>typeof e=="string"&&e.toLowerCase()==="svg";function renderHTML(e,{style:s,vars:i},a,o){Object.assign(e.style,s,o&&o.getProjectionStyles(a));for(const c in i)e.style.setProperty(c,i[c])}const camelCaseAttributes=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function renderSVG(e,s,i,a){renderHTML(e,s,void 0,a);for(const o in s.attrs)e.setAttribute(camelCaseAttributes.has(o)?o:camelToDash(o),s.attrs[o])}const scaleCorrectors={};function addScaleCorrector(e){Object.assign(scaleCorrectors,e)}function isForcedMotionValue(e,{layout:s,layoutId:i}){return transformProps.has(e)||e.startsWith("origin")||(s||i!==void 0)&&(!!scaleCorrectors[e]||e==="opacity")}function scrapeMotionValuesFromProps$1(e,s,i){var a;const{style:o}=e,c={};for(const h in o)(isMotionValue(o[h])||s.style&&isMotionValue(s.style[h])||isForcedMotionValue(h,e)||((a=i==null?void 0:i.getValue(h))===null||a===void 0?void 0:a.liveStyle)!==void 0)&&(c[h]=o[h]);return c}function scrapeMotionValuesFromProps(e,s,i){const a=scrapeMotionValuesFromProps$1(e,s,i);for(const o in e)if(isMotionValue(e[o])||isMotionValue(s[o])){const c=transformPropOrder.indexOf(o)!==-1?"attr"+o.charAt(0).toUpperCase()+o.substring(1):o;a[c]=e[o]}return a}function updateSVGDimensions(e,s){try{s.dimensions=typeof e.getBBox=="function"?e.getBBox():e.getBoundingClientRect()}catch{s.dimensions={x:0,y:0,width:0,height:0}}}const layoutProps=["x","y","width","height","cx","cy","r"],svgMotionConfig={useVisualState:makeUseVisualState({scrapeMotionValuesFromProps,createRenderState:createSvgRenderState,onUpdate:({props:e,prevProps:s,current:i,renderState:a,latestValues:o})=>{if(!i)return;let c=!!e.drag;if(!c){for(const d in o)if(transformProps.has(d)){c=!0;break}}if(!c)return;let h=!s;if(s)for(let d=0;d<layoutProps.length;d++){const g=layoutProps[d];e[g]!==s[g]&&(h=!0)}h&&frame.read(()=>{updateSVGDimensions(i,a),frame.render(()=>{buildSVGAttrs(a,o,isSVGTag(i.tagName),e.transformTemplate),renderSVG(i,a)})})}})},htmlMotionConfig={useVisualState:makeUseVisualState({scrapeMotionValuesFromProps:scrapeMotionValuesFromProps$1,createRenderState:createHtmlRenderState})};function copyRawValuesOnly(e,s,i){for(const a in s)!isMotionValue(s[a])&&!isForcedMotionValue(a,i)&&(e[a]=s[a])}function useInitialMotionValues({transformTemplate:e},s){return reactExports.useMemo(()=>{const i=createHtmlRenderState();return buildHTMLStyles(i,s,e),Object.assign({},i.vars,i.style)},[s])}function useStyle(e,s){const i=e.style||{},a={};return copyRawValuesOnly(a,i,e),Object.assign(a,useInitialMotionValues(e,s)),a}function useHTMLProps(e,s){const i={},a=useStyle(e,s);return e.drag&&e.dragListener!==!1&&(i.draggable=!1,a.userSelect=a.WebkitUserSelect=a.WebkitTouchCallout="none",a.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(i.tabIndex=0),i.style=a,i}function useSVGProps(e,s,i,a){const o=reactExports.useMemo(()=>{const c=createSvgRenderState();return buildSVGAttrs(c,s,isSVGTag(a),e.transformTemplate),{...c.attrs,style:{...c.style}}},[s]);if(e.style){const c={};copyRawValuesOnly(c,e.style,e),o.style={...c,...o.style}}return o}function createUseRender(e=!1){return(i,a,o,{latestValues:c},h)=>{const g=(isSVGComponent(i)?useSVGProps:useHTMLProps)(a,c,h,i),b=filterProps(a,typeof i=="string",e),_=i!==reactExports.Fragment?{...b,...g,ref:o}:{},{children:$}=a,j=reactExports.useMemo(()=>isMotionValue($)?$.get():$,[$]);return reactExports.createElement(i,{..._,children:j})}}function createMotionComponentFactory(e,s){return function(a,{forwardMotionProps:o}={forwardMotionProps:!1}){const h={...isSVGComponent(a)?svgMotionConfig:htmlMotionConfig,preloadedFeatures:e,useRender:createUseRender(o),createVisualElement:s,Component:a};return createRendererMotionComponent(h)}}function shallowCompare(e,s){if(!Array.isArray(s))return!1;const i=s.length;if(i!==e.length)return!1;for(let a=0;a<i;a++)if(s[a]!==e[a])return!1;return!0}function resolveVariant(e,s,i){const a=e.getProps();return resolveVariantFromProps(a,s,i!==void 0?i:a.custom,e)}const supportsScrollTimeline=memo(()=>window.ScrollTimeline!==void 0);class BaseGroupPlaybackControls{constructor(s){this.stop=()=>this.runAll("stop"),this.animations=s.filter(Boolean)}get finished(){return Promise.all(this.animations.map(s=>"finished"in s?s.finished:s))}getAll(s){return this.animations[0][s]}setAll(s,i){for(let a=0;a<this.animations.length;a++)this.animations[a][s]=i}attachTimeline(s,i){const a=this.animations.map(o=>{if(supportsScrollTimeline()&&o.attachTimeline)return o.attachTimeline(s);if(typeof i=="function")return i(o)});return()=>{a.forEach((o,c)=>{o&&o(),this.animations[c].stop()})}}get time(){return this.getAll("time")}set time(s){this.setAll("time",s)}get speed(){return this.getAll("speed")}set speed(s){this.setAll("speed",s)}get startTime(){return this.getAll("startTime")}get duration(){let s=0;for(let i=0;i<this.animations.length;i++)s=Math.max(s,this.animations[i].duration);return s}runAll(s){this.animations.forEach(i=>i[s]())}flatten(){this.runAll("flatten")}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}class GroupPlaybackControls extends BaseGroupPlaybackControls{then(s,i){return Promise.all(this.animations).then(s).catch(i)}}function getValueTransition(e,s){return e?e[s]||e.default||e:void 0}const maxGeneratorDuration=2e4;function calcGeneratorDuration(e){let s=0;const i=50;let a=e.next(s);for(;!a.done&&s<maxGeneratorDuration;)s+=i,a=e.next(s);return s>=maxGeneratorDuration?1/0:s}function isGenerator(e){return typeof e=="function"}function attachTimeline(e,s){e.timeline=s,e.onfinish=null}const isBezierDefinition=e=>Array.isArray(e)&&typeof e[0]=="number",supportsFlags={linearEasing:void 0};function memoSupports(e,s){const i=memo(e);return()=>{var a;return(a=supportsFlags[s])!==null&&a!==void 0?a:i()}}const supportsLinearEasing=memoSupports(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),generateLinearEasing=(e,s,i=10)=>{let a="";const o=Math.max(Math.round(s/i),2);for(let c=0;c<o;c++)a+=e(progress(0,o-1,c))+", ";return`linear(${a.substring(0,a.length-2)})`};function isWaapiSupportedEasing(e){return!!(typeof e=="function"&&supportsLinearEasing()||!e||typeof e=="string"&&(e in supportedWaapiEasing||supportsLinearEasing())||isBezierDefinition(e)||Array.isArray(e)&&e.every(isWaapiSupportedEasing))}const cubicBezierAsString=([e,s,i,a])=>`cubic-bezier(${e}, ${s}, ${i}, ${a})`,supportedWaapiEasing={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:cubicBezierAsString([0,.65,.55,1]),circOut:cubicBezierAsString([.55,0,1,.45]),backIn:cubicBezierAsString([.31,.01,.66,-.59]),backOut:cubicBezierAsString([.33,1.53,.69,.99])};function mapEasingToNativeEasing(e,s){if(e)return typeof e=="function"&&supportsLinearEasing()?generateLinearEasing(e,s):isBezierDefinition(e)?cubicBezierAsString(e):Array.isArray(e)?e.map(i=>mapEasingToNativeEasing(i,s)||supportedWaapiEasing.easeOut):supportedWaapiEasing[e]}const isDragging={x:!1,y:!1};function isDragActive(){return isDragging.x||isDragging.y}function resolveElements(e,s,i){var a;if(e instanceof Element)return[e];if(typeof e=="string"){let o=document;const c=(a=void 0)!==null&&a!==void 0?a:o.querySelectorAll(e);return c?Array.from(c):[]}return Array.from(e)}function setupGesture(e,s){const i=resolveElements(e),a=new AbortController,o={passive:!0,...s,signal:a.signal};return[i,o,()=>a.abort()]}function filterEvents$1(e){return s=>{s.pointerType==="touch"||isDragActive()||e(s)}}function hover(e,s,i={}){const[a,o,c]=setupGesture(e,i),h=filterEvents$1(d=>{const{target:g}=d,b=s(d);if(typeof b!="function"||!g)return;const _=filterEvents$1($=>{b($),g.removeEventListener("pointerleave",_)});g.addEventListener("pointerleave",_,o)});return a.forEach(d=>{d.addEventListener("pointerenter",h,o)}),c}const isNodeOrChild=(e,s)=>s?e===s?!0:isNodeOrChild(e,s.parentElement):!1,isPrimaryPointer=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1,focusableElements=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function isElementKeyboardAccessible(e){return focusableElements.has(e.tagName)||e.tabIndex!==-1}const isPressing=new WeakSet;function filterEvents(e){return s=>{s.key==="Enter"&&e(s)}}function firePointerEvent(e,s){e.dispatchEvent(new PointerEvent("pointer"+s,{isPrimary:!0,bubbles:!0}))}const enableKeyboardPress=(e,s)=>{const i=e.currentTarget;if(!i)return;const a=filterEvents(()=>{if(isPressing.has(i))return;firePointerEvent(i,"down");const o=filterEvents(()=>{firePointerEvent(i,"up")}),c=()=>firePointerEvent(i,"cancel");i.addEventListener("keyup",o,s),i.addEventListener("blur",c,s)});i.addEventListener("keydown",a,s),i.addEventListener("blur",()=>i.removeEventListener("keydown",a),s)};function isValidPressEvent(e){return isPrimaryPointer(e)&&!isDragActive()}function press(e,s,i={}){const[a,o,c]=setupGesture(e,i),h=d=>{const g=d.currentTarget;if(!isValidPressEvent(d)||isPressing.has(g))return;isPressing.add(g);const b=s(d),_=(st,tt)=>{window.removeEventListener("pointerup",$),window.removeEventListener("pointercancel",j),!(!isValidPressEvent(st)||!isPressing.has(g))&&(isPressing.delete(g),typeof b=="function"&&b(st,{success:tt}))},$=st=>{_(st,i.useGlobalTarget||isNodeOrChild(g,st.target))},j=st=>{_(st,!1)};window.addEventListener("pointerup",$,o),window.addEventListener("pointercancel",j,o)};return a.forEach(d=>{!isElementKeyboardAccessible(d)&&d.getAttribute("tabindex")===null&&(d.tabIndex=0),(i.useGlobalTarget?window:d).addEventListener("pointerdown",h,o),d.addEventListener("focus",b=>enableKeyboardPress(b,o),o)}),c}function setDragLock(e){return e==="x"||e==="y"?isDragging[e]?null:(isDragging[e]=!0,()=>{isDragging[e]=!1}):isDragging.x||isDragging.y?null:(isDragging.x=isDragging.y=!0,()=>{isDragging.x=isDragging.y=!1})}const positionalKeys=new Set(["width","height","top","left","right","bottom",...transformPropOrder]);let now;function clearTime(){now=void 0}const time={now:()=>(now===void 0&&time.set(frameData.isProcessing||MotionGlobalConfig.useManualTiming?frameData.timestamp:performance.now()),now),set:e=>{now=e,queueMicrotask(clearTime)}};function addUniqueItem(e,s){e.indexOf(s)===-1&&e.push(s)}function removeItem(e,s){const i=e.indexOf(s);i>-1&&e.splice(i,1)}class SubscriptionManager{constructor(){this.subscriptions=[]}add(s){return addUniqueItem(this.subscriptions,s),()=>removeItem(this.subscriptions,s)}notify(s,i,a){const o=this.subscriptions.length;if(o)if(o===1)this.subscriptions[0](s,i,a);else for(let c=0;c<o;c++){const h=this.subscriptions[c];h&&h(s,i,a)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}function velocityPerSecond(e,s){return s?e*(1e3/s):0}const MAX_VELOCITY_DELTA=30,isFloat=e=>!isNaN(parseFloat(e));class MotionValue{constructor(s,i={}){this.version="11.18.2",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(a,o=!0)=>{const c=time.now();this.updatedAt!==c&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(a),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),o&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(s),this.owner=i.owner}setCurrent(s){this.current=s,this.updatedAt=time.now(),this.canTrackVelocity===null&&s!==void 0&&(this.canTrackVelocity=isFloat(this.current))}setPrevFrameValue(s=this.current){this.prevFrameValue=s,this.prevUpdatedAt=this.updatedAt}onChange(s){return this.on("change",s)}on(s,i){this.events[s]||(this.events[s]=new SubscriptionManager);const a=this.events[s].add(i);return s==="change"?()=>{a(),frame.read(()=>{this.events.change.getSize()||this.stop()})}:a}clearListeners(){for(const s in this.events)this.events[s].clear()}attach(s,i){this.passiveEffect=s,this.stopPassiveEffect=i}set(s,i=!0){!i||!this.passiveEffect?this.updateAndNotify(s,i):this.passiveEffect(s,this.updateAndNotify)}setWithVelocity(s,i,a){this.set(i),this.prev=void 0,this.prevFrameValue=s,this.prevUpdatedAt=this.updatedAt-a}jump(s,i=!0){this.updateAndNotify(s),this.prev=s,this.prevUpdatedAt=this.prevFrameValue=void 0,i&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const s=time.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||s-this.updatedAt>MAX_VELOCITY_DELTA)return 0;const i=Math.min(this.updatedAt-this.prevUpdatedAt,MAX_VELOCITY_DELTA);return velocityPerSecond(parseFloat(this.current)-parseFloat(this.prevFrameValue),i)}start(s){return this.stop(),new Promise(i=>{this.hasAnimated=!0,this.animation=s(i),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function motionValue(e,s){return new MotionValue(e,s)}function setMotionValue(e,s,i){e.hasValue(s)?e.getValue(s).set(i):e.addValue(s,motionValue(i))}function setTarget(e,s){const i=resolveVariant(e,s);let{transitionEnd:a={},transition:o={},...c}=i||{};c={...c,...a};for(const h in c){const d=resolveFinalValueInKeyframes(c[h]);setMotionValue(e,h,d)}}function isWillChangeMotionValue(e){return!!(isMotionValue(e)&&e.add)}function addValueToWillChange(e,s){const i=e.getValue("willChange");if(isWillChangeMotionValue(i))return i.add(s)}function getOptimisedAppearId(e){return e.props[optimizedAppearDataAttribute]}const calcBezier=(e,s,i)=>(((1-3*i+3*s)*e+(3*i-6*s))*e+3*s)*e,subdivisionPrecision=1e-7,subdivisionMaxIterations=12;function binarySubdivide(e,s,i,a,o){let c,h,d=0;do h=s+(i-s)/2,c=calcBezier(h,a,o)-e,c>0?i=h:s=h;while(Math.abs(c)>subdivisionPrecision&&++d<subdivisionMaxIterations);return h}function cubicBezier(e,s,i,a){if(e===s&&i===a)return noop$2;const o=c=>binarySubdivide(c,0,1,e,i);return c=>c===0||c===1?c:calcBezier(o(c),s,a)}const mirrorEasing=e=>s=>s<=.5?e(2*s)/2:(2-e(2*(1-s)))/2,reverseEasing=e=>s=>1-e(1-s),backOut=cubicBezier(.33,1.53,.69,.99),backIn=reverseEasing(backOut),backInOut=mirrorEasing(backIn),anticipate=e=>(e*=2)<1?.5*backIn(e):.5*(2-Math.pow(2,-10*(e-1))),circIn=e=>1-Math.sin(Math.acos(e)),circOut=reverseEasing(circIn),circInOut=mirrorEasing(circIn),isZeroValueString=e=>/^0[^.\s]+$/u.test(e);function isNone(e){return typeof e=="number"?e===0:e!==null?e==="none"||e==="0"||isZeroValueString(e):!0}const sanitize=e=>Math.round(e*1e5)/1e5,floatRegex=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function isNullish(e){return e==null}const singleColorRegex=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,isColorString=(e,s)=>i=>!!(typeof i=="string"&&singleColorRegex.test(i)&&i.startsWith(e)||s&&!isNullish(i)&&Object.prototype.hasOwnProperty.call(i,s)),splitColor=(e,s,i)=>a=>{if(typeof a!="string")return a;const[o,c,h,d]=a.match(floatRegex);return{[e]:parseFloat(o),[s]:parseFloat(c),[i]:parseFloat(h),alpha:d!==void 0?parseFloat(d):1}},clampRgbUnit=e=>clamp(0,255,e),rgbUnit={...number,transform:e=>Math.round(clampRgbUnit(e))},rgba={test:isColorString("rgb","red"),parse:splitColor("red","green","blue"),transform:({red:e,green:s,blue:i,alpha:a=1})=>"rgba("+rgbUnit.transform(e)+", "+rgbUnit.transform(s)+", "+rgbUnit.transform(i)+", "+sanitize(alpha.transform(a))+")"};function parseHex(e){let s="",i="",a="",o="";return e.length>5?(s=e.substring(1,3),i=e.substring(3,5),a=e.substring(5,7),o=e.substring(7,9)):(s=e.substring(1,2),i=e.substring(2,3),a=e.substring(3,4),o=e.substring(4,5),s+=s,i+=i,a+=a,o+=o),{red:parseInt(s,16),green:parseInt(i,16),blue:parseInt(a,16),alpha:o?parseInt(o,16)/255:1}}const hex={test:isColorString("#"),parse:parseHex,transform:rgba.transform},hsla={test:isColorString("hsl","hue"),parse:splitColor("hue","saturation","lightness"),transform:({hue:e,saturation:s,lightness:i,alpha:a=1})=>"hsla("+Math.round(e)+", "+percent.transform(sanitize(s))+", "+percent.transform(sanitize(i))+", "+sanitize(alpha.transform(a))+")"},color={test:e=>rgba.test(e)||hex.test(e)||hsla.test(e),parse:e=>rgba.test(e)?rgba.parse(e):hsla.test(e)?hsla.parse(e):hex.parse(e),transform:e=>typeof e=="string"?e:e.hasOwnProperty("red")?rgba.transform(e):hsla.transform(e)},colorRegex=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function test(e){var s,i;return isNaN(e)&&typeof e=="string"&&(((s=e.match(floatRegex))===null||s===void 0?void 0:s.length)||0)+(((i=e.match(colorRegex))===null||i===void 0?void 0:i.length)||0)>0}const NUMBER_TOKEN="number",COLOR_TOKEN="color",VAR_TOKEN="var",VAR_FUNCTION_TOKEN="var(",SPLIT_TOKEN="${}",complexRegex=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function analyseComplexValue(e){const s=e.toString(),i=[],a={color:[],number:[],var:[]},o=[];let c=0;const d=s.replace(complexRegex,g=>(color.test(g)?(a.color.push(c),o.push(COLOR_TOKEN),i.push(color.parse(g))):g.startsWith(VAR_FUNCTION_TOKEN)?(a.var.push(c),o.push(VAR_TOKEN),i.push(g)):(a.number.push(c),o.push(NUMBER_TOKEN),i.push(parseFloat(g))),++c,SPLIT_TOKEN)).split(SPLIT_TOKEN);return{values:i,split:d,indexes:a,types:o}}function parseComplexValue(e){return analyseComplexValue(e).values}function createTransformer(e){const{split:s,types:i}=analyseComplexValue(e),a=s.length;return o=>{let c="";for(let h=0;h<a;h++)if(c+=s[h],o[h]!==void 0){const d=i[h];d===NUMBER_TOKEN?c+=sanitize(o[h]):d===COLOR_TOKEN?c+=color.transform(o[h]):c+=o[h]}return c}}const convertNumbersToZero=e=>typeof e=="number"?0:e;function getAnimatableNone$1(e){const s=parseComplexValue(e);return createTransformer(e)(s.map(convertNumbersToZero))}const complex={test,parse:parseComplexValue,createTransformer,getAnimatableNone:getAnimatableNone$1},maxDefaults=new Set(["brightness","contrast","saturate","opacity"]);function applyDefaultFilter(e){const[s,i]=e.slice(0,-1).split("(");if(s==="drop-shadow")return e;const[a]=i.match(floatRegex)||[];if(!a)return e;const o=i.replace(a,"");let c=maxDefaults.has(s)?1:0;return a!==i&&(c*=100),s+"("+c+o+")"}const functionRegex=/\b([a-z-]*)\(.*?\)/gu,filter={...complex,getAnimatableNone:e=>{const s=e.match(functionRegex);return s?s.map(applyDefaultFilter).join(" "):e}},defaultValueTypes={...numberValueTypes,color,backgroundColor:color,outlineColor:color,fill:color,stroke:color,borderColor:color,borderTopColor:color,borderRightColor:color,borderBottomColor:color,borderLeftColor:color,filter,WebkitFilter:filter},getDefaultValueType=e=>defaultValueTypes[e];function getAnimatableNone(e,s){let i=getDefaultValueType(e);return i!==filter&&(i=complex),i.getAnimatableNone?i.getAnimatableNone(s):void 0}const invalidTemplates=new Set(["auto","none","0"]);function makeNoneKeyframesAnimatable(e,s,i){let a=0,o;for(;a<e.length&&!o;){const c=e[a];typeof c=="string"&&!invalidTemplates.has(c)&&analyseComplexValue(c).values.length&&(o=e[a]),a++}if(o&&i)for(const c of s)e[c]=getAnimatableNone(i,o)}const isNumOrPxType=e=>e===number||e===px,getPosFromMatrix=(e,s)=>parseFloat(e.split(", ")[s]),getTranslateFromMatrix=(e,s)=>(i,{transform:a})=>{if(a==="none"||!a)return 0;const o=a.match(/^matrix3d\((.+)\)$/u);if(o)return getPosFromMatrix(o[1],s);{const c=a.match(/^matrix\((.+)\)$/u);return c?getPosFromMatrix(c[1],e):0}},transformKeys=new Set(["x","y","z"]),nonTranslationalTransformKeys=transformPropOrder.filter(e=>!transformKeys.has(e));function removeNonTranslationalTransform(e){const s=[];return nonTranslationalTransformKeys.forEach(i=>{const a=e.getValue(i);a!==void 0&&(s.push([i,a.get()]),a.set(i.startsWith("scale")?1:0))}),s}const positionalValues={width:({x:e},{paddingLeft:s="0",paddingRight:i="0"})=>e.max-e.min-parseFloat(s)-parseFloat(i),height:({y:e},{paddingTop:s="0",paddingBottom:i="0"})=>e.max-e.min-parseFloat(s)-parseFloat(i),top:(e,{top:s})=>parseFloat(s),left:(e,{left:s})=>parseFloat(s),bottom:({y:e},{top:s})=>parseFloat(s)+(e.max-e.min),right:({x:e},{left:s})=>parseFloat(s)+(e.max-e.min),x:getTranslateFromMatrix(4,13),y:getTranslateFromMatrix(5,14)};positionalValues.translateX=positionalValues.x;positionalValues.translateY=positionalValues.y;const toResolve=new Set;let isScheduled=!1,anyNeedsMeasurement=!1;function measureAllKeyframes(){if(anyNeedsMeasurement){const e=Array.from(toResolve).filter(a=>a.needsMeasurement),s=new Set(e.map(a=>a.element)),i=new Map;s.forEach(a=>{const o=removeNonTranslationalTransform(a);o.length&&(i.set(a,o),a.render())}),e.forEach(a=>a.measureInitialState()),s.forEach(a=>{a.render();const o=i.get(a);o&&o.forEach(([c,h])=>{var d;(d=a.getValue(c))===null||d===void 0||d.set(h)})}),e.forEach(a=>a.measureEndState()),e.forEach(a=>{a.suspendedScrollY!==void 0&&window.scrollTo(0,a.suspendedScrollY)})}anyNeedsMeasurement=!1,isScheduled=!1,toResolve.forEach(e=>e.complete()),toResolve.clear()}function readAllKeyframes(){toResolve.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(anyNeedsMeasurement=!0)})}function flushKeyframeResolvers(){readAllKeyframes(),measureAllKeyframes()}class KeyframeResolver{constructor(s,i,a,o,c,h=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...s],this.onComplete=i,this.name=a,this.motionValue=o,this.element=c,this.isAsync=h}scheduleResolve(){this.isScheduled=!0,this.isAsync?(toResolve.add(this),isScheduled||(isScheduled=!0,frame.read(readAllKeyframes),frame.resolveKeyframes(measureAllKeyframes))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:s,name:i,element:a,motionValue:o}=this;for(let c=0;c<s.length;c++)if(s[c]===null)if(c===0){const h=o==null?void 0:o.get(),d=s[s.length-1];if(h!==void 0)s[0]=h;else if(a&&i){const g=a.readValue(i,d);g!=null&&(s[0]=g)}s[0]===void 0&&(s[0]=d),o&&h===void 0&&o.set(s[0])}else s[c]=s[c-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),toResolve.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,toResolve.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const isNumericalString=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e),splitCSSVariableRegex=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function parseCSSVariable(e){const s=splitCSSVariableRegex.exec(e);if(!s)return[,];const[,i,a,o]=s;return[`--${i??a}`,o]}function getVariableValue(e,s,i=1){const[a,o]=parseCSSVariable(e);if(!a)return;const c=window.getComputedStyle(s).getPropertyValue(a);if(c){const h=c.trim();return isNumericalString(h)?parseFloat(h):h}return isCSSVariableToken(o)?getVariableValue(o,s,i+1):o}const testValueType=e=>s=>s.test(e),auto={test:e=>e==="auto",parse:e=>e},dimensionValueTypes=[number,px,percent,degrees,vw,vh,auto],findDimensionValueType=e=>dimensionValueTypes.find(testValueType(e));class DOMKeyframesResolver extends KeyframeResolver{constructor(s,i,a,o,c){super(s,i,a,o,c,!0)}readKeyframes(){const{unresolvedKeyframes:s,element:i,name:a}=this;if(!i||!i.current)return;super.readKeyframes();for(let g=0;g<s.length;g++){let b=s[g];if(typeof b=="string"&&(b=b.trim(),isCSSVariableToken(b))){const _=getVariableValue(b,i.current);_!==void 0&&(s[g]=_),g===s.length-1&&(this.finalKeyframe=b)}}if(this.resolveNoneKeyframes(),!positionalKeys.has(a)||s.length!==2)return;const[o,c]=s,h=findDimensionValueType(o),d=findDimensionValueType(c);if(h!==d)if(isNumOrPxType(h)&&isNumOrPxType(d))for(let g=0;g<s.length;g++){const b=s[g];typeof b=="string"&&(s[g]=parseFloat(b))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:s,name:i}=this,a=[];for(let o=0;o<s.length;o++)isNone(s[o])&&a.push(o);a.length&&makeNoneKeyframesAnimatable(s,a,i)}measureInitialState(){const{element:s,unresolvedKeyframes:i,name:a}=this;if(!s||!s.current)return;a==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=positionalValues[a](s.measureViewportBox(),window.getComputedStyle(s.current)),i[0]=this.measuredOrigin;const o=i[i.length-1];o!==void 0&&s.getValue(a,o).jump(o,!1)}measureEndState(){var s;const{element:i,name:a,unresolvedKeyframes:o}=this;if(!i||!i.current)return;const c=i.getValue(a);c&&c.jump(this.measuredOrigin,!1);const h=o.length-1,d=o[h];o[h]=positionalValues[a](i.measureViewportBox(),window.getComputedStyle(i.current)),d!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=d),!((s=this.removedTransforms)===null||s===void 0)&&s.length&&this.removedTransforms.forEach(([g,b])=>{i.getValue(g).set(b)}),this.resolveNoneKeyframes()}}const isAnimatable=(e,s)=>s==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(complex.test(e)||e==="0")&&!e.startsWith("url("));function hasKeyframesChanged(e){const s=e[0];if(e.length===1)return!0;for(let i=0;i<e.length;i++)if(e[i]!==s)return!0}function canAnimate(e,s,i,a){const o=e[0];if(o===null)return!1;if(s==="display"||s==="visibility")return!0;const c=e[e.length-1],h=isAnimatable(o,s),d=isAnimatable(c,s);return!h||!d?!1:hasKeyframesChanged(e)||(i==="spring"||isGenerator(i))&&a}const isNotNull=e=>e!==null;function getFinalKeyframe(e,{repeat:s,repeatType:i="loop"},a){const o=e.filter(isNotNull),c=s&&i!=="loop"&&s%2===1?0:o.length-1;return!c||a===void 0?o[c]:a}const MAX_RESOLVE_DELAY=40;class BaseAnimation{constructor({autoplay:s=!0,delay:i=0,type:a="keyframes",repeat:o=0,repeatDelay:c=0,repeatType:h="loop",...d}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=time.now(),this.options={autoplay:s,delay:i,type:a,repeat:o,repeatDelay:c,repeatType:h,...d},this.updateFinishedPromise()}calcStartTime(){return this.resolvedAt?this.resolvedAt-this.createdAt>MAX_RESOLVE_DELAY?this.resolvedAt:this.createdAt:this.createdAt}get resolved(){return!this._resolved&&!this.hasAttemptedResolve&&flushKeyframeResolvers(),this._resolved}onKeyframesResolved(s,i){this.resolvedAt=time.now(),this.hasAttemptedResolve=!0;const{name:a,type:o,velocity:c,delay:h,onComplete:d,onUpdate:g,isGenerator:b}=this.options;if(!b&&!canAnimate(s,a,o,c))if(h)this.options.duration=0;else{g&&g(getFinalKeyframe(s,this.options,i)),d&&d(),this.resolveFinishedPromise();return}const _=this.initPlayback(s,i);_!==!1&&(this._resolved={keyframes:s,finalKeyframe:i,..._},this.onPostResolved())}onPostResolved(){}then(s,i){return this.currentFinishedPromise.then(s,i)}flatten(){this.options.type="keyframes",this.options.ease="linear"}updateFinishedPromise(){this.currentFinishedPromise=new Promise(s=>{this.resolveFinishedPromise=s})}}const mixNumber$1=(e,s,i)=>e+(s-e)*i;function hueToRgb(e,s,i){return i<0&&(i+=1),i>1&&(i-=1),i<1/6?e+(s-e)*6*i:i<1/2?s:i<2/3?e+(s-e)*(2/3-i)*6:e}function hslaToRgba({hue:e,saturation:s,lightness:i,alpha:a}){e/=360,s/=100,i/=100;let o=0,c=0,h=0;if(!s)o=c=h=i;else{const d=i<.5?i*(1+s):i+s-i*s,g=2*i-d;o=hueToRgb(g,d,e+1/3),c=hueToRgb(g,d,e),h=hueToRgb(g,d,e-1/3)}return{red:Math.round(o*255),green:Math.round(c*255),blue:Math.round(h*255),alpha:a}}function mixImmediate(e,s){return i=>i>0?s:e}const mixLinearColor=(e,s,i)=>{const a=e*e,o=i*(s*s-a)+a;return o<0?0:Math.sqrt(o)},colorTypes=[hex,rgba,hsla],getColorType=e=>colorTypes.find(s=>s.test(e));function asRGBA(e){const s=getColorType(e);if(!s)return!1;let i=s.parse(e);return s===hsla&&(i=hslaToRgba(i)),i}const mixColor=(e,s)=>{const i=asRGBA(e),a=asRGBA(s);if(!i||!a)return mixImmediate(e,s);const o={...i};return c=>(o.red=mixLinearColor(i.red,a.red,c),o.green=mixLinearColor(i.green,a.green,c),o.blue=mixLinearColor(i.blue,a.blue,c),o.alpha=mixNumber$1(i.alpha,a.alpha,c),rgba.transform(o))},combineFunctions=(e,s)=>i=>s(e(i)),pipe=(...e)=>e.reduce(combineFunctions),invisibleValues=new Set(["none","hidden"]);function mixVisibility(e,s){return invisibleValues.has(e)?i=>i<=0?e:s:i=>i>=1?s:e}function mixNumber(e,s){return i=>mixNumber$1(e,s,i)}function getMixer(e){return typeof e=="number"?mixNumber:typeof e=="string"?isCSSVariableToken(e)?mixImmediate:color.test(e)?mixColor:mixComplex:Array.isArray(e)?mixArray:typeof e=="object"?color.test(e)?mixColor:mixObject:mixImmediate}function mixArray(e,s){const i=[...e],a=i.length,o=e.map((c,h)=>getMixer(c)(c,s[h]));return c=>{for(let h=0;h<a;h++)i[h]=o[h](c);return i}}function mixObject(e,s){const i={...e,...s},a={};for(const o in i)e[o]!==void 0&&s[o]!==void 0&&(a[o]=getMixer(e[o])(e[o],s[o]));return o=>{for(const c in a)i[c]=a[c](o);return i}}function matchOrder(e,s){var i;const a=[],o={color:0,var:0,number:0};for(let c=0;c<s.values.length;c++){const h=s.types[c],d=e.indexes[h][o[h]],g=(i=e.values[d])!==null&&i!==void 0?i:0;a[c]=g,o[h]++}return a}const mixComplex=(e,s)=>{const i=complex.createTransformer(s),a=analyseComplexValue(e),o=analyseComplexValue(s);return a.indexes.var.length===o.indexes.var.length&&a.indexes.color.length===o.indexes.color.length&&a.indexes.number.length>=o.indexes.number.length?invisibleValues.has(e)&&!o.values.length||invisibleValues.has(s)&&!a.values.length?mixVisibility(e,s):pipe(mixArray(matchOrder(a,o),o.values),i):mixImmediate(e,s)};function mix(e,s,i){return typeof e=="number"&&typeof s=="number"&&typeof i=="number"?mixNumber$1(e,s,i):getMixer(e)(e,s)}const velocitySampleDuration=5;function calcGeneratorVelocity(e,s,i){const a=Math.max(s-velocitySampleDuration,0);return velocityPerSecond(i-e(a),s-a)}const springDefaults={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},safeMin=.001;function findSpring({duration:e=springDefaults.duration,bounce:s=springDefaults.bounce,velocity:i=springDefaults.velocity,mass:a=springDefaults.mass}){let o,c,h=1-s;h=clamp(springDefaults.minDamping,springDefaults.maxDamping,h),e=clamp(springDefaults.minDuration,springDefaults.maxDuration,millisecondsToSeconds(e)),h<1?(o=b=>{const _=b*h,$=_*e,j=_-i,st=calcAngularFreq(b,h),tt=Math.exp(-$);return safeMin-j/st*tt},c=b=>{const $=b*h*e,j=$*i+i,st=Math.pow(h,2)*Math.pow(b,2)*e,tt=Math.exp(-$),nt=calcAngularFreq(Math.pow(b,2),h);return(-o(b)+safeMin>0?-1:1)*((j-st)*tt)/nt}):(o=b=>{const _=Math.exp(-b*e),$=(b-i)*e+1;return-safeMin+_*$},c=b=>{const _=Math.exp(-b*e),$=(i-b)*(e*e);return _*$});const d=5/e,g=approximateRoot(o,c,d);if(e=secondsToMilliseconds(e),isNaN(g))return{stiffness:springDefaults.stiffness,damping:springDefaults.damping,duration:e};{const b=Math.pow(g,2)*a;return{stiffness:b,damping:h*2*Math.sqrt(a*b),duration:e}}}const rootIterations=12;function approximateRoot(e,s,i){let a=i;for(let o=1;o<rootIterations;o++)a=a-e(a)/s(a);return a}function calcAngularFreq(e,s){return e*Math.sqrt(1-s*s)}const durationKeys=["duration","bounce"],physicsKeys=["stiffness","damping","mass"];function isSpringType(e,s){return s.some(i=>e[i]!==void 0)}function getSpringOptions(e){let s={velocity:springDefaults.velocity,stiffness:springDefaults.stiffness,damping:springDefaults.damping,mass:springDefaults.mass,isResolvedFromDuration:!1,...e};if(!isSpringType(e,physicsKeys)&&isSpringType(e,durationKeys))if(e.visualDuration){const i=e.visualDuration,a=2*Math.PI/(i*1.2),o=a*a,c=2*clamp(.05,1,1-(e.bounce||0))*Math.sqrt(o);s={...s,mass:springDefaults.mass,stiffness:o,damping:c}}else{const i=findSpring(e);s={...s,...i,mass:springDefaults.mass},s.isResolvedFromDuration=!0}return s}function spring(e=springDefaults.visualDuration,s=springDefaults.bounce){const i=typeof e!="object"?{visualDuration:e,keyframes:[0,1],bounce:s}:e;let{restSpeed:a,restDelta:o}=i;const c=i.keyframes[0],h=i.keyframes[i.keyframes.length-1],d={done:!1,value:c},{stiffness:g,damping:b,mass:_,duration:$,velocity:j,isResolvedFromDuration:st}=getSpringOptions({...i,velocity:-millisecondsToSeconds(i.velocity||0)}),tt=j||0,nt=b/(2*Math.sqrt(g*_)),at=h-c,_e=millisecondsToSeconds(Math.sqrt(g/_)),rt=Math.abs(at)<5;a||(a=rt?springDefaults.restSpeed.granular:springDefaults.restSpeed.default),o||(o=rt?springDefaults.restDelta.granular:springDefaults.restDelta.default);let et;if(nt<1){const ot=calcAngularFreq(_e,nt);et=ut=>{const ht=Math.exp(-nt*_e*ut);return h-ht*((tt+nt*_e*at)/ot*Math.sin(ot*ut)+at*Math.cos(ot*ut))}}else if(nt===1)et=ot=>h-Math.exp(-_e*ot)*(at+(tt+_e*at)*ot);else{const ot=_e*Math.sqrt(nt*nt-1);et=ut=>{const ht=Math.exp(-nt*_e*ut),dt=Math.min(ot*ut,300);return h-ht*((tt+nt*_e*at)*Math.sinh(dt)+ot*at*Math.cosh(dt))/ot}}const it={calculatedDuration:st&&$||null,next:ot=>{const ut=et(ot);if(st)d.done=ot>=$;else{let ht=0;nt<1&&(ht=ot===0?secondsToMilliseconds(tt):calcGeneratorVelocity(et,ot,ut));const dt=Math.abs(ht)<=a,mt=Math.abs(h-ut)<=o;d.done=dt&&mt}return d.value=d.done?h:ut,d},toString:()=>{const ot=Math.min(calcGeneratorDuration(it),maxGeneratorDuration),ut=generateLinearEasing(ht=>it.next(ot*ht).value,ot,30);return ot+"ms "+ut}};return it}function inertia({keyframes:e,velocity:s=0,power:i=.8,timeConstant:a=325,bounceDamping:o=10,bounceStiffness:c=500,modifyTarget:h,min:d,max:g,restDelta:b=.5,restSpeed:_}){const $=e[0],j={done:!1,value:$},st=dt=>d!==void 0&&dt<d||g!==void 0&&dt>g,tt=dt=>d===void 0?g:g===void 0||Math.abs(d-dt)<Math.abs(g-dt)?d:g;let nt=i*s;const at=$+nt,_e=h===void 0?at:h(at);_e!==at&&(nt=_e-$);const rt=dt=>-nt*Math.exp(-dt/a),et=dt=>_e+rt(dt),it=dt=>{const mt=rt(dt),xt=et(dt);j.done=Math.abs(mt)<=b,j.value=j.done?_e:xt};let ot,ut;const ht=dt=>{st(j.value)&&(ot=dt,ut=spring({keyframes:[j.value,tt(j.value)],velocity:calcGeneratorVelocity(et,dt,j.value),damping:o,stiffness:c,restDelta:b,restSpeed:_}))};return ht(0),{calculatedDuration:null,next:dt=>{let mt=!1;return!ut&&ot===void 0&&(mt=!0,it(dt),ht(dt)),ot!==void 0&&dt>=ot?ut.next(dt-ot):(!mt&&it(dt),j)}}}const easeIn=cubicBezier(.42,0,1,1),easeOut=cubicBezier(0,0,.58,1),easeInOut=cubicBezier(.42,0,.58,1),isEasingArray=e=>Array.isArray(e)&&typeof e[0]!="number",easingLookup={linear:noop$2,easeIn,easeInOut,easeOut,circIn,circInOut,circOut,backIn,backInOut,backOut,anticipate},easingDefinitionToFunction=e=>{if(isBezierDefinition(e)){invariant(e.length===4);const[s,i,a,o]=e;return cubicBezier(s,i,a,o)}else if(typeof e=="string")return invariant(easingLookup[e]!==void 0),easingLookup[e];return e};function createMixers(e,s,i){const a=[],o=i||mix,c=e.length-1;for(let h=0;h<c;h++){let d=o(e[h],e[h+1]);if(s){const g=Array.isArray(s)?s[h]||noop$2:s;d=pipe(g,d)}a.push(d)}return a}function interpolate(e,s,{clamp:i=!0,ease:a,mixer:o}={}){const c=e.length;if(invariant(c===s.length),c===1)return()=>s[0];if(c===2&&s[0]===s[1])return()=>s[1];const h=e[0]===e[1];e[0]>e[c-1]&&(e=[...e].reverse(),s=[...s].reverse());const d=createMixers(s,a,o),g=d.length,b=_=>{if(h&&_<e[0])return s[0];let $=0;if(g>1)for(;$<e.length-2&&!(_<e[$+1]);$++);const j=progress(e[$],e[$+1],_);return d[$](j)};return i?_=>b(clamp(e[0],e[c-1],_)):b}function fillOffset(e,s){const i=e[e.length-1];for(let a=1;a<=s;a++){const o=progress(0,s,a);e.push(mixNumber$1(i,1,o))}}function defaultOffset(e){const s=[0];return fillOffset(s,e.length-1),s}function convertOffsetToTimes(e,s){return e.map(i=>i*s)}function defaultEasing(e,s){return e.map(()=>s||easeInOut).splice(0,e.length-1)}function keyframes({duration:e=300,keyframes:s,times:i,ease:a="easeInOut"}){const o=isEasingArray(a)?a.map(easingDefinitionToFunction):easingDefinitionToFunction(a),c={done:!1,value:s[0]},h=convertOffsetToTimes(i&&i.length===s.length?i:defaultOffset(s),e),d=interpolate(h,s,{ease:Array.isArray(o)?o:defaultEasing(s,o)});return{calculatedDuration:e,next:g=>(c.value=d(g),c.done=g>=e,c)}}const frameloopDriver=e=>{const s=({timestamp:i})=>e(i);return{start:()=>frame.update(s,!0),stop:()=>cancelFrame(s),now:()=>frameData.isProcessing?frameData.timestamp:time.now()}},generators={decay:inertia,inertia,tween:keyframes,keyframes,spring},percentToProgress=e=>e/100;class MainThreadAnimation extends BaseAnimation{constructor(s){super(s),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.startTime=null,this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:g}=this.options;g&&g()};const{name:i,motionValue:a,element:o,keyframes:c}=this.options,h=(o==null?void 0:o.KeyframeResolver)||KeyframeResolver,d=(g,b)=>this.onKeyframesResolved(g,b);this.resolver=new h(c,d,i,a,o),this.resolver.scheduleResolve()}flatten(){super.flatten(),this._resolved&&Object.assign(this._resolved,this.initPlayback(this._resolved.keyframes))}initPlayback(s){const{type:i="keyframes",repeat:a=0,repeatDelay:o=0,repeatType:c,velocity:h=0}=this.options,d=isGenerator(i)?i:generators[i]||keyframes;let g,b;d!==keyframes&&typeof s[0]!="number"&&(g=pipe(percentToProgress,mix(s[0],s[1])),s=[0,100]);const _=d({...this.options,keyframes:s});c==="mirror"&&(b=d({...this.options,keyframes:[...s].reverse(),velocity:-h})),_.calculatedDuration===null&&(_.calculatedDuration=calcGeneratorDuration(_));const{calculatedDuration:$}=_,j=$+o,st=j*(a+1)-o;return{generator:_,mirroredGenerator:b,mapPercentToKeyframes:g,calculatedDuration:$,resolvedDuration:j,totalDuration:st}}onPostResolved(){const{autoplay:s=!0}=this.options;this.play(),this.pendingPlayState==="paused"||!s?this.pause():this.state=this.pendingPlayState}tick(s,i=!1){const{resolved:a}=this;if(!a){const{keyframes:dt}=this.options;return{done:!0,value:dt[dt.length-1]}}const{finalKeyframe:o,generator:c,mirroredGenerator:h,mapPercentToKeyframes:d,keyframes:g,calculatedDuration:b,totalDuration:_,resolvedDuration:$}=a;if(this.startTime===null)return c.next(0);const{delay:j,repeat:st,repeatType:tt,repeatDelay:nt,onUpdate:at}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,s):this.speed<0&&(this.startTime=Math.min(s-_/this.speed,this.startTime)),i?this.currentTime=s:this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=Math.round(s-this.startTime)*this.speed;const _e=this.currentTime-j*(this.speed>=0?1:-1),rt=this.speed>=0?_e<0:_e>_;this.currentTime=Math.max(_e,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=_);let et=this.currentTime,it=c;if(st){const dt=Math.min(this.currentTime,_)/$;let mt=Math.floor(dt),xt=dt%1;!xt&&dt>=1&&(xt=1),xt===1&&mt--,mt=Math.min(mt,st+1),!!(mt%2)&&(tt==="reverse"?(xt=1-xt,nt&&(xt-=nt/$)):tt==="mirror"&&(it=h)),et=clamp(0,1,xt)*$}const ot=rt?{done:!1,value:g[0]}:it.next(et);d&&(ot.value=d(ot.value));let{done:ut}=ot;!rt&&b!==null&&(ut=this.speed>=0?this.currentTime>=_:this.currentTime<=0);const ht=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&ut);return ht&&o!==void 0&&(ot.value=getFinalKeyframe(g,this.options,o)),at&&at(ot.value),ht&&this.finish(),ot}get duration(){const{resolved:s}=this;return s?millisecondsToSeconds(s.calculatedDuration):0}get time(){return millisecondsToSeconds(this.currentTime)}set time(s){s=secondsToMilliseconds(s),this.currentTime=s,this.holdTime!==null||this.speed===0?this.holdTime=s:this.driver&&(this.startTime=this.driver.now()-s/this.speed)}get speed(){return this.playbackSpeed}set speed(s){const i=this.playbackSpeed!==s;this.playbackSpeed=s,i&&(this.time=millisecondsToSeconds(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;const{driver:s=frameloopDriver,onPlay:i,startTime:a}=this.options;this.driver||(this.driver=s(c=>this.tick(c))),i&&i();const o=this.driver.now();this.holdTime!==null?this.startTime=o-this.holdTime:this.startTime?this.state==="finished"&&(this.startTime=o):this.startTime=a??this.calcStartTime(),this.state==="finished"&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){var s;if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=(s=this.currentTime)!==null&&s!==void 0?s:0}complete(){this.state!=="running"&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:s}=this.options;s&&s()}cancel(){this.cancelTime!==null&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(s){return this.startTime=0,this.tick(s,!0)}}const acceleratedValues=new Set(["opacity","clipPath","filter","transform"]);function startWaapiAnimation(e,s,i,{delay:a=0,duration:o=300,repeat:c=0,repeatType:h="loop",ease:d="easeInOut",times:g}={}){const b={[s]:i};g&&(b.offset=g);const _=mapEasingToNativeEasing(d,o);return Array.isArray(_)&&(b.easing=_),e.animate(b,{delay:a,duration:o,easing:Array.isArray(_)?"linear":_,fill:"both",iterations:c+1,direction:h==="reverse"?"alternate":"normal"})}const supportsWaapi=memo(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),sampleDelta=10,maxDuration=2e4;function requiresPregeneratedKeyframes(e){return isGenerator(e.type)||e.type==="spring"||!isWaapiSupportedEasing(e.ease)}function pregenerateKeyframes(e,s){const i=new MainThreadAnimation({...s,keyframes:e,repeat:0,delay:0,isGenerator:!0});let a={done:!1,value:e[0]};const o=[];let c=0;for(;!a.done&&c<maxDuration;)a=i.sample(c),o.push(a.value),c+=sampleDelta;return{times:void 0,keyframes:o,duration:c-sampleDelta,ease:"linear"}}const unsupportedEasingFunctions={anticipate,backInOut,circInOut};function isUnsupportedEase(e){return e in unsupportedEasingFunctions}class AcceleratedAnimation extends BaseAnimation{constructor(s){super(s);const{name:i,motionValue:a,element:o,keyframes:c}=this.options;this.resolver=new DOMKeyframesResolver(c,(h,d)=>this.onKeyframesResolved(h,d),i,a,o),this.resolver.scheduleResolve()}initPlayback(s,i){let{duration:a=300,times:o,ease:c,type:h,motionValue:d,name:g,startTime:b}=this.options;if(!d.owner||!d.owner.current)return!1;if(typeof c=="string"&&supportsLinearEasing()&&isUnsupportedEase(c)&&(c=unsupportedEasingFunctions[c]),requiresPregeneratedKeyframes(this.options)){const{onComplete:$,onUpdate:j,motionValue:st,element:tt,...nt}=this.options,at=pregenerateKeyframes(s,nt);s=at.keyframes,s.length===1&&(s[1]=s[0]),a=at.duration,o=at.times,c=at.ease,h="keyframes"}const _=startWaapiAnimation(d.owner.current,g,s,{...this.options,duration:a,times:o,ease:c});return _.startTime=b??this.calcStartTime(),this.pendingTimeline?(attachTimeline(_,this.pendingTimeline),this.pendingTimeline=void 0):_.onfinish=()=>{const{onComplete:$}=this.options;d.set(getFinalKeyframe(s,this.options,i)),$&&$(),this.cancel(),this.resolveFinishedPromise()},{animation:_,duration:a,times:o,type:h,ease:c,keyframes:s}}get duration(){const{resolved:s}=this;if(!s)return 0;const{duration:i}=s;return millisecondsToSeconds(i)}get time(){const{resolved:s}=this;if(!s)return 0;const{animation:i}=s;return millisecondsToSeconds(i.currentTime||0)}set time(s){const{resolved:i}=this;if(!i)return;const{animation:a}=i;a.currentTime=secondsToMilliseconds(s)}get speed(){const{resolved:s}=this;if(!s)return 1;const{animation:i}=s;return i.playbackRate}set speed(s){const{resolved:i}=this;if(!i)return;const{animation:a}=i;a.playbackRate=s}get state(){const{resolved:s}=this;if(!s)return"idle";const{animation:i}=s;return i.playState}get startTime(){const{resolved:s}=this;if(!s)return null;const{animation:i}=s;return i.startTime}attachTimeline(s){if(!this._resolved)this.pendingTimeline=s;else{const{resolved:i}=this;if(!i)return noop$2;const{animation:a}=i;attachTimeline(a,s)}return noop$2}play(){if(this.isStopped)return;const{resolved:s}=this;if(!s)return;const{animation:i}=s;i.playState==="finished"&&this.updateFinishedPromise(),i.play()}pause(){const{resolved:s}=this;if(!s)return;const{animation:i}=s;i.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.resolveFinishedPromise(),this.updateFinishedPromise();const{resolved:s}=this;if(!s)return;const{animation:i,keyframes:a,duration:o,type:c,ease:h,times:d}=s;if(i.playState==="idle"||i.playState==="finished")return;if(this.time){const{motionValue:b,onUpdate:_,onComplete:$,element:j,...st}=this.options,tt=new MainThreadAnimation({...st,keyframes:a,duration:o,type:c,ease:h,times:d,isGenerator:!0}),nt=secondsToMilliseconds(this.time);b.setWithVelocity(tt.sample(nt-sampleDelta).value,tt.sample(nt).value,sampleDelta)}const{onStop:g}=this.options;g&&g(),this.cancel()}complete(){const{resolved:s}=this;s&&s.animation.finish()}cancel(){const{resolved:s}=this;s&&s.animation.cancel()}static supports(s){const{motionValue:i,name:a,repeatDelay:o,repeatType:c,damping:h,type:d}=s;if(!i||!i.owner||!(i.owner.current instanceof HTMLElement))return!1;const{onUpdate:g,transformTemplate:b}=i.owner.getProps();return supportsWaapi()&&a&&acceleratedValues.has(a)&&!g&&!b&&!o&&c!=="mirror"&&h!==0&&d!=="inertia"}}const underDampedSpring={type:"spring",stiffness:500,damping:25,restSpeed:10},criticallyDampedSpring=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),keyframesTransition={type:"keyframes",duration:.8},ease={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},getDefaultTransition=(e,{keyframes:s})=>s.length>2?keyframesTransition:transformProps.has(e)?e.startsWith("scale")?criticallyDampedSpring(s[1]):underDampedSpring:ease;function isTransitionDefined({when:e,delay:s,delayChildren:i,staggerChildren:a,staggerDirection:o,repeat:c,repeatType:h,repeatDelay:d,from:g,elapsed:b,..._}){return!!Object.keys(_).length}const animateMotionValue=(e,s,i,a={},o,c)=>h=>{const d=getValueTransition(a,e)||{},g=d.delay||a.delay||0;let{elapsed:b=0}=a;b=b-secondsToMilliseconds(g);let _={keyframes:Array.isArray(i)?i:[null,i],ease:"easeOut",velocity:s.getVelocity(),...d,delay:-b,onUpdate:j=>{s.set(j),d.onUpdate&&d.onUpdate(j)},onComplete:()=>{h(),d.onComplete&&d.onComplete()},name:e,motionValue:s,element:c?void 0:o};isTransitionDefined(d)||(_={..._,...getDefaultTransition(e,_)}),_.duration&&(_.duration=secondsToMilliseconds(_.duration)),_.repeatDelay&&(_.repeatDelay=secondsToMilliseconds(_.repeatDelay)),_.from!==void 0&&(_.keyframes[0]=_.from);let $=!1;if((_.type===!1||_.duration===0&&!_.repeatDelay)&&(_.duration=0,_.delay===0&&($=!0)),$&&!c&&s.get()!==void 0){const j=getFinalKeyframe(_.keyframes,d);if(j!==void 0)return frame.update(()=>{_.onUpdate(j),_.onComplete()}),new GroupPlaybackControls([])}return!c&&AcceleratedAnimation.supports(_)?new AcceleratedAnimation(_):new MainThreadAnimation(_)};function shouldBlockAnimation({protectedKeys:e,needsAnimating:s},i){const a=e.hasOwnProperty(i)&&s[i]!==!0;return s[i]=!1,a}function animateTarget(e,s,{delay:i=0,transitionOverride:a,type:o}={}){var c;let{transition:h=e.getDefaultTransition(),transitionEnd:d,...g}=s;a&&(h=a);const b=[],_=o&&e.animationState&&e.animationState.getState()[o];for(const $ in g){const j=e.getValue($,(c=e.latestValues[$])!==null&&c!==void 0?c:null),st=g[$];if(st===void 0||_&&shouldBlockAnimation(_,$))continue;const tt={delay:i,...getValueTransition(h||{},$)};let nt=!1;if(window.MotionHandoffAnimation){const _e=getOptimisedAppearId(e);if(_e){const rt=window.MotionHandoffAnimation(_e,$,frame);rt!==null&&(tt.startTime=rt,nt=!0)}}addValueToWillChange(e,$),j.start(animateMotionValue($,j,st,e.shouldReduceMotion&&positionalKeys.has($)?{type:!1}:tt,e,nt));const at=j.animation;at&&b.push(at)}return d&&Promise.all(b).then(()=>{frame.update(()=>{d&&setTarget(e,d)})}),b}function animateVariant(e,s,i={}){var a;const o=resolveVariant(e,s,i.type==="exit"?(a=e.presenceContext)===null||a===void 0?void 0:a.custom:void 0);let{transition:c=e.getDefaultTransition()||{}}=o||{};i.transitionOverride&&(c=i.transitionOverride);const h=o?()=>Promise.all(animateTarget(e,o,i)):()=>Promise.resolve(),d=e.variantChildren&&e.variantChildren.size?(b=0)=>{const{delayChildren:_=0,staggerChildren:$,staggerDirection:j}=c;return animateChildren(e,s,_+b,$,j,i)}:()=>Promise.resolve(),{when:g}=c;if(g){const[b,_]=g==="beforeChildren"?[h,d]:[d,h];return b().then(()=>_())}else return Promise.all([h(),d(i.delay)])}function animateChildren(e,s,i=0,a=0,o=1,c){const h=[],d=(e.variantChildren.size-1)*a,g=o===1?(b=0)=>b*a:(b=0)=>d-b*a;return Array.from(e.variantChildren).sort(sortByTreeOrder).forEach((b,_)=>{b.notify("AnimationStart",s),h.push(animateVariant(b,s,{...c,delay:i+g(_)}).then(()=>b.notify("AnimationComplete",s)))}),Promise.all(h)}function sortByTreeOrder(e,s){return e.sortNodePosition(s)}function animateVisualElement(e,s,i={}){e.notify("AnimationStart",s);let a;if(Array.isArray(s)){const o=s.map(c=>animateVariant(e,c,i));a=Promise.all(o)}else if(typeof s=="string")a=animateVariant(e,s,i);else{const o=typeof s=="function"?resolveVariant(e,s,i.custom):s;a=Promise.all(animateTarget(e,o,i))}return a.then(()=>{e.notify("AnimationComplete",s)})}const numVariantProps=variantProps.length;function getVariantContext(e){if(!e)return;if(!e.isControllingVariants){const i=e.parent?getVariantContext(e.parent)||{}:{};return e.props.initial!==void 0&&(i.initial=e.props.initial),i}const s={};for(let i=0;i<numVariantProps;i++){const a=variantProps[i],o=e.props[a];(isVariantLabel(o)||o===!1)&&(s[a]=o)}return s}const reversePriorityOrder=[...variantPriorityOrder].reverse(),numAnimationTypes=variantPriorityOrder.length;function animateList(e){return s=>Promise.all(s.map(({animation:i,options:a})=>animateVisualElement(e,i,a)))}function createAnimationState(e){let s=animateList(e),i=createState(),a=!0;const o=g=>(b,_)=>{var $;const j=resolveVariant(e,_,g==="exit"?($=e.presenceContext)===null||$===void 0?void 0:$.custom:void 0);if(j){const{transition:st,transitionEnd:tt,...nt}=j;b={...b,...nt,...tt}}return b};function c(g){s=g(e)}function h(g){const{props:b}=e,_=getVariantContext(e.parent)||{},$=[],j=new Set;let st={},tt=1/0;for(let at=0;at<numAnimationTypes;at++){const _e=reversePriorityOrder[at],rt=i[_e],et=b[_e]!==void 0?b[_e]:_[_e],it=isVariantLabel(et),ot=_e===g?rt.isActive:null;ot===!1&&(tt=at);let ut=et===_[_e]&&et!==b[_e]&&it;if(ut&&a&&e.manuallyAnimateOnMount&&(ut=!1),rt.protectedKeys={...st},!rt.isActive&&ot===null||!et&&!rt.prevProp||isAnimationControls(et)||typeof et=="boolean")continue;const ht=checkVariantsDidChange(rt.prevProp,et);let dt=ht||_e===g&&rt.isActive&&!ut&&it||at>tt&&it,mt=!1;const xt=Array.isArray(et)?et:[et];let St=xt.reduce(o(_e),{});ot===!1&&(St={});const{prevResolvedValues:vt={}}=rt,wt={...vt,...St},_t=pt=>{dt=!0,j.has(pt)&&(mt=!0,j.delete(pt)),rt.needsAnimating[pt]=!0;const lt=e.getValue(pt);lt&&(lt.liveStyle=!1)};for(const pt in wt){const lt=St[pt],ct=vt[pt];if(st.hasOwnProperty(pt))continue;let yt=!1;isKeyframesTarget(lt)&&isKeyframesTarget(ct)?yt=!shallowCompare(lt,ct):yt=lt!==ct,yt?lt!=null?_t(pt):j.add(pt):lt!==void 0&&j.has(pt)?_t(pt):rt.protectedKeys[pt]=!0}rt.prevProp=et,rt.prevResolvedValues=St,rt.isActive&&(st={...st,...St}),a&&e.blockInitialAnimation&&(dt=!1),dt&&(!(ut&&ht)||mt)&&$.push(...xt.map(pt=>({animation:pt,options:{type:_e}})))}if(j.size){const at={};j.forEach(_e=>{const rt=e.getBaseTarget(_e),et=e.getValue(_e);et&&(et.liveStyle=!0),at[_e]=rt??null}),$.push({animation:at})}let nt=!!$.length;return a&&(b.initial===!1||b.initial===b.animate)&&!e.manuallyAnimateOnMount&&(nt=!1),a=!1,nt?s($):Promise.resolve()}function d(g,b){var _;if(i[g].isActive===b)return Promise.resolve();(_=e.variantChildren)===null||_===void 0||_.forEach(j=>{var st;return(st=j.animationState)===null||st===void 0?void 0:st.setActive(g,b)}),i[g].isActive=b;const $=h(g);for(const j in i)i[j].protectedKeys={};return $}return{animateChanges:h,setActive:d,setAnimateFunction:c,getState:()=>i,reset:()=>{i=createState(),a=!0}}}function checkVariantsDidChange(e,s){return typeof s=="string"?s!==e:Array.isArray(s)?!shallowCompare(s,e):!1}function createTypeState(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function createState(){return{animate:createTypeState(!0),whileInView:createTypeState(),whileHover:createTypeState(),whileTap:createTypeState(),whileDrag:createTypeState(),whileFocus:createTypeState(),exit:createTypeState()}}class Feature{constructor(s){this.isMounted=!1,this.node=s}update(){}}class AnimationFeature extends Feature{constructor(s){super(s),s.animationState||(s.animationState=createAnimationState(s))}updateAnimationControlsSubscription(){const{animate:s}=this.node.getProps();isAnimationControls(s)&&(this.unmountControls=s.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:s}=this.node.getProps(),{animate:i}=this.node.prevProps||{};s!==i&&this.updateAnimationControlsSubscription()}unmount(){var s;this.node.animationState.reset(),(s=this.unmountControls)===null||s===void 0||s.call(this)}}let id$1=0;class ExitAnimationFeature extends Feature{constructor(){super(...arguments),this.id=id$1++}update(){if(!this.node.presenceContext)return;const{isPresent:s,onExitComplete:i}=this.node.presenceContext,{isPresent:a}=this.node.prevPresenceContext||{};if(!this.node.animationState||s===a)return;const o=this.node.animationState.setActive("exit",!s);i&&!s&&o.then(()=>i(this.id))}mount(){const{register:s}=this.node.presenceContext||{};s&&(this.unmount=s(this.id))}unmount(){}}const animations={animation:{Feature:AnimationFeature},exit:{Feature:ExitAnimationFeature}};function addDomEvent(e,s,i,a={passive:!0}){return e.addEventListener(s,i,a),()=>e.removeEventListener(s,i)}function extractEventInfo(e){return{point:{x:e.pageX,y:e.pageY}}}const addPointerInfo=e=>s=>isPrimaryPointer(s)&&e(s,extractEventInfo(s));function addPointerEvent(e,s,i,a){return addDomEvent(e,s,addPointerInfo(i),a)}const distance=(e,s)=>Math.abs(e-s);function distance2D(e,s){const i=distance(e.x,s.x),a=distance(e.y,s.y);return Math.sqrt(i**2+a**2)}class PanSession{constructor(s,i,{transformPagePoint:a,contextWindow:o,dragSnapToOrigin:c=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const $=getPanInfo(this.lastMoveEventInfo,this.history),j=this.startEvent!==null,st=distance2D($.offset,{x:0,y:0})>=3;if(!j&&!st)return;const{point:tt}=$,{timestamp:nt}=frameData;this.history.push({...tt,timestamp:nt});const{onStart:at,onMove:_e}=this.handlers;j||(at&&at(this.lastMoveEvent,$),this.startEvent=this.lastMoveEvent),_e&&_e(this.lastMoveEvent,$)},this.handlePointerMove=($,j)=>{this.lastMoveEvent=$,this.lastMoveEventInfo=transformPoint(j,this.transformPagePoint),frame.update(this.updatePoint,!0)},this.handlePointerUp=($,j)=>{this.end();const{onEnd:st,onSessionEnd:tt,resumeAnimation:nt}=this.handlers;if(this.dragSnapToOrigin&&nt&&nt(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const at=getPanInfo($.type==="pointercancel"?this.lastMoveEventInfo:transformPoint(j,this.transformPagePoint),this.history);this.startEvent&&st&&st($,at),tt&&tt($,at)},!isPrimaryPointer(s))return;this.dragSnapToOrigin=c,this.handlers=i,this.transformPagePoint=a,this.contextWindow=o||window;const h=extractEventInfo(s),d=transformPoint(h,this.transformPagePoint),{point:g}=d,{timestamp:b}=frameData;this.history=[{...g,timestamp:b}];const{onSessionStart:_}=i;_&&_(s,getPanInfo(d,this.history)),this.removeListeners=pipe(addPointerEvent(this.contextWindow,"pointermove",this.handlePointerMove),addPointerEvent(this.contextWindow,"pointerup",this.handlePointerUp),addPointerEvent(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(s){this.handlers=s}end(){this.removeListeners&&this.removeListeners(),cancelFrame(this.updatePoint)}}function transformPoint(e,s){return s?{point:s(e.point)}:e}function subtractPoint(e,s){return{x:e.x-s.x,y:e.y-s.y}}function getPanInfo({point:e},s){return{point:e,delta:subtractPoint(e,lastDevicePoint(s)),offset:subtractPoint(e,startDevicePoint(s)),velocity:getVelocity(s,.1)}}function startDevicePoint(e){return e[0]}function lastDevicePoint(e){return e[e.length-1]}function getVelocity(e,s){if(e.length<2)return{x:0,y:0};let i=e.length-1,a=null;const o=lastDevicePoint(e);for(;i>=0&&(a=e[i],!(o.timestamp-a.timestamp>secondsToMilliseconds(s)));)i--;if(!a)return{x:0,y:0};const c=millisecondsToSeconds(o.timestamp-a.timestamp);if(c===0)return{x:0,y:0};const h={x:(o.x-a.x)/c,y:(o.y-a.y)/c};return h.x===1/0&&(h.x=0),h.y===1/0&&(h.y=0),h}const SCALE_PRECISION=1e-4,SCALE_MIN=1-SCALE_PRECISION,SCALE_MAX=1+SCALE_PRECISION,TRANSLATE_PRECISION=.01,TRANSLATE_MIN=0-TRANSLATE_PRECISION,TRANSLATE_MAX=0+TRANSLATE_PRECISION;function calcLength(e){return e.max-e.min}function isNear(e,s,i){return Math.abs(e-s)<=i}function calcAxisDelta(e,s,i,a=.5){e.origin=a,e.originPoint=mixNumber$1(s.min,s.max,e.origin),e.scale=calcLength(i)/calcLength(s),e.translate=mixNumber$1(i.min,i.max,e.origin)-e.originPoint,(e.scale>=SCALE_MIN&&e.scale<=SCALE_MAX||isNaN(e.scale))&&(e.scale=1),(e.translate>=TRANSLATE_MIN&&e.translate<=TRANSLATE_MAX||isNaN(e.translate))&&(e.translate=0)}function calcBoxDelta(e,s,i,a){calcAxisDelta(e.x,s.x,i.x,a?a.originX:void 0),calcAxisDelta(e.y,s.y,i.y,a?a.originY:void 0)}function calcRelativeAxis(e,s,i){e.min=i.min+s.min,e.max=e.min+calcLength(s)}function calcRelativeBox(e,s,i){calcRelativeAxis(e.x,s.x,i.x),calcRelativeAxis(e.y,s.y,i.y)}function calcRelativeAxisPosition(e,s,i){e.min=s.min-i.min,e.max=e.min+calcLength(s)}function calcRelativePosition(e,s,i){calcRelativeAxisPosition(e.x,s.x,i.x),calcRelativeAxisPosition(e.y,s.y,i.y)}function applyConstraints(e,{min:s,max:i},a){return s!==void 0&&e<s?e=a?mixNumber$1(s,e,a.min):Math.max(e,s):i!==void 0&&e>i&&(e=a?mixNumber$1(i,e,a.max):Math.min(e,i)),e}function calcRelativeAxisConstraints(e,s,i){return{min:s!==void 0?e.min+s:void 0,max:i!==void 0?e.max+i-(e.max-e.min):void 0}}function calcRelativeConstraints(e,{top:s,left:i,bottom:a,right:o}){return{x:calcRelativeAxisConstraints(e.x,i,o),y:calcRelativeAxisConstraints(e.y,s,a)}}function calcViewportAxisConstraints(e,s){let i=s.min-e.min,a=s.max-e.max;return s.max-s.min<e.max-e.min&&([i,a]=[a,i]),{min:i,max:a}}function calcViewportConstraints(e,s){return{x:calcViewportAxisConstraints(e.x,s.x),y:calcViewportAxisConstraints(e.y,s.y)}}function calcOrigin(e,s){let i=.5;const a=calcLength(e),o=calcLength(s);return o>a?i=progress(s.min,s.max-a,e.min):a>o&&(i=progress(e.min,e.max-o,s.min)),clamp(0,1,i)}function rebaseAxisConstraints(e,s){const i={};return s.min!==void 0&&(i.min=s.min-e.min),s.max!==void 0&&(i.max=s.max-e.min),i}const defaultElastic=.35;function resolveDragElastic(e=defaultElastic){return e===!1?e=0:e===!0&&(e=defaultElastic),{x:resolveAxisElastic(e,"left","right"),y:resolveAxisElastic(e,"top","bottom")}}function resolveAxisElastic(e,s,i){return{min:resolvePointElastic(e,s),max:resolvePointElastic(e,i)}}function resolvePointElastic(e,s){return typeof e=="number"?e:e[s]||0}const createAxisDelta=()=>({translate:0,scale:1,origin:0,originPoint:0}),createDelta=()=>({x:createAxisDelta(),y:createAxisDelta()}),createAxis=()=>({min:0,max:0}),createBox=()=>({x:createAxis(),y:createAxis()});function eachAxis(e){return[e("x"),e("y")]}function convertBoundingBoxToBox({top:e,left:s,right:i,bottom:a}){return{x:{min:s,max:i},y:{min:e,max:a}}}function convertBoxToBoundingBox({x:e,y:s}){return{top:s.min,right:e.max,bottom:s.max,left:e.min}}function transformBoxPoints(e,s){if(!s)return e;const i=s({x:e.left,y:e.top}),a=s({x:e.right,y:e.bottom});return{top:i.y,left:i.x,bottom:a.y,right:a.x}}function isIdentityScale(e){return e===void 0||e===1}function hasScale({scale:e,scaleX:s,scaleY:i}){return!isIdentityScale(e)||!isIdentityScale(s)||!isIdentityScale(i)}function hasTransform(e){return hasScale(e)||has2DTranslate(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function has2DTranslate(e){return is2DTranslate(e.x)||is2DTranslate(e.y)}function is2DTranslate(e){return e&&e!=="0%"}function scalePoint(e,s,i){const a=e-i,o=s*a;return i+o}function applyPointDelta(e,s,i,a,o){return o!==void 0&&(e=scalePoint(e,o,a)),scalePoint(e,i,a)+s}function applyAxisDelta(e,s=0,i=1,a,o){e.min=applyPointDelta(e.min,s,i,a,o),e.max=applyPointDelta(e.max,s,i,a,o)}function applyBoxDelta(e,{x:s,y:i}){applyAxisDelta(e.x,s.translate,s.scale,s.originPoint),applyAxisDelta(e.y,i.translate,i.scale,i.originPoint)}const TREE_SCALE_SNAP_MIN=.999999999999,TREE_SCALE_SNAP_MAX=1.0000000000001;function applyTreeDeltas(e,s,i,a=!1){const o=i.length;if(!o)return;s.x=s.y=1;let c,h;for(let d=0;d<o;d++){c=i[d],h=c.projectionDelta;const{visualElement:g}=c.options;g&&g.props.style&&g.props.style.display==="contents"||(a&&c.options.layoutScroll&&c.scroll&&c!==c.root&&transformBox(e,{x:-c.scroll.offset.x,y:-c.scroll.offset.y}),h&&(s.x*=h.x.scale,s.y*=h.y.scale,applyBoxDelta(e,h)),a&&hasTransform(c.latestValues)&&transformBox(e,c.latestValues))}s.x<TREE_SCALE_SNAP_MAX&&s.x>TREE_SCALE_SNAP_MIN&&(s.x=1),s.y<TREE_SCALE_SNAP_MAX&&s.y>TREE_SCALE_SNAP_MIN&&(s.y=1)}function translateAxis(e,s){e.min=e.min+s,e.max=e.max+s}function transformAxis(e,s,i,a,o=.5){const c=mixNumber$1(e.min,e.max,o);applyAxisDelta(e,s,i,c,a)}function transformBox(e,s){transformAxis(e.x,s.x,s.scaleX,s.scale,s.originX),transformAxis(e.y,s.y,s.scaleY,s.scale,s.originY)}function measureViewportBox(e,s){return convertBoundingBoxToBox(transformBoxPoints(e.getBoundingClientRect(),s))}function measurePageBox(e,s,i){const a=measureViewportBox(e,i),{scroll:o}=s;return o&&(translateAxis(a.x,o.offset.x),translateAxis(a.y,o.offset.y)),a}const getContextWindow=({current:e})=>e?e.ownerDocument.defaultView:null,elementDragControls=new WeakMap;class VisualElementDragControls{constructor(s){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=createBox(),this.visualElement=s}start(s,{snapToCursor:i=!1}={}){const{presenceContext:a}=this.visualElement;if(a&&a.isPresent===!1)return;const o=_=>{const{dragSnapToOrigin:$}=this.getProps();$?this.pauseAnimation():this.stopAnimation(),i&&this.snapToCursor(extractEventInfo(_).point)},c=(_,$)=>{const{drag:j,dragPropagation:st,onDragStart:tt}=this.getProps();if(j&&!st&&(this.openDragLock&&this.openDragLock(),this.openDragLock=setDragLock(j),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),eachAxis(at=>{let _e=this.getAxisMotionValue(at).get()||0;if(percent.test(_e)){const{projection:rt}=this.visualElement;if(rt&&rt.layout){const et=rt.layout.layoutBox[at];et&&(_e=calcLength(et)*(parseFloat(_e)/100))}}this.originPoint[at]=_e}),tt&&frame.postRender(()=>tt(_,$)),addValueToWillChange(this.visualElement,"transform");const{animationState:nt}=this.visualElement;nt&&nt.setActive("whileDrag",!0)},h=(_,$)=>{const{dragPropagation:j,dragDirectionLock:st,onDirectionLock:tt,onDrag:nt}=this.getProps();if(!j&&!this.openDragLock)return;const{offset:at}=$;if(st&&this.currentDirection===null){this.currentDirection=getCurrentDirection(at),this.currentDirection!==null&&tt&&tt(this.currentDirection);return}this.updateAxis("x",$.point,at),this.updateAxis("y",$.point,at),this.visualElement.render(),nt&&nt(_,$)},d=(_,$)=>this.stop(_,$),g=()=>eachAxis(_=>{var $;return this.getAnimationState(_)==="paused"&&(($=this.getAxisMotionValue(_).animation)===null||$===void 0?void 0:$.play())}),{dragSnapToOrigin:b}=this.getProps();this.panSession=new PanSession(s,{onSessionStart:o,onStart:c,onMove:h,onSessionEnd:d,resumeAnimation:g},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:b,contextWindow:getContextWindow(this.visualElement)})}stop(s,i){const a=this.isDragging;if(this.cancel(),!a)return;const{velocity:o}=i;this.startAnimation(o);const{onDragEnd:c}=this.getProps();c&&frame.postRender(()=>c(s,i))}cancel(){this.isDragging=!1;const{projection:s,animationState:i}=this.visualElement;s&&(s.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:a}=this.getProps();!a&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),i&&i.setActive("whileDrag",!1)}updateAxis(s,i,a){const{drag:o}=this.getProps();if(!a||!shouldDrag(s,o,this.currentDirection))return;const c=this.getAxisMotionValue(s);let h=this.originPoint[s]+a[s];this.constraints&&this.constraints[s]&&(h=applyConstraints(h,this.constraints[s],this.elastic[s])),c.set(h)}resolveConstraints(){var s;const{dragConstraints:i,dragElastic:a}=this.getProps(),o=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(s=this.visualElement.projection)===null||s===void 0?void 0:s.layout,c=this.constraints;i&&isRefObject(i)?this.constraints||(this.constraints=this.resolveRefConstraints()):i&&o?this.constraints=calcRelativeConstraints(o.layoutBox,i):this.constraints=!1,this.elastic=resolveDragElastic(a),c!==this.constraints&&o&&this.constraints&&!this.hasMutatedConstraints&&eachAxis(h=>{this.constraints!==!1&&this.getAxisMotionValue(h)&&(this.constraints[h]=rebaseAxisConstraints(o.layoutBox[h],this.constraints[h]))})}resolveRefConstraints(){const{dragConstraints:s,onMeasureDragConstraints:i}=this.getProps();if(!s||!isRefObject(s))return!1;const a=s.current,{projection:o}=this.visualElement;if(!o||!o.layout)return!1;const c=measurePageBox(a,o.root,this.visualElement.getTransformPagePoint());let h=calcViewportConstraints(o.layout.layoutBox,c);if(i){const d=i(convertBoxToBoundingBox(h));this.hasMutatedConstraints=!!d,d&&(h=convertBoundingBoxToBox(d))}return h}startAnimation(s){const{drag:i,dragMomentum:a,dragElastic:o,dragTransition:c,dragSnapToOrigin:h,onDragTransitionEnd:d}=this.getProps(),g=this.constraints||{},b=eachAxis(_=>{if(!shouldDrag(_,i,this.currentDirection))return;let $=g&&g[_]||{};h&&($={min:0,max:0});const j=o?200:1e6,st=o?40:1e7,tt={type:"inertia",velocity:a?s[_]:0,bounceStiffness:j,bounceDamping:st,timeConstant:750,restDelta:1,restSpeed:10,...c,...$};return this.startAxisValueAnimation(_,tt)});return Promise.all(b).then(d)}startAxisValueAnimation(s,i){const a=this.getAxisMotionValue(s);return addValueToWillChange(this.visualElement,s),a.start(animateMotionValue(s,a,0,i,this.visualElement,!1))}stopAnimation(){eachAxis(s=>this.getAxisMotionValue(s).stop())}pauseAnimation(){eachAxis(s=>{var i;return(i=this.getAxisMotionValue(s).animation)===null||i===void 0?void 0:i.pause()})}getAnimationState(s){var i;return(i=this.getAxisMotionValue(s).animation)===null||i===void 0?void 0:i.state}getAxisMotionValue(s){const i=`_drag${s.toUpperCase()}`,a=this.visualElement.getProps(),o=a[i];return o||this.visualElement.getValue(s,(a.initial?a.initial[s]:void 0)||0)}snapToCursor(s){eachAxis(i=>{const{drag:a}=this.getProps();if(!shouldDrag(i,a,this.currentDirection))return;const{projection:o}=this.visualElement,c=this.getAxisMotionValue(i);if(o&&o.layout){const{min:h,max:d}=o.layout.layoutBox[i];c.set(s[i]-mixNumber$1(h,d,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:s,dragConstraints:i}=this.getProps(),{projection:a}=this.visualElement;if(!isRefObject(i)||!a||!this.constraints)return;this.stopAnimation();const o={x:0,y:0};eachAxis(h=>{const d=this.getAxisMotionValue(h);if(d&&this.constraints!==!1){const g=d.get();o[h]=calcOrigin({min:g,max:g},this.constraints[h])}});const{transformTemplate:c}=this.visualElement.getProps();this.visualElement.current.style.transform=c?c({},""):"none",a.root&&a.root.updateScroll(),a.updateLayout(),this.resolveConstraints(),eachAxis(h=>{if(!shouldDrag(h,s,null))return;const d=this.getAxisMotionValue(h),{min:g,max:b}=this.constraints[h];d.set(mixNumber$1(g,b,o[h]))})}addListeners(){if(!this.visualElement.current)return;elementDragControls.set(this.visualElement,this);const s=this.visualElement.current,i=addPointerEvent(s,"pointerdown",g=>{const{drag:b,dragListener:_=!0}=this.getProps();b&&_&&this.start(g)}),a=()=>{const{dragConstraints:g}=this.getProps();isRefObject(g)&&g.current&&(this.constraints=this.resolveRefConstraints())},{projection:o}=this.visualElement,c=o.addEventListener("measure",a);o&&!o.layout&&(o.root&&o.root.updateScroll(),o.updateLayout()),frame.read(a);const h=addDomEvent(window,"resize",()=>this.scalePositionWithinConstraints()),d=o.addEventListener("didUpdate",({delta:g,hasLayoutChanged:b})=>{this.isDragging&&b&&(eachAxis(_=>{const $=this.getAxisMotionValue(_);$&&(this.originPoint[_]+=g[_].translate,$.set($.get()+g[_].translate))}),this.visualElement.render())});return()=>{h(),i(),c(),d&&d()}}getProps(){const s=this.visualElement.getProps(),{drag:i=!1,dragDirectionLock:a=!1,dragPropagation:o=!1,dragConstraints:c=!1,dragElastic:h=defaultElastic,dragMomentum:d=!0}=s;return{...s,drag:i,dragDirectionLock:a,dragPropagation:o,dragConstraints:c,dragElastic:h,dragMomentum:d}}}function shouldDrag(e,s,i){return(s===!0||s===e)&&(i===null||i===e)}function getCurrentDirection(e,s=10){let i=null;return Math.abs(e.y)>s?i="y":Math.abs(e.x)>s&&(i="x"),i}class DragGesture extends Feature{constructor(s){super(s),this.removeGroupControls=noop$2,this.removeListeners=noop$2,this.controls=new VisualElementDragControls(s)}mount(){const{dragControls:s}=this.node.getProps();s&&(this.removeGroupControls=s.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||noop$2}unmount(){this.removeGroupControls(),this.removeListeners()}}const asyncHandler=e=>(s,i)=>{e&&frame.postRender(()=>e(s,i))};class PanGesture extends Feature{constructor(){super(...arguments),this.removePointerDownListener=noop$2}onPointerDown(s){this.session=new PanSession(s,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:getContextWindow(this.node)})}createPanHandlers(){const{onPanSessionStart:s,onPanStart:i,onPan:a,onPanEnd:o}=this.node.getProps();return{onSessionStart:asyncHandler(s),onStart:asyncHandler(i),onMove:a,onEnd:(c,h)=>{delete this.session,o&&frame.postRender(()=>o(c,h))}}}mount(){this.removePointerDownListener=addPointerEvent(this.node.current,"pointerdown",s=>this.onPointerDown(s))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const globalProjectionState={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function pixelsToPercent(e,s){return s.max===s.min?0:e/(s.max-s.min)*100}const correctBorderRadius={correct:(e,s)=>{if(!s.target)return e;if(typeof e=="string")if(px.test(e))e=parseFloat(e);else return e;const i=pixelsToPercent(e,s.target.x),a=pixelsToPercent(e,s.target.y);return`${i}% ${a}%`}},correctBoxShadow={correct:(e,{treeScale:s,projectionDelta:i})=>{const a=e,o=complex.parse(e);if(o.length>5)return a;const c=complex.createTransformer(e),h=typeof o[0]!="number"?1:0,d=i.x.scale*s.x,g=i.y.scale*s.y;o[0+h]/=d,o[1+h]/=g;const b=mixNumber$1(d,g,.5);return typeof o[2+h]=="number"&&(o[2+h]/=b),typeof o[3+h]=="number"&&(o[3+h]/=b),c(o)}};class MeasureLayoutWithContext extends reactExports.Component{componentDidMount(){const{visualElement:s,layoutGroup:i,switchLayoutGroup:a,layoutId:o}=this.props,{projection:c}=s;addScaleCorrector(defaultScaleCorrectors),c&&(i.group&&i.group.add(c),a&&a.register&&o&&a.register(c),c.root.didUpdate(),c.addEventListener("animationComplete",()=>{this.safeToRemove()}),c.setOptions({...c.options,onExitComplete:()=>this.safeToRemove()})),globalProjectionState.hasEverUpdated=!0}getSnapshotBeforeUpdate(s){const{layoutDependency:i,visualElement:a,drag:o,isPresent:c}=this.props,h=a.projection;return h&&(h.isPresent=c,o||s.layoutDependency!==i||i===void 0?h.willUpdate():this.safeToRemove(),s.isPresent!==c&&(c?h.promote():h.relegate()||frame.postRender(()=>{const d=h.getStack();(!d||!d.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:s}=this.props.visualElement;s&&(s.root.didUpdate(),microtask.postRender(()=>{!s.currentAnimation&&s.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:s,layoutGroup:i,switchLayoutGroup:a}=this.props,{projection:o}=s;o&&(o.scheduleCheckAfterUnmount(),i&&i.group&&i.group.remove(o),a&&a.deregister&&a.deregister(o))}safeToRemove(){const{safeToRemove:s}=this.props;s&&s()}render(){return null}}function MeasureLayout(e){const[s,i]=usePresence(),a=reactExports.useContext(LayoutGroupContext);return jsxRuntimeExports.jsx(MeasureLayoutWithContext,{...e,layoutGroup:a,switchLayoutGroup:reactExports.useContext(SwitchLayoutGroupContext),isPresent:s,safeToRemove:i})}const defaultScaleCorrectors={borderRadius:{...correctBorderRadius,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:correctBorderRadius,borderTopRightRadius:correctBorderRadius,borderBottomLeftRadius:correctBorderRadius,borderBottomRightRadius:correctBorderRadius,boxShadow:correctBoxShadow};function animateSingleValue(e,s,i){const a=isMotionValue(e)?e:motionValue(e);return a.start(animateMotionValue("",a,s,i)),a.animation}function isSVGElement(e){return e instanceof SVGElement&&e.tagName!=="svg"}const compareByDepth=(e,s)=>e.depth-s.depth;class FlatTree{constructor(){this.children=[],this.isDirty=!1}add(s){addUniqueItem(this.children,s),this.isDirty=!0}remove(s){removeItem(this.children,s),this.isDirty=!0}forEach(s){this.isDirty&&this.children.sort(compareByDepth),this.isDirty=!1,this.children.forEach(s)}}function delay(e,s){const i=time.now(),a=({timestamp:o})=>{const c=o-i;c>=s&&(cancelFrame(a),e(c-s))};return frame.read(a,!0),()=>cancelFrame(a)}const borders=["TopLeft","TopRight","BottomLeft","BottomRight"],numBorders=borders.length,asNumber=e=>typeof e=="string"?parseFloat(e):e,isPx=e=>typeof e=="number"||px.test(e);function mixValues(e,s,i,a,o,c){o?(e.opacity=mixNumber$1(0,i.opacity!==void 0?i.opacity:1,easeCrossfadeIn(a)),e.opacityExit=mixNumber$1(s.opacity!==void 0?s.opacity:1,0,easeCrossfadeOut(a))):c&&(e.opacity=mixNumber$1(s.opacity!==void 0?s.opacity:1,i.opacity!==void 0?i.opacity:1,a));for(let h=0;h<numBorders;h++){const d=`border${borders[h]}Radius`;let g=getRadius(s,d),b=getRadius(i,d);if(g===void 0&&b===void 0)continue;g||(g=0),b||(b=0),g===0||b===0||isPx(g)===isPx(b)?(e[d]=Math.max(mixNumber$1(asNumber(g),asNumber(b),a),0),(percent.test(b)||percent.test(g))&&(e[d]+="%")):e[d]=b}(s.rotate||i.rotate)&&(e.rotate=mixNumber$1(s.rotate||0,i.rotate||0,a))}function getRadius(e,s){return e[s]!==void 0?e[s]:e.borderRadius}const easeCrossfadeIn=compress(0,.5,circOut),easeCrossfadeOut=compress(.5,.95,noop$2);function compress(e,s,i){return a=>a<e?0:a>s?1:i(progress(e,s,a))}function copyAxisInto(e,s){e.min=s.min,e.max=s.max}function copyBoxInto(e,s){copyAxisInto(e.x,s.x),copyAxisInto(e.y,s.y)}function copyAxisDeltaInto(e,s){e.translate=s.translate,e.scale=s.scale,e.originPoint=s.originPoint,e.origin=s.origin}function removePointDelta(e,s,i,a,o){return e-=s,e=scalePoint(e,1/i,a),o!==void 0&&(e=scalePoint(e,1/o,a)),e}function removeAxisDelta(e,s=0,i=1,a=.5,o,c=e,h=e){if(percent.test(s)&&(s=parseFloat(s),s=mixNumber$1(h.min,h.max,s/100)-h.min),typeof s!="number")return;let d=mixNumber$1(c.min,c.max,a);e===c&&(d-=s),e.min=removePointDelta(e.min,s,i,d,o),e.max=removePointDelta(e.max,s,i,d,o)}function removeAxisTransforms(e,s,[i,a,o],c,h){removeAxisDelta(e,s[i],s[a],s[o],s.scale,c,h)}const xKeys=["x","scaleX","originX"],yKeys=["y","scaleY","originY"];function removeBoxTransforms(e,s,i,a){removeAxisTransforms(e.x,s,xKeys,i?i.x:void 0,a?a.x:void 0),removeAxisTransforms(e.y,s,yKeys,i?i.y:void 0,a?a.y:void 0)}function isAxisDeltaZero(e){return e.translate===0&&e.scale===1}function isDeltaZero(e){return isAxisDeltaZero(e.x)&&isAxisDeltaZero(e.y)}function axisEquals(e,s){return e.min===s.min&&e.max===s.max}function boxEquals(e,s){return axisEquals(e.x,s.x)&&axisEquals(e.y,s.y)}function axisEqualsRounded(e,s){return Math.round(e.min)===Math.round(s.min)&&Math.round(e.max)===Math.round(s.max)}function boxEqualsRounded(e,s){return axisEqualsRounded(e.x,s.x)&&axisEqualsRounded(e.y,s.y)}function aspectRatio(e){return calcLength(e.x)/calcLength(e.y)}function axisDeltaEquals(e,s){return e.translate===s.translate&&e.scale===s.scale&&e.originPoint===s.originPoint}class NodeStack{constructor(){this.members=[]}add(s){addUniqueItem(this.members,s),s.scheduleRender()}remove(s){if(removeItem(this.members,s),s===this.prevLead&&(this.prevLead=void 0),s===this.lead){const i=this.members[this.members.length-1];i&&this.promote(i)}}relegate(s){const i=this.members.findIndex(o=>s===o);if(i===0)return!1;let a;for(let o=i;o>=0;o--){const c=this.members[o];if(c.isPresent!==!1){a=c;break}}return a?(this.promote(a),!0):!1}promote(s,i){const a=this.lead;if(s!==a&&(this.prevLead=a,this.lead=s,s.show(),a)){a.instance&&a.scheduleRender(),s.scheduleRender(),s.resumeFrom=a,i&&(s.resumeFrom.preserveOpacity=!0),a.snapshot&&(s.snapshot=a.snapshot,s.snapshot.latestValues=a.animationValues||a.latestValues),s.root&&s.root.isUpdating&&(s.isLayoutDirty=!0);const{crossfade:o}=s.options;o===!1&&a.hide()}}exitAnimationComplete(){this.members.forEach(s=>{const{options:i,resumingFrom:a}=s;i.onExitComplete&&i.onExitComplete(),a&&a.options.onExitComplete&&a.options.onExitComplete()})}scheduleRender(){this.members.forEach(s=>{s.instance&&s.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function buildProjectionTransform(e,s,i){let a="";const o=e.x.translate/s.x,c=e.y.translate/s.y,h=(i==null?void 0:i.z)||0;if((o||c||h)&&(a=`translate3d(${o}px, ${c}px, ${h}px) `),(s.x!==1||s.y!==1)&&(a+=`scale(${1/s.x}, ${1/s.y}) `),i){const{transformPerspective:b,rotate:_,rotateX:$,rotateY:j,skewX:st,skewY:tt}=i;b&&(a=`perspective(${b}px) ${a}`),_&&(a+=`rotate(${_}deg) `),$&&(a+=`rotateX(${$}deg) `),j&&(a+=`rotateY(${j}deg) `),st&&(a+=`skewX(${st}deg) `),tt&&(a+=`skewY(${tt}deg) `)}const d=e.x.scale*s.x,g=e.y.scale*s.y;return(d!==1||g!==1)&&(a+=`scale(${d}, ${g})`),a||"none"}const metrics={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0},isDebug=typeof window<"u"&&window.MotionDebug!==void 0,transformAxes=["","X","Y","Z"],hiddenVisibility={visibility:"hidden"},animationTarget=1e3;let id=0;function resetDistortingTransform(e,s,i,a){const{latestValues:o}=s;o[e]&&(i[e]=o[e],s.setStaticValue(e,0),a&&(a[e]=0))}function cancelTreeOptimisedTransformAnimations(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:s}=e.options;if(!s)return;const i=getOptimisedAppearId(s);if(window.MotionHasOptimisedAnimation(i,"transform")){const{layout:o,layoutId:c}=e.options;window.MotionCancelOptimisedAnimation(i,"transform",frame,!(o||c))}const{parent:a}=e;a&&!a.hasCheckedOptimisedAppear&&cancelTreeOptimisedTransformAnimations(a)}function createProjectionNode({attachResizeListener:e,defaultParent:s,measureScroll:i,checkIsScrollRoot:a,resetTransform:o}){return class{constructor(h={},d=s==null?void 0:s()){this.id=id++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,isDebug&&(metrics.totalNodes=metrics.resolvedTargetDeltas=metrics.recalculatedProjection=0),this.nodes.forEach(propagateDirtyNodes),this.nodes.forEach(resolveTargetDelta),this.nodes.forEach(calcProjection),this.nodes.forEach(cleanDirtyNodes),isDebug&&window.MotionDebug.record(metrics)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=h,this.root=d?d.root||d:this,this.path=d?[...d.path,d]:[],this.parent=d,this.depth=d?d.depth+1:0;for(let g=0;g<this.path.length;g++)this.path[g].shouldResetTransform=!0;this.root===this&&(this.nodes=new FlatTree)}addEventListener(h,d){return this.eventHandlers.has(h)||this.eventHandlers.set(h,new SubscriptionManager),this.eventHandlers.get(h).add(d)}notifyListeners(h,...d){const g=this.eventHandlers.get(h);g&&g.notify(...d)}hasListeners(h){return this.eventHandlers.has(h)}mount(h,d=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=isSVGElement(h),this.instance=h;const{layoutId:g,layout:b,visualElement:_}=this.options;if(_&&!_.current&&_.mount(h),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),d&&(b||g)&&(this.isLayoutDirty=!0),e){let $;const j=()=>this.root.updateBlockedByResize=!1;e(h,()=>{this.root.updateBlockedByResize=!0,$&&$(),$=delay(j,250),globalProjectionState.hasAnimatedSinceResize&&(globalProjectionState.hasAnimatedSinceResize=!1,this.nodes.forEach(finishAnimation))})}g&&this.root.registerSharedNode(g,this),this.options.animate!==!1&&_&&(g||b)&&this.addEventListener("didUpdate",({delta:$,hasLayoutChanged:j,hasRelativeTargetChanged:st,layout:tt})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const nt=this.options.transition||_.getDefaultTransition()||defaultLayoutTransition,{onLayoutAnimationStart:at,onLayoutAnimationComplete:_e}=_.getProps(),rt=!this.targetLayout||!boxEqualsRounded(this.targetLayout,tt)||st,et=!j&&st;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||et||j&&(rt||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin($,et);const it={...getValueTransition(nt,"layout"),onPlay:at,onComplete:_e};(_.shouldReduceMotion||this.options.layoutRoot)&&(it.delay=0,it.type=!1),this.startAnimation(it)}else j||finishAnimation(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=tt})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const h=this.getStack();h&&h.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,cancelFrame(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(resetSkewAndRotation),this.animationId++)}getTransformTemplate(){const{visualElement:h}=this.options;return h&&h.getProps().transformTemplate}willUpdate(h=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&cancelTreeOptimisedTransformAnimations(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let _=0;_<this.path.length;_++){const $=this.path[_];$.shouldResetTransform=!0,$.updateScroll("snapshot"),$.options.layoutRoot&&$.willUpdate(!1)}const{layoutId:d,layout:g}=this.options;if(d===void 0&&!g)return;const b=this.getTransformTemplate();this.prevTransformTemplateValue=b?b(this.latestValues,""):void 0,this.updateSnapshot(),h&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(clearMeasurements);return}this.isUpdating||this.nodes.forEach(clearIsLayoutDirty),this.isUpdating=!1,this.nodes.forEach(resetTransformStyle),this.nodes.forEach(updateLayout),this.nodes.forEach(notifyLayoutUpdate),this.clearAllSnapshots();const d=time.now();frameData.delta=clamp(0,1e3/60,d-frameData.timestamp),frameData.timestamp=d,frameData.isProcessing=!0,frameSteps.update.process(frameData),frameSteps.preRender.process(frameData),frameSteps.render.process(frameData),frameData.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,microtask.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(clearSnapshot),this.sharedNodes.forEach(removeLeadSnapshots)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,frame.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){frame.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let g=0;g<this.path.length;g++)this.path[g].updateScroll();const h=this.layout;this.layout=this.measure(!1),this.layoutCorrected=createBox(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:d}=this.options;d&&d.notify("LayoutMeasure",this.layout.layoutBox,h?h.layoutBox:void 0)}updateScroll(h="measure"){let d=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===h&&(d=!1),d){const g=a(this.instance);this.scroll={animationId:this.root.animationId,phase:h,isRoot:g,offset:i(this.instance),wasRoot:this.scroll?this.scroll.isRoot:g}}}resetTransform(){if(!o)return;const h=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,d=this.projectionDelta&&!isDeltaZero(this.projectionDelta),g=this.getTransformTemplate(),b=g?g(this.latestValues,""):void 0,_=b!==this.prevTransformTemplateValue;h&&(d||hasTransform(this.latestValues)||_)&&(o(this.instance,b),this.shouldResetTransform=!1,this.scheduleRender())}measure(h=!0){const d=this.measurePageBox();let g=this.removeElementScroll(d);return h&&(g=this.removeTransform(g)),roundBox(g),{animationId:this.root.animationId,measuredBox:d,layoutBox:g,latestValues:{},source:this.id}}measurePageBox(){var h;const{visualElement:d}=this.options;if(!d)return createBox();const g=d.measureViewportBox();if(!(((h=this.scroll)===null||h===void 0?void 0:h.wasRoot)||this.path.some(checkNodeWasScrollRoot))){const{scroll:_}=this.root;_&&(translateAxis(g.x,_.offset.x),translateAxis(g.y,_.offset.y))}return g}removeElementScroll(h){var d;const g=createBox();if(copyBoxInto(g,h),!((d=this.scroll)===null||d===void 0)&&d.wasRoot)return g;for(let b=0;b<this.path.length;b++){const _=this.path[b],{scroll:$,options:j}=_;_!==this.root&&$&&j.layoutScroll&&($.wasRoot&&copyBoxInto(g,h),translateAxis(g.x,$.offset.x),translateAxis(g.y,$.offset.y))}return g}applyTransform(h,d=!1){const g=createBox();copyBoxInto(g,h);for(let b=0;b<this.path.length;b++){const _=this.path[b];!d&&_.options.layoutScroll&&_.scroll&&_!==_.root&&transformBox(g,{x:-_.scroll.offset.x,y:-_.scroll.offset.y}),hasTransform(_.latestValues)&&transformBox(g,_.latestValues)}return hasTransform(this.latestValues)&&transformBox(g,this.latestValues),g}removeTransform(h){const d=createBox();copyBoxInto(d,h);for(let g=0;g<this.path.length;g++){const b=this.path[g];if(!b.instance||!hasTransform(b.latestValues))continue;hasScale(b.latestValues)&&b.updateSnapshot();const _=createBox(),$=b.measurePageBox();copyBoxInto(_,$),removeBoxTransforms(d,b.latestValues,b.snapshot?b.snapshot.layoutBox:void 0,_)}return hasTransform(this.latestValues)&&removeBoxTransforms(d,this.latestValues),d}setTargetDelta(h){this.targetDelta=h,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(h){this.options={...this.options,...h,crossfade:h.crossfade!==void 0?h.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==frameData.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(h=!1){var d;const g=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=g.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=g.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=g.isSharedProjectionDirty);const b=!!this.resumingFrom||this!==g;if(!(h||b&&this.isSharedProjectionDirty||this.isProjectionDirty||!((d=this.parent)===null||d===void 0)&&d.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:$,layoutId:j}=this.options;if(!(!this.layout||!($||j))){if(this.resolvedRelativeTargetAt=frameData.timestamp,!this.targetDelta&&!this.relativeTarget){const st=this.getClosestProjectingParent();st&&st.layout&&this.animationProgress!==1?(this.relativeParent=st,this.forceRelativeParentToResolveTarget(),this.relativeTarget=createBox(),this.relativeTargetOrigin=createBox(),calcRelativePosition(this.relativeTargetOrigin,this.layout.layoutBox,st.layout.layoutBox),copyBoxInto(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=createBox(),this.targetWithTransforms=createBox()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),calcRelativeBox(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):copyBoxInto(this.target,this.layout.layoutBox),applyBoxDelta(this.target,this.targetDelta)):copyBoxInto(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const st=this.getClosestProjectingParent();st&&!!st.resumingFrom==!!this.resumingFrom&&!st.options.layoutScroll&&st.target&&this.animationProgress!==1?(this.relativeParent=st,this.forceRelativeParentToResolveTarget(),this.relativeTarget=createBox(),this.relativeTargetOrigin=createBox(),calcRelativePosition(this.relativeTargetOrigin,this.target,st.target),copyBoxInto(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}isDebug&&metrics.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||hasScale(this.parent.latestValues)||has2DTranslate(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var h;const d=this.getLead(),g=!!this.resumingFrom||this!==d;let b=!0;if((this.isProjectionDirty||!((h=this.parent)===null||h===void 0)&&h.isProjectionDirty)&&(b=!1),g&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(b=!1),this.resolvedRelativeTargetAt===frameData.timestamp&&(b=!1),b)return;const{layout:_,layoutId:$}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(_||$))return;copyBoxInto(this.layoutCorrected,this.layout.layoutBox);const j=this.treeScale.x,st=this.treeScale.y;applyTreeDeltas(this.layoutCorrected,this.treeScale,this.path,g),d.layout&&!d.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(d.target=d.layout.layoutBox,d.targetWithTransforms=createBox());const{target:tt}=d;if(!tt){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(copyAxisDeltaInto(this.prevProjectionDelta.x,this.projectionDelta.x),copyAxisDeltaInto(this.prevProjectionDelta.y,this.projectionDelta.y)),calcBoxDelta(this.projectionDelta,this.layoutCorrected,tt,this.latestValues),(this.treeScale.x!==j||this.treeScale.y!==st||!axisDeltaEquals(this.projectionDelta.x,this.prevProjectionDelta.x)||!axisDeltaEquals(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",tt)),isDebug&&metrics.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(h=!0){var d;if((d=this.options.visualElement)===null||d===void 0||d.scheduleRender(),h){const g=this.getStack();g&&g.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=createDelta(),this.projectionDelta=createDelta(),this.projectionDeltaWithTransform=createDelta()}setAnimationOrigin(h,d=!1){const g=this.snapshot,b=g?g.latestValues:{},_={...this.latestValues},$=createDelta();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!d;const j=createBox(),st=g?g.source:void 0,tt=this.layout?this.layout.source:void 0,nt=st!==tt,at=this.getStack(),_e=!at||at.members.length<=1,rt=!!(nt&&!_e&&this.options.crossfade===!0&&!this.path.some(hasOpacityCrossfade));this.animationProgress=0;let et;this.mixTargetDelta=it=>{const ot=it/1e3;mixAxisDelta($.x,h.x,ot),mixAxisDelta($.y,h.y,ot),this.setTargetDelta($),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(calcRelativePosition(j,this.layout.layoutBox,this.relativeParent.layout.layoutBox),mixBox(this.relativeTarget,this.relativeTargetOrigin,j,ot),et&&boxEquals(this.relativeTarget,et)&&(this.isProjectionDirty=!1),et||(et=createBox()),copyBoxInto(et,this.relativeTarget)),nt&&(this.animationValues=_,mixValues(_,b,this.latestValues,ot,rt,_e)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=ot},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(h){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(cancelFrame(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=frame.update(()=>{globalProjectionState.hasAnimatedSinceResize=!0,this.currentAnimation=animateSingleValue(0,animationTarget,{...h,onUpdate:d=>{this.mixTargetDelta(d),h.onUpdate&&h.onUpdate(d)},onComplete:()=>{h.onComplete&&h.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const h=this.getStack();h&&h.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(animationTarget),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const h=this.getLead();let{targetWithTransforms:d,target:g,layout:b,latestValues:_}=h;if(!(!d||!g||!b)){if(this!==h&&this.layout&&b&&shouldAnimatePositionOnly(this.options.animationType,this.layout.layoutBox,b.layoutBox)){g=this.target||createBox();const $=calcLength(this.layout.layoutBox.x);g.x.min=h.target.x.min,g.x.max=g.x.min+$;const j=calcLength(this.layout.layoutBox.y);g.y.min=h.target.y.min,g.y.max=g.y.min+j}copyBoxInto(d,g),transformBox(d,_),calcBoxDelta(this.projectionDeltaWithTransform,this.layoutCorrected,d,_)}}registerSharedNode(h,d){this.sharedNodes.has(h)||this.sharedNodes.set(h,new NodeStack),this.sharedNodes.get(h).add(d);const b=d.options.initialPromotionConfig;d.promote({transition:b?b.transition:void 0,preserveFollowOpacity:b&&b.shouldPreserveFollowOpacity?b.shouldPreserveFollowOpacity(d):void 0})}isLead(){const h=this.getStack();return h?h.lead===this:!0}getLead(){var h;const{layoutId:d}=this.options;return d?((h=this.getStack())===null||h===void 0?void 0:h.lead)||this:this}getPrevLead(){var h;const{layoutId:d}=this.options;return d?(h=this.getStack())===null||h===void 0?void 0:h.prevLead:void 0}getStack(){const{layoutId:h}=this.options;if(h)return this.root.sharedNodes.get(h)}promote({needsReset:h,transition:d,preserveFollowOpacity:g}={}){const b=this.getStack();b&&b.promote(this,g),h&&(this.projectionDelta=void 0,this.needsReset=!0),d&&this.setOptions({transition:d})}relegate(){const h=this.getStack();return h?h.relegate(this):!1}resetSkewAndRotation(){const{visualElement:h}=this.options;if(!h)return;let d=!1;const{latestValues:g}=h;if((g.z||g.rotate||g.rotateX||g.rotateY||g.rotateZ||g.skewX||g.skewY)&&(d=!0),!d)return;const b={};g.z&&resetDistortingTransform("z",h,b,this.animationValues);for(let _=0;_<transformAxes.length;_++)resetDistortingTransform(`rotate${transformAxes[_]}`,h,b,this.animationValues),resetDistortingTransform(`skew${transformAxes[_]}`,h,b,this.animationValues);h.render();for(const _ in b)h.setStaticValue(_,b[_]),this.animationValues&&(this.animationValues[_]=b[_]);h.scheduleRender()}getProjectionStyles(h){var d,g;if(!this.instance||this.isSVG)return;if(!this.isVisible)return hiddenVisibility;const b={visibility:""},_=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,b.opacity="",b.pointerEvents=resolveMotionValue(h==null?void 0:h.pointerEvents)||"",b.transform=_?_(this.latestValues,""):"none",b;const $=this.getLead();if(!this.projectionDelta||!this.layout||!$.target){const nt={};return this.options.layoutId&&(nt.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,nt.pointerEvents=resolveMotionValue(h==null?void 0:h.pointerEvents)||""),this.hasProjected&&!hasTransform(this.latestValues)&&(nt.transform=_?_({},""):"none",this.hasProjected=!1),nt}const j=$.animationValues||$.latestValues;this.applyTransformsToTarget(),b.transform=buildProjectionTransform(this.projectionDeltaWithTransform,this.treeScale,j),_&&(b.transform=_(j,b.transform));const{x:st,y:tt}=this.projectionDelta;b.transformOrigin=`${st.origin*100}% ${tt.origin*100}% 0`,$.animationValues?b.opacity=$===this?(g=(d=j.opacity)!==null&&d!==void 0?d:this.latestValues.opacity)!==null&&g!==void 0?g:1:this.preserveOpacity?this.latestValues.opacity:j.opacityExit:b.opacity=$===this?j.opacity!==void 0?j.opacity:"":j.opacityExit!==void 0?j.opacityExit:0;for(const nt in scaleCorrectors){if(j[nt]===void 0)continue;const{correct:at,applyTo:_e}=scaleCorrectors[nt],rt=b.transform==="none"?j[nt]:at(j[nt],$);if(_e){const et=_e.length;for(let it=0;it<et;it++)b[_e[it]]=rt}else b[nt]=rt}return this.options.layoutId&&(b.pointerEvents=$===this?resolveMotionValue(h==null?void 0:h.pointerEvents)||"":"none"),b}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(h=>{var d;return(d=h.currentAnimation)===null||d===void 0?void 0:d.stop()}),this.root.nodes.forEach(clearMeasurements),this.root.sharedNodes.clear()}}}function updateLayout(e){e.updateLayout()}function notifyLayoutUpdate(e){var s;const i=((s=e.resumeFrom)===null||s===void 0?void 0:s.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&i&&e.hasListeners("didUpdate")){const{layoutBox:a,measuredBox:o}=e.layout,{animationType:c}=e.options,h=i.source!==e.layout.source;c==="size"?eachAxis($=>{const j=h?i.measuredBox[$]:i.layoutBox[$],st=calcLength(j);j.min=a[$].min,j.max=j.min+st}):shouldAnimatePositionOnly(c,i.layoutBox,a)&&eachAxis($=>{const j=h?i.measuredBox[$]:i.layoutBox[$],st=calcLength(a[$]);j.max=j.min+st,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[$].max=e.relativeTarget[$].min+st)});const d=createDelta();calcBoxDelta(d,a,i.layoutBox);const g=createDelta();h?calcBoxDelta(g,e.applyTransform(o,!0),i.measuredBox):calcBoxDelta(g,a,i.layoutBox);const b=!isDeltaZero(d);let _=!1;if(!e.resumeFrom){const $=e.getClosestProjectingParent();if($&&!$.resumeFrom){const{snapshot:j,layout:st}=$;if(j&&st){const tt=createBox();calcRelativePosition(tt,i.layoutBox,j.layoutBox);const nt=createBox();calcRelativePosition(nt,a,st.layoutBox),boxEqualsRounded(tt,nt)||(_=!0),$.options.layoutRoot&&(e.relativeTarget=nt,e.relativeTargetOrigin=tt,e.relativeParent=$)}}}e.notifyListeners("didUpdate",{layout:a,snapshot:i,delta:g,layoutDelta:d,hasLayoutChanged:b,hasRelativeTargetChanged:_})}else if(e.isLead()){const{onExitComplete:a}=e.options;a&&a()}e.options.transition=void 0}function propagateDirtyNodes(e){isDebug&&metrics.totalNodes++,e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function cleanDirtyNodes(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function clearSnapshot(e){e.clearSnapshot()}function clearMeasurements(e){e.clearMeasurements()}function clearIsLayoutDirty(e){e.isLayoutDirty=!1}function resetTransformStyle(e){const{visualElement:s}=e.options;s&&s.getProps().onBeforeLayoutMeasure&&s.notify("BeforeLayoutMeasure"),e.resetTransform()}function finishAnimation(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function resolveTargetDelta(e){e.resolveTargetDelta()}function calcProjection(e){e.calcProjection()}function resetSkewAndRotation(e){e.resetSkewAndRotation()}function removeLeadSnapshots(e){e.removeLeadSnapshot()}function mixAxisDelta(e,s,i){e.translate=mixNumber$1(s.translate,0,i),e.scale=mixNumber$1(s.scale,1,i),e.origin=s.origin,e.originPoint=s.originPoint}function mixAxis(e,s,i,a){e.min=mixNumber$1(s.min,i.min,a),e.max=mixNumber$1(s.max,i.max,a)}function mixBox(e,s,i,a){mixAxis(e.x,s.x,i.x,a),mixAxis(e.y,s.y,i.y,a)}function hasOpacityCrossfade(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const defaultLayoutTransition={duration:.45,ease:[.4,0,.1,1]},userAgentContains=e=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),roundPoint=userAgentContains("applewebkit/")&&!userAgentContains("chrome/")?Math.round:noop$2;function roundAxis(e){e.min=roundPoint(e.min),e.max=roundPoint(e.max)}function roundBox(e){roundAxis(e.x),roundAxis(e.y)}function shouldAnimatePositionOnly(e,s,i){return e==="position"||e==="preserve-aspect"&&!isNear(aspectRatio(s),aspectRatio(i),.2)}function checkNodeWasScrollRoot(e){var s;return e!==e.root&&((s=e.scroll)===null||s===void 0?void 0:s.wasRoot)}const DocumentProjectionNode=createProjectionNode({attachResizeListener:(e,s)=>addDomEvent(e,"resize",s),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),rootProjectionNode={current:void 0},HTMLProjectionNode=createProjectionNode({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!rootProjectionNode.current){const e=new DocumentProjectionNode({});e.mount(window),e.setOptions({layoutScroll:!0}),rootProjectionNode.current=e}return rootProjectionNode.current},resetTransform:(e,s)=>{e.style.transform=s!==void 0?s:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),drag={pan:{Feature:PanGesture},drag:{Feature:DragGesture,ProjectionNode:HTMLProjectionNode,MeasureLayout}};function handleHoverEvent(e,s,i){const{props:a}=e;e.animationState&&a.whileHover&&e.animationState.setActive("whileHover",i==="Start");const o="onHover"+i,c=a[o];c&&frame.postRender(()=>c(s,extractEventInfo(s)))}class HoverGesture extends Feature{mount(){const{current:s}=this.node;s&&(this.unmount=hover(s,i=>(handleHoverEvent(this.node,i,"Start"),a=>handleHoverEvent(this.node,a,"End"))))}unmount(){}}class FocusGesture extends Feature{constructor(){super(...arguments),this.isActive=!1}onFocus(){let s=!1;try{s=this.node.current.matches(":focus-visible")}catch{s=!0}!s||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=pipe(addDomEvent(this.node.current,"focus",()=>this.onFocus()),addDomEvent(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function handlePressEvent(e,s,i){const{props:a}=e;e.animationState&&a.whileTap&&e.animationState.setActive("whileTap",i==="Start");const o="onTap"+(i==="End"?"":i),c=a[o];c&&frame.postRender(()=>c(s,extractEventInfo(s)))}class PressGesture extends Feature{mount(){const{current:s}=this.node;s&&(this.unmount=press(s,i=>(handlePressEvent(this.node,i,"Start"),(a,{success:o})=>handlePressEvent(this.node,a,o?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const observerCallbacks=new WeakMap,observers=new WeakMap,fireObserverCallback=e=>{const s=observerCallbacks.get(e.target);s&&s(e)},fireAllObserverCallbacks=e=>{e.forEach(fireObserverCallback)};function initIntersectionObserver({root:e,...s}){const i=e||document;observers.has(i)||observers.set(i,{});const a=observers.get(i),o=JSON.stringify(s);return a[o]||(a[o]=new IntersectionObserver(fireAllObserverCallbacks,{root:e,...s})),a[o]}function observeIntersection(e,s,i){const a=initIntersectionObserver(s);return observerCallbacks.set(e,i),a.observe(e),()=>{observerCallbacks.delete(e),a.unobserve(e)}}const thresholdNames={some:0,all:1};class InViewFeature extends Feature{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:s={}}=this.node.getProps(),{root:i,margin:a,amount:o="some",once:c}=s,h={root:i?i.current:void 0,rootMargin:a,threshold:typeof o=="number"?o:thresholdNames[o]},d=g=>{const{isIntersecting:b}=g;if(this.isInView===b||(this.isInView=b,c&&!b&&this.hasEnteredView))return;b&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",b);const{onViewportEnter:_,onViewportLeave:$}=this.node.getProps(),j=b?_:$;j&&j(g)};return observeIntersection(this.node.current,h,d)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:s,prevProps:i}=this.node;["amount","margin","root"].some(hasViewportOptionChanged(s,i))&&this.startObserver()}unmount(){}}function hasViewportOptionChanged({viewport:e={}},{viewport:s={}}={}){return i=>e[i]!==s[i]}const gestureAnimations={inView:{Feature:InViewFeature},tap:{Feature:PressGesture},focus:{Feature:FocusGesture},hover:{Feature:HoverGesture}},layout={layout:{ProjectionNode:HTMLProjectionNode,MeasureLayout}},prefersReducedMotion={current:null},hasReducedMotionListener={current:!1};function initPrefersReducedMotion(){if(hasReducedMotionListener.current=!0,!!isBrowser$1)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),s=()=>prefersReducedMotion.current=e.matches;e.addListener(s),s()}else prefersReducedMotion.current=!1}const valueTypes=[...dimensionValueTypes,color,complex],findValueType=e=>valueTypes.find(testValueType(e)),visualElementStore=new WeakMap;function updateMotionValuesFromProps(e,s,i){for(const a in s){const o=s[a],c=i[a];if(isMotionValue(o))e.addValue(a,o);else if(isMotionValue(c))e.addValue(a,motionValue(o,{owner:e}));else if(c!==o)if(e.hasValue(a)){const h=e.getValue(a);h.liveStyle===!0?h.jump(o):h.hasAnimated||h.set(o)}else{const h=e.getStaticValue(a);e.addValue(a,motionValue(h!==void 0?h:o,{owner:e}))}}for(const a in i)s[a]===void 0&&e.removeValue(a);return s}const propEventHandlers=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class VisualElement{scrapeMotionValuesFromProps(s,i,a){return{}}constructor({parent:s,props:i,presenceContext:a,reducedMotionConfig:o,blockInitialAnimation:c,visualState:h},d={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=KeyframeResolver,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const st=time.now();this.renderScheduledAt<st&&(this.renderScheduledAt=st,frame.render(this.render,!1,!0))};const{latestValues:g,renderState:b,onUpdate:_}=h;this.onUpdate=_,this.latestValues=g,this.baseTarget={...g},this.initialValues=i.initial?{...g}:{},this.renderState=b,this.parent=s,this.props=i,this.presenceContext=a,this.depth=s?s.depth+1:0,this.reducedMotionConfig=o,this.options=d,this.blockInitialAnimation=!!c,this.isControllingVariants=isControllingVariants(i),this.isVariantNode=isVariantNode(i),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(s&&s.current);const{willChange:$,...j}=this.scrapeMotionValuesFromProps(i,{},this);for(const st in j){const tt=j[st];g[st]!==void 0&&isMotionValue(tt)&&tt.set(g[st],!1)}}mount(s){this.current=s,visualElementStore.set(s,this),this.projection&&!this.projection.instance&&this.projection.mount(s),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((i,a)=>this.bindToMotionValue(a,i)),hasReducedMotionListener.current||initPrefersReducedMotion(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:prefersReducedMotion.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){visualElementStore.delete(this.current),this.projection&&this.projection.unmount(),cancelFrame(this.notifyUpdate),cancelFrame(this.render),this.valueSubscriptions.forEach(s=>s()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const s in this.events)this.events[s].clear();for(const s in this.features){const i=this.features[s];i&&(i.unmount(),i.isMounted=!1)}this.current=null}bindToMotionValue(s,i){this.valueSubscriptions.has(s)&&this.valueSubscriptions.get(s)();const a=transformProps.has(s),o=i.on("change",d=>{this.latestValues[s]=d,this.props.onUpdate&&frame.preRender(this.notifyUpdate),a&&this.projection&&(this.projection.isTransformDirty=!0)}),c=i.on("renderRequest",this.scheduleRender);let h;window.MotionCheckAppearSync&&(h=window.MotionCheckAppearSync(this,s,i)),this.valueSubscriptions.set(s,()=>{o(),c(),h&&h(),i.owner&&i.stop()})}sortNodePosition(s){return!this.current||!this.sortInstanceNodePosition||this.type!==s.type?0:this.sortInstanceNodePosition(this.current,s.current)}updateFeatures(){let s="animation";for(s in featureDefinitions){const i=featureDefinitions[s];if(!i)continue;const{isEnabled:a,Feature:o}=i;if(!this.features[s]&&o&&a(this.props)&&(this.features[s]=new o(this)),this.features[s]){const c=this.features[s];c.isMounted?c.update():(c.mount(),c.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):createBox()}getStaticValue(s){return this.latestValues[s]}setStaticValue(s,i){this.latestValues[s]=i}update(s,i){(s.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=s,this.prevPresenceContext=this.presenceContext,this.presenceContext=i;for(let a=0;a<propEventHandlers.length;a++){const o=propEventHandlers[a];this.propEventSubscriptions[o]&&(this.propEventSubscriptions[o](),delete this.propEventSubscriptions[o]);const c="on"+o,h=s[c];h&&(this.propEventSubscriptions[o]=this.on(o,h))}this.prevMotionValues=updateMotionValuesFromProps(this,this.scrapeMotionValuesFromProps(s,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue(),this.onUpdate&&this.onUpdate(this)}getProps(){return this.props}getVariant(s){return this.props.variants?this.props.variants[s]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(s){const i=this.getClosestVariantNode();if(i)return i.variantChildren&&i.variantChildren.add(s),()=>i.variantChildren.delete(s)}addValue(s,i){const a=this.values.get(s);i!==a&&(a&&this.removeValue(s),this.bindToMotionValue(s,i),this.values.set(s,i),this.latestValues[s]=i.get())}removeValue(s){this.values.delete(s);const i=this.valueSubscriptions.get(s);i&&(i(),this.valueSubscriptions.delete(s)),delete this.latestValues[s],this.removeValueFromRenderState(s,this.renderState)}hasValue(s){return this.values.has(s)}getValue(s,i){if(this.props.values&&this.props.values[s])return this.props.values[s];let a=this.values.get(s);return a===void 0&&i!==void 0&&(a=motionValue(i===null?void 0:i,{owner:this}),this.addValue(s,a)),a}readValue(s,i){var a;let o=this.latestValues[s]!==void 0||!this.current?this.latestValues[s]:(a=this.getBaseTargetFromProps(this.props,s))!==null&&a!==void 0?a:this.readValueFromInstance(this.current,s,this.options);return o!=null&&(typeof o=="string"&&(isNumericalString(o)||isZeroValueString(o))?o=parseFloat(o):!findValueType(o)&&complex.test(i)&&(o=getAnimatableNone(s,i)),this.setBaseTarget(s,isMotionValue(o)?o.get():o)),isMotionValue(o)?o.get():o}setBaseTarget(s,i){this.baseTarget[s]=i}getBaseTarget(s){var i;const{initial:a}=this.props;let o;if(typeof a=="string"||typeof a=="object"){const h=resolveVariantFromProps(this.props,a,(i=this.presenceContext)===null||i===void 0?void 0:i.custom);h&&(o=h[s])}if(a&&o!==void 0)return o;const c=this.getBaseTargetFromProps(this.props,s);return c!==void 0&&!isMotionValue(c)?c:this.initialValues[s]!==void 0&&o===void 0?void 0:this.baseTarget[s]}on(s,i){return this.events[s]||(this.events[s]=new SubscriptionManager),this.events[s].add(i)}notify(s,...i){this.events[s]&&this.events[s].notify(...i)}}class DOMVisualElement extends VisualElement{constructor(){super(...arguments),this.KeyframeResolver=DOMKeyframesResolver}sortInstanceNodePosition(s,i){return s.compareDocumentPosition(i)&2?1:-1}getBaseTargetFromProps(s,i){return s.style?s.style[i]:void 0}removeValueFromRenderState(s,{vars:i,style:a}){delete i[s],delete a[s]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:s}=this.props;isMotionValue(s)&&(this.childSubscription=s.on("change",i=>{this.current&&(this.current.textContent=`${i}`)}))}}function getComputedStyle(e){return window.getComputedStyle(e)}class HTMLVisualElement extends DOMVisualElement{constructor(){super(...arguments),this.type="html",this.renderInstance=renderHTML}readValueFromInstance(s,i){if(transformProps.has(i)){const a=getDefaultValueType(i);return a&&a.default||0}else{const a=getComputedStyle(s),o=(isCSSVariableName(i)?a.getPropertyValue(i):a[i])||0;return typeof o=="string"?o.trim():o}}measureInstanceViewportBox(s,{transformPagePoint:i}){return measureViewportBox(s,i)}build(s,i,a){buildHTMLStyles(s,i,a.transformTemplate)}scrapeMotionValuesFromProps(s,i,a){return scrapeMotionValuesFromProps$1(s,i,a)}}class SVGVisualElement extends DOMVisualElement{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=createBox}getBaseTargetFromProps(s,i){return s[i]}readValueFromInstance(s,i){if(transformProps.has(i)){const a=getDefaultValueType(i);return a&&a.default||0}return i=camelCaseAttributes.has(i)?i:camelToDash(i),s.getAttribute(i)}scrapeMotionValuesFromProps(s,i,a){return scrapeMotionValuesFromProps(s,i,a)}build(s,i,a){buildSVGAttrs(s,i,this.isSVGTag,a.transformTemplate)}renderInstance(s,i,a,o){renderSVG(s,i,a,o)}mount(s){this.isSVGTag=isSVGTag(s.tagName),super.mount(s)}}const createDomVisualElement=(e,s)=>isSVGComponent(e)?new SVGVisualElement(s):new HTMLVisualElement(s,{allowProjection:e!==reactExports.Fragment}),createMotionComponent=createMotionComponentFactory({...animations,...gestureAnimations,...drag,...layout},createDomVisualElement),motion=createDOMMotionComponentProxy(createMotionComponent),ComingSoonAnimation=({onRetry:e})=>(reactExports.useEffect(()=>{const s=setTimeout(()=>{e()},5e3);return()=>clearTimeout(s)},[e]),jsxRuntimeExports.jsxs("div",{className:"flex flex-col items-center justify-center min-h-[60vh] p-8 text-center",children:[jsxRuntimeExports.jsx(motion.div,{initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1},transition:{duration:.5},className:"mb-6",children:jsxRuntimeExports.jsxs("svg",{className:"w-32 h-32 mx-auto text-amber-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:[jsxRuntimeExports.jsx(motion.path,{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z",initial:{pathLength:0},animate:{pathLength:1},transition:{duration:1.5,ease:"easeInOut"}}),jsxRuntimeExports.jsx(motion.path,{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M15 11a3 3 0 11-6 0 3 3 0 016 0z",initial:{pathLength:0},animate:{pathLength:1},transition:{duration:1.5,ease:"easeInOut",delay:.5}})]})}),jsxRuntimeExports.jsx(motion.h2,{className:"text-2xl font-bold mb-4 text-gray-800",initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.3,duration:.5},children:"We're not in your area yet!"}),jsxRuntimeExports.jsx(motion.p,{className:"text-lg text-gray-600 mb-8 max-w-md",initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.5,duration:.5},children:"We're expanding quickly and hope to deliver to your location soon. Please try a different location."}),jsxRuntimeExports.jsx(motion.div,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.7,duration:.5},children:jsxRuntimeExports.jsx("button",{onClick:e,className:"bg-amber-500 hover:bg-amber-600 text-white font-bold py-3 px-6 rounded-full transition-all duration-300 transform hover:scale-105 focus:outline-none focus:ring-2 focus:ring-amber-300",children:"Try Another Location"})}),jsxRuntimeExports.jsx(motion.p,{className:"text-sm text-gray-500 mt-6",initial:{opacity:0},animate:{opacity:1},transition:{delay:1,duration:.5},children:"Redirecting to location selection in a few seconds..."})]}));var lottie$1={exports:{}};(function(module,exports){typeof document<"u"&&typeof navigator<"u"&&function(e,s){module.exports=s()}(commonjsGlobal,function(){var svgNS="http://www.w3.org/2000/svg",locationHref="",_useWebWorker=!1,initialDefaultFrame=-999999,setWebWorker=function(s){_useWebWorker=!!s},getWebWorker=function(){return _useWebWorker},setLocationHref=function(s){locationHref=s},getLocationHref=function(){return locationHref};function createTag(e){return document.createElement(e)}function extendPrototype(e,s){var i,a=e.length,o;for(i=0;i<a;i+=1){o=e[i].prototype;for(var c in o)Object.prototype.hasOwnProperty.call(o,c)&&(s.prototype[c]=o[c])}}function getDescriptor(e,s){return Object.getOwnPropertyDescriptor(e,s)}function createProxyFunction(e){function s(){}return s.prototype=e,s}var audioControllerFactory=function(){function e(s){this.audios=[],this.audioFactory=s,this._volume=1,this._isMuted=!1}return e.prototype={addAudio:function(i){this.audios.push(i)},pause:function(){var i,a=this.audios.length;for(i=0;i<a;i+=1)this.audios[i].pause()},resume:function(){var i,a=this.audios.length;for(i=0;i<a;i+=1)this.audios[i].resume()},setRate:function(i){var a,o=this.audios.length;for(a=0;a<o;a+=1)this.audios[a].setRate(i)},createAudio:function(i){return this.audioFactory?this.audioFactory(i):window.Howl?new window.Howl({src:[i]}):{isPlaying:!1,play:function(){this.isPlaying=!0},seek:function(){this.isPlaying=!1},playing:function(){},rate:function(){},setVolume:function(){}}},setAudioFactory:function(i){this.audioFactory=i},setVolume:function(i){this._volume=i,this._updateVolume()},mute:function(){this._isMuted=!0,this._updateVolume()},unmute:function(){this._isMuted=!1,this._updateVolume()},getVolume:function(){return this._volume},_updateVolume:function(){var i,a=this.audios.length;for(i=0;i<a;i+=1)this.audios[i].volume(this._volume*(this._isMuted?0:1))}},function(){return new e}}(),createTypedArray=function(){function e(i,a){var o=0,c=[],h;switch(i){case"int16":case"uint8c":h=1;break;default:h=1.1;break}for(o=0;o<a;o+=1)c.push(h);return c}function s(i,a){return i==="float32"?new Float32Array(a):i==="int16"?new Int16Array(a):i==="uint8c"?new Uint8ClampedArray(a):e(i,a)}return typeof Uint8ClampedArray=="function"&&typeof Float32Array=="function"?s:e}();function createSizedArray(e){return Array.apply(null,{length:e})}function _typeof$6(e){"@babel/helpers - typeof";return _typeof$6=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(s){return typeof s}:function(s){return s&&typeof Symbol=="function"&&s.constructor===Symbol&&s!==Symbol.prototype?"symbol":typeof s},_typeof$6(e)}var subframeEnabled=!0,expressionsPlugin=null,expressionsInterfaces=null,idPrefix$1="",isSafari=/^((?!chrome|android).)*safari/i.test(navigator.userAgent),bmPow=Math.pow,bmSqrt=Math.sqrt,bmFloor=Math.floor,bmMax=Math.max,bmMin=Math.min,BMMath={};(function(){var e=["abs","acos","acosh","asin","asinh","atan","atanh","atan2","ceil","cbrt","expm1","clz32","cos","cosh","exp","floor","fround","hypot","imul","log","log1p","log2","log10","max","min","pow","random","round","sign","sin","sinh","sqrt","tan","tanh","trunc","E","LN10","LN2","LOG10E","LOG2E","PI","SQRT1_2","SQRT2"],s,i=e.length;for(s=0;s<i;s+=1)BMMath[e[s]]=Math[e[s]]})(),BMMath.random=Math.random,BMMath.abs=function(e){var s=_typeof$6(e);if(s==="object"&&e.length){var i=createSizedArray(e.length),a,o=e.length;for(a=0;a<o;a+=1)i[a]=Math.abs(e[a]);return i}return Math.abs(e)};var defaultCurveSegments=150,degToRads=Math.PI/180,roundCorner=.5519;function styleDiv(e){e.style.position="absolute",e.style.top=0,e.style.left=0,e.style.display="block",e.style.transformOrigin="0 0",e.style.webkitTransformOrigin="0 0",e.style.backfaceVisibility="visible",e.style.webkitBackfaceVisibility="visible",e.style.transformStyle="preserve-3d",e.style.webkitTransformStyle="preserve-3d",e.style.mozTransformStyle="preserve-3d"}function BMEnterFrameEvent(e,s,i,a){this.type=e,this.currentTime=s,this.totalTime=i,this.direction=a<0?-1:1}function BMCompleteEvent(e,s){this.type=e,this.direction=s<0?-1:1}function BMCompleteLoopEvent(e,s,i,a){this.type=e,this.currentLoop=i,this.totalLoops=s,this.direction=a<0?-1:1}function BMSegmentStartEvent(e,s,i){this.type=e,this.firstFrame=s,this.totalFrames=i}function BMDestroyEvent(e,s){this.type=e,this.target=s}function BMRenderFrameErrorEvent(e,s){this.type="renderFrameError",this.nativeError=e,this.currentTime=s}function BMConfigErrorEvent(e){this.type="configError",this.nativeError=e}var createElementID=function(){var e=0;return function(){return e+=1,idPrefix$1+"__lottie_element_"+e}}();function HSVtoRGB(e,s,i){var a,o,c,h,d,g,b,_;switch(h=Math.floor(e*6),d=e*6-h,g=i*(1-s),b=i*(1-d*s),_=i*(1-(1-d)*s),h%6){case 0:a=i,o=_,c=g;break;case 1:a=b,o=i,c=g;break;case 2:a=g,o=i,c=_;break;case 3:a=g,o=b,c=i;break;case 4:a=_,o=g,c=i;break;case 5:a=i,o=g,c=b;break}return[a,o,c]}function RGBtoHSV(e,s,i){var a=Math.max(e,s,i),o=Math.min(e,s,i),c=a-o,h,d=a===0?0:c/a,g=a/255;switch(a){case o:h=0;break;case e:h=s-i+c*(s<i?6:0),h/=6*c;break;case s:h=i-e+c*2,h/=6*c;break;case i:h=e-s+c*4,h/=6*c;break}return[h,d,g]}function addSaturationToRGB(e,s){var i=RGBtoHSV(e[0]*255,e[1]*255,e[2]*255);return i[1]+=s,i[1]>1?i[1]=1:i[1]<=0&&(i[1]=0),HSVtoRGB(i[0],i[1],i[2])}function addBrightnessToRGB(e,s){var i=RGBtoHSV(e[0]*255,e[1]*255,e[2]*255);return i[2]+=s,i[2]>1?i[2]=1:i[2]<0&&(i[2]=0),HSVtoRGB(i[0],i[1],i[2])}function addHueToRGB(e,s){var i=RGBtoHSV(e[0]*255,e[1]*255,e[2]*255);return i[0]+=s/360,i[0]>1?i[0]-=1:i[0]<0&&(i[0]+=1),HSVtoRGB(i[0],i[1],i[2])}var rgbToHex=function(){var e=[],s,i;for(s=0;s<256;s+=1)i=s.toString(16),e[s]=i.length===1?"0"+i:i;return function(a,o,c){return a<0&&(a=0),o<0&&(o=0),c<0&&(c=0),"#"+e[a]+e[o]+e[c]}}(),setSubframeEnabled=function(s){subframeEnabled=!!s},getSubframeEnabled=function(){return subframeEnabled},setExpressionsPlugin=function(s){expressionsPlugin=s},getExpressionsPlugin=function(){return expressionsPlugin},setExpressionInterfaces=function(s){expressionsInterfaces=s},getExpressionInterfaces=function(){return expressionsInterfaces},setDefaultCurveSegments=function(s){defaultCurveSegments=s},getDefaultCurveSegments=function(){return defaultCurveSegments},setIdPrefix=function(s){idPrefix$1=s};function createNS(e){return document.createElementNS(svgNS,e)}function _typeof$5(e){"@babel/helpers - typeof";return _typeof$5=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(s){return typeof s}:function(s){return s&&typeof Symbol=="function"&&s.constructor===Symbol&&s!==Symbol.prototype?"symbol":typeof s},_typeof$5(e)}var dataManager=function(){var e=1,s=[],i,a,o={onmessage:function(){},postMessage:function(st){i({data:st})}},c={postMessage:function(st){o.onmessage({data:st})}};function h(j){if(window.Worker&&window.Blob&&getWebWorker()){var st=new Blob(["var _workerSelf = self; self.onmessage = ",j.toString()],{type:"text/javascript"}),tt=URL.createObjectURL(st);return new Worker(tt)}return i=j,o}function d(){a||(a=h(function(st){function tt(){function at(bt,ft){var pt,lt,ct=bt.length,yt,gt,Et,Pt;for(lt=0;lt<ct;lt+=1)if(pt=bt[lt],"ks"in pt&&!pt.completed){if(pt.completed=!0,pt.hasMask){var Ct=pt.masksProperties;for(gt=Ct.length,yt=0;yt<gt;yt+=1)if(Ct[yt].pt.k.i)ot(Ct[yt].pt.k);else for(Pt=Ct[yt].pt.k.length,Et=0;Et<Pt;Et+=1)Ct[yt].pt.k[Et].s&&ot(Ct[yt].pt.k[Et].s[0]),Ct[yt].pt.k[Et].e&&ot(Ct[yt].pt.k[Et].e[0])}pt.ty===0?(pt.layers=et(pt.refId,ft),at(pt.layers,ft)):pt.ty===4?it(pt.shapes):pt.ty===5&&wt(pt)}}function _e(bt,ft){if(bt){var pt=0,lt=bt.length;for(pt=0;pt<lt;pt+=1)bt[pt].t===1&&(bt[pt].data.layers=et(bt[pt].data.refId,ft),at(bt[pt].data.layers,ft))}}function rt(bt,ft){for(var pt=0,lt=ft.length;pt<lt;){if(ft[pt].id===bt)return ft[pt];pt+=1}return null}function et(bt,ft){var pt=rt(bt,ft);return pt?pt.layers.__used?JSON.parse(JSON.stringify(pt.layers)):(pt.layers.__used=!0,pt.layers):null}function it(bt){var ft,pt=bt.length,lt,ct;for(ft=pt-1;ft>=0;ft-=1)if(bt[ft].ty==="sh")if(bt[ft].ks.k.i)ot(bt[ft].ks.k);else for(ct=bt[ft].ks.k.length,lt=0;lt<ct;lt+=1)bt[ft].ks.k[lt].s&&ot(bt[ft].ks.k[lt].s[0]),bt[ft].ks.k[lt].e&&ot(bt[ft].ks.k[lt].e[0]);else bt[ft].ty==="gr"&&it(bt[ft].it)}function ot(bt){var ft,pt=bt.i.length;for(ft=0;ft<pt;ft+=1)bt.i[ft][0]+=bt.v[ft][0],bt.i[ft][1]+=bt.v[ft][1],bt.o[ft][0]+=bt.v[ft][0],bt.o[ft][1]+=bt.v[ft][1]}function ut(bt,ft){var pt=ft?ft.split("."):[100,100,100];return bt[0]>pt[0]?!0:pt[0]>bt[0]?!1:bt[1]>pt[1]?!0:pt[1]>bt[1]?!1:bt[2]>pt[2]?!0:pt[2]>bt[2]?!1:null}var ht=function(){var bt=[4,4,14];function ft(lt){var ct=lt.t.d;lt.t.d={k:[{s:ct,t:0}]}}function pt(lt){var ct,yt=lt.length;for(ct=0;ct<yt;ct+=1)lt[ct].ty===5&&ft(lt[ct])}return function(lt){if(ut(bt,lt.v)&&(pt(lt.layers),lt.assets)){var ct,yt=lt.assets.length;for(ct=0;ct<yt;ct+=1)lt.assets[ct].layers&&pt(lt.assets[ct].layers)}}}(),dt=function(){var bt=[4,7,99];return function(ft){if(ft.chars&&!ut(bt,ft.v)){var pt,lt=ft.chars.length;for(pt=0;pt<lt;pt+=1){var ct=ft.chars[pt];ct.data&&ct.data.shapes&&(it(ct.data.shapes),ct.data.ip=0,ct.data.op=99999,ct.data.st=0,ct.data.sr=1,ct.data.ks={p:{k:[0,0],a:0},s:{k:[100,100],a:0},a:{k:[0,0],a:0},r:{k:0,a:0},o:{k:100,a:0}},ft.chars[pt].t||(ct.data.shapes.push({ty:"no"}),ct.data.shapes[0].it.push({p:{k:[0,0],a:0},s:{k:[100,100],a:0},a:{k:[0,0],a:0},r:{k:0,a:0},o:{k:100,a:0},sk:{k:0,a:0},sa:{k:0,a:0},ty:"tr"})))}}}}(),mt=function(){var bt=[5,7,15];function ft(lt){var ct=lt.t.p;typeof ct.a=="number"&&(ct.a={a:0,k:ct.a}),typeof ct.p=="number"&&(ct.p={a:0,k:ct.p}),typeof ct.r=="number"&&(ct.r={a:0,k:ct.r})}function pt(lt){var ct,yt=lt.length;for(ct=0;ct<yt;ct+=1)lt[ct].ty===5&&ft(lt[ct])}return function(lt){if(ut(bt,lt.v)&&(pt(lt.layers),lt.assets)){var ct,yt=lt.assets.length;for(ct=0;ct<yt;ct+=1)lt.assets[ct].layers&&pt(lt.assets[ct].layers)}}}(),xt=function(){var bt=[4,1,9];function ft(lt){var ct,yt=lt.length,gt,Et;for(ct=0;ct<yt;ct+=1)if(lt[ct].ty==="gr")ft(lt[ct].it);else if(lt[ct].ty==="fl"||lt[ct].ty==="st")if(lt[ct].c.k&&lt[ct].c.k[0].i)for(Et=lt[ct].c.k.length,gt=0;gt<Et;gt+=1)lt[ct].c.k[gt].s&&(lt[ct].c.k[gt].s[0]/=255,lt[ct].c.k[gt].s[1]/=255,lt[ct].c.k[gt].s[2]/=255,lt[ct].c.k[gt].s[3]/=255),lt[ct].c.k[gt].e&&(lt[ct].c.k[gt].e[0]/=255,lt[ct].c.k[gt].e[1]/=255,lt[ct].c.k[gt].e[2]/=255,lt[ct].c.k[gt].e[3]/=255);else lt[ct].c.k[0]/=255,lt[ct].c.k[1]/=255,lt[ct].c.k[2]/=255,lt[ct].c.k[3]/=255}function pt(lt){var ct,yt=lt.length;for(ct=0;ct<yt;ct+=1)lt[ct].ty===4&&ft(lt[ct].shapes)}return function(lt){if(ut(bt,lt.v)&&(pt(lt.layers),lt.assets)){var ct,yt=lt.assets.length;for(ct=0;ct<yt;ct+=1)lt.assets[ct].layers&&pt(lt.assets[ct].layers)}}}(),St=function(){var bt=[4,4,18];function ft(lt){var ct,yt=lt.length,gt,Et;for(ct=yt-1;ct>=0;ct-=1)if(lt[ct].ty==="sh")if(lt[ct].ks.k.i)lt[ct].ks.k.c=lt[ct].closed;else for(Et=lt[ct].ks.k.length,gt=0;gt<Et;gt+=1)lt[ct].ks.k[gt].s&&(lt[ct].ks.k[gt].s[0].c=lt[ct].closed),lt[ct].ks.k[gt].e&&(lt[ct].ks.k[gt].e[0].c=lt[ct].closed);else lt[ct].ty==="gr"&&ft(lt[ct].it)}function pt(lt){var ct,yt,gt=lt.length,Et,Pt,Ct,At;for(yt=0;yt<gt;yt+=1){if(ct=lt[yt],ct.hasMask){var jt=ct.masksProperties;for(Pt=jt.length,Et=0;Et<Pt;Et+=1)if(jt[Et].pt.k.i)jt[Et].pt.k.c=jt[Et].cl;else for(At=jt[Et].pt.k.length,Ct=0;Ct<At;Ct+=1)jt[Et].pt.k[Ct].s&&(jt[Et].pt.k[Ct].s[0].c=jt[Et].cl),jt[Et].pt.k[Ct].e&&(jt[Et].pt.k[Ct].e[0].c=jt[Et].cl)}ct.ty===4&&ft(ct.shapes)}}return function(lt){if(ut(bt,lt.v)&&(pt(lt.layers),lt.assets)){var ct,yt=lt.assets.length;for(ct=0;ct<yt;ct+=1)lt.assets[ct].layers&&pt(lt.assets[ct].layers)}}}();function vt(bt){bt.__complete||(xt(bt),ht(bt),dt(bt),mt(bt),St(bt),at(bt.layers,bt.assets),_e(bt.chars,bt.assets),bt.__complete=!0)}function wt(bt){bt.t.a.length===0&&"m"in bt.t.p}var _t={};return _t.completeData=vt,_t.checkColors=xt,_t.checkChars=dt,_t.checkPathProperties=mt,_t.checkShapes=St,_t.completeLayers=at,_t}if(c.dataManager||(c.dataManager=tt()),c.assetLoader||(c.assetLoader=function(){function at(rt){var et=rt.getResponseHeader("content-type");return et&&rt.responseType==="json"&&et.indexOf("json")!==-1||rt.response&&_typeof$5(rt.response)==="object"?rt.response:rt.response&&typeof rt.response=="string"?JSON.parse(rt.response):rt.responseText?JSON.parse(rt.responseText):null}function _e(rt,et,it,ot){var ut,ht=new XMLHttpRequest;try{ht.responseType="json"}catch{}ht.onreadystatechange=function(){if(ht.readyState===4)if(ht.status===200)ut=at(ht),it(ut);else try{ut=at(ht),it(ut)}catch(dt){ot&&ot(dt)}};try{ht.open(["G","E","T"].join(""),rt,!0)}catch{ht.open(["G","E","T"].join(""),et+"/"+rt,!0)}ht.send()}return{load:_e}}()),st.data.type==="loadAnimation")c.assetLoader.load(st.data.path,st.data.fullPath,function(at){c.dataManager.completeData(at),c.postMessage({id:st.data.id,payload:at,status:"success"})},function(){c.postMessage({id:st.data.id,status:"error"})});else if(st.data.type==="complete"){var nt=st.data.animation;c.dataManager.completeData(nt),c.postMessage({id:st.data.id,payload:nt,status:"success"})}else st.data.type==="loadData"&&c.assetLoader.load(st.data.path,st.data.fullPath,function(at){c.postMessage({id:st.data.id,payload:at,status:"success"})},function(){c.postMessage({id:st.data.id,status:"error"})})}),a.onmessage=function(j){var st=j.data,tt=st.id,nt=s[tt];s[tt]=null,st.status==="success"?nt.onComplete(st.payload):nt.onError&&nt.onError()})}function g(j,st){e+=1;var tt="processId_"+e;return s[tt]={onComplete:j,onError:st},tt}function b(j,st,tt){d();var nt=g(st,tt);a.postMessage({type:"loadAnimation",path:j,fullPath:window.location.origin+window.location.pathname,id:nt})}function _(j,st,tt){d();var nt=g(st,tt);a.postMessage({type:"loadData",path:j,fullPath:window.location.origin+window.location.pathname,id:nt})}function $(j,st,tt){d();var nt=g(st,tt);a.postMessage({type:"complete",animation:j,id:nt})}return{loadAnimation:b,loadData:_,completeAnimation:$}}(),ImagePreloader=function(){var e=function(){var _e=createTag("canvas");_e.width=1,_e.height=1;var rt=_e.getContext("2d");return rt.fillStyle="rgba(0,0,0,0)",rt.fillRect(0,0,1,1),_e}();function s(){this.loadedAssets+=1,this.loadedAssets===this.totalImages&&this.loadedFootagesCount===this.totalFootages&&this.imagesLoadedCb&&this.imagesLoadedCb(null)}function i(){this.loadedFootagesCount+=1,this.loadedAssets===this.totalImages&&this.loadedFootagesCount===this.totalFootages&&this.imagesLoadedCb&&this.imagesLoadedCb(null)}function a(_e,rt,et){var it="";if(_e.e)it=_e.p;else if(rt){var ot=_e.p;ot.indexOf("images/")!==-1&&(ot=ot.split("/")[1]),it=rt+ot}else it=et,it+=_e.u?_e.u:"",it+=_e.p;return it}function o(_e){var rt=0,et=setInterval((function(){var it=_e.getBBox();(it.width||rt>500)&&(this._imageLoaded(),clearInterval(et)),rt+=1}).bind(this),50)}function c(_e){var rt=a(_e,this.assetsPath,this.path),et=createNS("image");isSafari?this.testImageLoaded(et):et.addEventListener("load",this._imageLoaded,!1),et.addEventListener("error",(function(){it.img=e,this._imageLoaded()}).bind(this),!1),et.setAttributeNS("http://www.w3.org/1999/xlink","href",rt),this._elementHelper.append?this._elementHelper.append(et):this._elementHelper.appendChild(et);var it={img:et,assetData:_e};return it}function h(_e){var rt=a(_e,this.assetsPath,this.path),et=createTag("img");et.crossOrigin="anonymous",et.addEventListener("load",this._imageLoaded,!1),et.addEventListener("error",(function(){it.img=e,this._imageLoaded()}).bind(this),!1),et.src=rt;var it={img:et,assetData:_e};return it}function d(_e){var rt={assetData:_e},et=a(_e,this.assetsPath,this.path);return dataManager.loadData(et,(function(it){rt.img=it,this._footageLoaded()}).bind(this),(function(){rt.img={},this._footageLoaded()}).bind(this)),rt}function g(_e,rt){this.imagesLoadedCb=rt;var et,it=_e.length;for(et=0;et<it;et+=1)_e[et].layers||(!_e[et].t||_e[et].t==="seq"?(this.totalImages+=1,this.images.push(this._createImageData(_e[et]))):_e[et].t===3&&(this.totalFootages+=1,this.images.push(this.createFootageData(_e[et]))))}function b(_e){this.path=_e||""}function _(_e){this.assetsPath=_e||""}function $(_e){for(var rt=0,et=this.images.length;rt<et;){if(this.images[rt].assetData===_e)return this.images[rt].img;rt+=1}return null}function j(){this.imagesLoadedCb=null,this.images.length=0}function st(){return this.totalImages===this.loadedAssets}function tt(){return this.totalFootages===this.loadedFootagesCount}function nt(_e,rt){_e==="svg"?(this._elementHelper=rt,this._createImageData=this.createImageData.bind(this)):this._createImageData=this.createImgData.bind(this)}function at(){this._imageLoaded=s.bind(this),this._footageLoaded=i.bind(this),this.testImageLoaded=o.bind(this),this.createFootageData=d.bind(this),this.assetsPath="",this.path="",this.totalImages=0,this.totalFootages=0,this.loadedAssets=0,this.loadedFootagesCount=0,this.imagesLoadedCb=null,this.images=[]}return at.prototype={loadAssets:g,setAssetsPath:_,setPath:b,loadedImages:st,loadedFootages:tt,destroy:j,getAsset:$,createImgData:h,createImageData:c,imageLoaded:s,footageLoaded:i,setCacheType:nt},at}();function BaseEvent(){}BaseEvent.prototype={triggerEvent:function(s,i){if(this._cbs[s])for(var a=this._cbs[s],o=0;o<a.length;o+=1)a[o](i)},addEventListener:function(s,i){return this._cbs[s]||(this._cbs[s]=[]),this._cbs[s].push(i),(function(){this.removeEventListener(s,i)}).bind(this)},removeEventListener:function(s,i){if(!i)this._cbs[s]=null;else if(this._cbs[s]){for(var a=0,o=this._cbs[s].length;a<o;)this._cbs[s][a]===i&&(this._cbs[s].splice(a,1),a-=1,o-=1),a+=1;this._cbs[s].length||(this._cbs[s]=null)}}};var markerParser=function(){function e(s){for(var i=s.split(`\r
`),a={},o,c=0,h=0;h<i.length;h+=1)o=i[h].split(":"),o.length===2&&(a[o[0]]=o[1].trim(),c+=1);if(c===0)throw new Error;return a}return function(s){for(var i=[],a=0;a<s.length;a+=1){var o=s[a],c={time:o.tm,duration:o.dr};try{c.payload=JSON.parse(s[a].cm)}catch{try{c.payload=e(s[a].cm)}catch{c.payload={name:s[a].cm}}}i.push(c)}return i}}(),ProjectInterface=function(){function e(s){this.compositions.push(s)}return function(){function s(i){for(var a=0,o=this.compositions.length;a<o;){if(this.compositions[a].data&&this.compositions[a].data.nm===i)return this.compositions[a].prepareFrame&&this.compositions[a].data.xt&&this.compositions[a].prepareFrame(this.currentFrame),this.compositions[a].compInterface;a+=1}return null}return s.compositions=[],s.currentFrame=0,s.registerComposition=e,s}}(),renderers={},registerRenderer=function(s,i){renderers[s]=i};function getRenderer(e){return renderers[e]}function getRegisteredRenderer(){if(renderers.canvas)return"canvas";for(var e in renderers)if(renderers[e])return e;return""}function _typeof$4(e){"@babel/helpers - typeof";return _typeof$4=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(s){return typeof s}:function(s){return s&&typeof Symbol=="function"&&s.constructor===Symbol&&s!==Symbol.prototype?"symbol":typeof s},_typeof$4(e)}var AnimationItem=function(){this._cbs=[],this.name="",this.path="",this.isLoaded=!1,this.currentFrame=0,this.currentRawFrame=0,this.firstFrame=0,this.totalFrames=0,this.frameRate=0,this.frameMult=0,this.playSpeed=1,this.playDirection=1,this.playCount=0,this.animationData={},this.assets=[],this.isPaused=!0,this.autoplay=!1,this.loop=!0,this.renderer=null,this.animationID=createElementID(),this.assetsPath="",this.timeCompleted=0,this.segmentPos=0,this.isSubframeEnabled=getSubframeEnabled(),this.segments=[],this._idle=!0,this._completedLoop=!1,this.projectInterface=ProjectInterface(),this.imagePreloader=new ImagePreloader,this.audioController=audioControllerFactory(),this.markers=[],this.configAnimation=this.configAnimation.bind(this),this.onSetupError=this.onSetupError.bind(this),this.onSegmentComplete=this.onSegmentComplete.bind(this),this.drawnFrameEvent=new BMEnterFrameEvent("drawnFrame",0,0,0),this.expressionsPlugin=getExpressionsPlugin()};extendPrototype([BaseEvent],AnimationItem),AnimationItem.prototype.setParams=function(e){(e.wrapper||e.container)&&(this.wrapper=e.wrapper||e.container);var s="svg";e.animType?s=e.animType:e.renderer&&(s=e.renderer);var i=getRenderer(s);this.renderer=new i(this,e.rendererSettings),this.imagePreloader.setCacheType(s,this.renderer.globalData.defs),this.renderer.setProjectInterface(this.projectInterface),this.animType=s,e.loop===""||e.loop===null||e.loop===void 0||e.loop===!0?this.loop=!0:e.loop===!1?this.loop=!1:this.loop=parseInt(e.loop,10),this.autoplay="autoplay"in e?e.autoplay:!0,this.name=e.name?e.name:"",this.autoloadSegments=Object.prototype.hasOwnProperty.call(e,"autoloadSegments")?e.autoloadSegments:!0,this.assetsPath=e.assetsPath,this.initialSegment=e.initialSegment,e.audioFactory&&this.audioController.setAudioFactory(e.audioFactory),e.animationData?this.setupAnimation(e.animationData):e.path&&(e.path.lastIndexOf("\\")!==-1?this.path=e.path.substr(0,e.path.lastIndexOf("\\")+1):this.path=e.path.substr(0,e.path.lastIndexOf("/")+1),this.fileName=e.path.substr(e.path.lastIndexOf("/")+1),this.fileName=this.fileName.substr(0,this.fileName.lastIndexOf(".json")),dataManager.loadAnimation(e.path,this.configAnimation,this.onSetupError))},AnimationItem.prototype.onSetupError=function(){this.trigger("data_failed")},AnimationItem.prototype.setupAnimation=function(e){dataManager.completeAnimation(e,this.configAnimation)},AnimationItem.prototype.setData=function(e,s){s&&_typeof$4(s)!=="object"&&(s=JSON.parse(s));var i={wrapper:e,animationData:s},a=e.attributes;i.path=a.getNamedItem("data-animation-path")?a.getNamedItem("data-animation-path").value:a.getNamedItem("data-bm-path")?a.getNamedItem("data-bm-path").value:a.getNamedItem("bm-path")?a.getNamedItem("bm-path").value:"",i.animType=a.getNamedItem("data-anim-type")?a.getNamedItem("data-anim-type").value:a.getNamedItem("data-bm-type")?a.getNamedItem("data-bm-type").value:a.getNamedItem("bm-type")?a.getNamedItem("bm-type").value:a.getNamedItem("data-bm-renderer")?a.getNamedItem("data-bm-renderer").value:a.getNamedItem("bm-renderer")?a.getNamedItem("bm-renderer").value:getRegisteredRenderer()||"canvas";var o=a.getNamedItem("data-anim-loop")?a.getNamedItem("data-anim-loop").value:a.getNamedItem("data-bm-loop")?a.getNamedItem("data-bm-loop").value:a.getNamedItem("bm-loop")?a.getNamedItem("bm-loop").value:"";o==="false"?i.loop=!1:o==="true"?i.loop=!0:o!==""&&(i.loop=parseInt(o,10));var c=a.getNamedItem("data-anim-autoplay")?a.getNamedItem("data-anim-autoplay").value:a.getNamedItem("data-bm-autoplay")?a.getNamedItem("data-bm-autoplay").value:a.getNamedItem("bm-autoplay")?a.getNamedItem("bm-autoplay").value:!0;i.autoplay=c!=="false",i.name=a.getNamedItem("data-name")?a.getNamedItem("data-name").value:a.getNamedItem("data-bm-name")?a.getNamedItem("data-bm-name").value:a.getNamedItem("bm-name")?a.getNamedItem("bm-name").value:"";var h=a.getNamedItem("data-anim-prerender")?a.getNamedItem("data-anim-prerender").value:a.getNamedItem("data-bm-prerender")?a.getNamedItem("data-bm-prerender").value:a.getNamedItem("bm-prerender")?a.getNamedItem("bm-prerender").value:"";h==="false"&&(i.prerender=!1),i.path?this.setParams(i):this.trigger("destroy")},AnimationItem.prototype.includeLayers=function(e){e.op>this.animationData.op&&(this.animationData.op=e.op,this.totalFrames=Math.floor(e.op-this.animationData.ip));var s=this.animationData.layers,i,a=s.length,o=e.layers,c,h=o.length;for(c=0;c<h;c+=1)for(i=0;i<a;){if(s[i].id===o[c].id){s[i]=o[c];break}i+=1}if((e.chars||e.fonts)&&(this.renderer.globalData.fontManager.addChars(e.chars),this.renderer.globalData.fontManager.addFonts(e.fonts,this.renderer.globalData.defs)),e.assets)for(a=e.assets.length,i=0;i<a;i+=1)this.animationData.assets.push(e.assets[i]);this.animationData.__complete=!1,dataManager.completeAnimation(this.animationData,this.onSegmentComplete)},AnimationItem.prototype.onSegmentComplete=function(e){this.animationData=e;var s=getExpressionsPlugin();s&&s.initExpressions(this),this.loadNextSegment()},AnimationItem.prototype.loadNextSegment=function(){var e=this.animationData.segments;if(!e||e.length===0||!this.autoloadSegments){this.trigger("data_ready"),this.timeCompleted=this.totalFrames;return}var s=e.shift();this.timeCompleted=s.time*this.frameRate;var i=this.path+this.fileName+"_"+this.segmentPos+".json";this.segmentPos+=1,dataManager.loadData(i,this.includeLayers.bind(this),(function(){this.trigger("data_failed")}).bind(this))},AnimationItem.prototype.loadSegments=function(){var e=this.animationData.segments;e||(this.timeCompleted=this.totalFrames),this.loadNextSegment()},AnimationItem.prototype.imagesLoaded=function(){this.trigger("loaded_images"),this.checkLoaded()},AnimationItem.prototype.preloadImages=function(){this.imagePreloader.setAssetsPath(this.assetsPath),this.imagePreloader.setPath(this.path),this.imagePreloader.loadAssets(this.animationData.assets,this.imagesLoaded.bind(this))},AnimationItem.prototype.configAnimation=function(e){if(this.renderer)try{this.animationData=e,this.initialSegment?(this.totalFrames=Math.floor(this.initialSegment[1]-this.initialSegment[0]),this.firstFrame=Math.round(this.initialSegment[0])):(this.totalFrames=Math.floor(this.animationData.op-this.animationData.ip),this.firstFrame=Math.round(this.animationData.ip)),this.renderer.configAnimation(e),e.assets||(e.assets=[]),this.assets=this.animationData.assets,this.frameRate=this.animationData.fr,this.frameMult=this.animationData.fr/1e3,this.renderer.searchExtraCompositions(e.assets),this.markers=markerParser(e.markers||[]),this.trigger("config_ready"),this.preloadImages(),this.loadSegments(),this.updaFrameModifier(),this.waitForFontsLoaded(),this.isPaused&&this.audioController.pause()}catch(s){this.triggerConfigError(s)}},AnimationItem.prototype.waitForFontsLoaded=function(){this.renderer&&(this.renderer.globalData.fontManager.isLoaded?this.checkLoaded():setTimeout(this.waitForFontsLoaded.bind(this),20))},AnimationItem.prototype.checkLoaded=function(){if(!this.isLoaded&&this.renderer.globalData.fontManager.isLoaded&&(this.imagePreloader.loadedImages()||this.renderer.rendererType!=="canvas")&&this.imagePreloader.loadedFootages()){this.isLoaded=!0;var e=getExpressionsPlugin();e&&e.initExpressions(this),this.renderer.initItems(),setTimeout((function(){this.trigger("DOMLoaded")}).bind(this),0),this.gotoFrame(),this.autoplay&&this.play()}},AnimationItem.prototype.resize=function(e,s){var i=typeof e=="number"?e:void 0,a=typeof s=="number"?s:void 0;this.renderer.updateContainerSize(i,a)},AnimationItem.prototype.setSubframe=function(e){this.isSubframeEnabled=!!e},AnimationItem.prototype.gotoFrame=function(){this.currentFrame=this.isSubframeEnabled?this.currentRawFrame:~~this.currentRawFrame,this.timeCompleted!==this.totalFrames&&this.currentFrame>this.timeCompleted&&(this.currentFrame=this.timeCompleted),this.trigger("enterFrame"),this.renderFrame(),this.trigger("drawnFrame")},AnimationItem.prototype.renderFrame=function(){if(!(this.isLoaded===!1||!this.renderer))try{this.expressionsPlugin&&this.expressionsPlugin.resetFrame(),this.renderer.renderFrame(this.currentFrame+this.firstFrame)}catch(e){this.triggerRenderFrameError(e)}},AnimationItem.prototype.play=function(e){e&&this.name!==e||this.isPaused===!0&&(this.isPaused=!1,this.trigger("_play"),this.audioController.resume(),this._idle&&(this._idle=!1,this.trigger("_active")))},AnimationItem.prototype.pause=function(e){e&&this.name!==e||this.isPaused===!1&&(this.isPaused=!0,this.trigger("_pause"),this._idle=!0,this.trigger("_idle"),this.audioController.pause())},AnimationItem.prototype.togglePause=function(e){e&&this.name!==e||(this.isPaused===!0?this.play():this.pause())},AnimationItem.prototype.stop=function(e){e&&this.name!==e||(this.pause(),this.playCount=0,this._completedLoop=!1,this.setCurrentRawFrameValue(0))},AnimationItem.prototype.getMarkerData=function(e){for(var s,i=0;i<this.markers.length;i+=1)if(s=this.markers[i],s.payload&&s.payload.name===e)return s;return null},AnimationItem.prototype.goToAndStop=function(e,s,i){if(!(i&&this.name!==i)){var a=Number(e);if(isNaN(a)){var o=this.getMarkerData(e);o&&this.goToAndStop(o.time,!0)}else s?this.setCurrentRawFrameValue(e):this.setCurrentRawFrameValue(e*this.frameModifier);this.pause()}},AnimationItem.prototype.goToAndPlay=function(e,s,i){if(!(i&&this.name!==i)){var a=Number(e);if(isNaN(a)){var o=this.getMarkerData(e);o&&(o.duration?this.playSegments([o.time,o.time+o.duration],!0):this.goToAndStop(o.time,!0))}else this.goToAndStop(a,s,i);this.play()}},AnimationItem.prototype.advanceTime=function(e){if(!(this.isPaused===!0||this.isLoaded===!1)){var s=this.currentRawFrame+e*this.frameModifier,i=!1;s>=this.totalFrames-1&&this.frameModifier>0?!this.loop||this.playCount===this.loop?this.checkSegments(s>this.totalFrames?s%this.totalFrames:0)||(i=!0,s=this.totalFrames-1):s>=this.totalFrames?(this.playCount+=1,this.checkSegments(s%this.totalFrames)||(this.setCurrentRawFrameValue(s%this.totalFrames),this._completedLoop=!0,this.trigger("loopComplete"))):this.setCurrentRawFrameValue(s):s<0?this.checkSegments(s%this.totalFrames)||(this.loop&&!(this.playCount--<=0&&this.loop!==!0)?(this.setCurrentRawFrameValue(this.totalFrames+s%this.totalFrames),this._completedLoop?this.trigger("loopComplete"):this._completedLoop=!0):(i=!0,s=0)):this.setCurrentRawFrameValue(s),i&&(this.setCurrentRawFrameValue(s),this.pause(),this.trigger("complete"))}},AnimationItem.prototype.adjustSegment=function(e,s){this.playCount=0,e[1]<e[0]?(this.frameModifier>0&&(this.playSpeed<0?this.setSpeed(-this.playSpeed):this.setDirection(-1)),this.totalFrames=e[0]-e[1],this.timeCompleted=this.totalFrames,this.firstFrame=e[1],this.setCurrentRawFrameValue(this.totalFrames-.001-s)):e[1]>e[0]&&(this.frameModifier<0&&(this.playSpeed<0?this.setSpeed(-this.playSpeed):this.setDirection(1)),this.totalFrames=e[1]-e[0],this.timeCompleted=this.totalFrames,this.firstFrame=e[0],this.setCurrentRawFrameValue(.001+s)),this.trigger("segmentStart")},AnimationItem.prototype.setSegment=function(e,s){var i=-1;this.isPaused&&(this.currentRawFrame+this.firstFrame<e?i=e:this.currentRawFrame+this.firstFrame>s&&(i=s-e)),this.firstFrame=e,this.totalFrames=s-e,this.timeCompleted=this.totalFrames,i!==-1&&this.goToAndStop(i,!0)},AnimationItem.prototype.playSegments=function(e,s){if(s&&(this.segments.length=0),_typeof$4(e[0])==="object"){var i,a=e.length;for(i=0;i<a;i+=1)this.segments.push(e[i])}else this.segments.push(e);this.segments.length&&s&&this.adjustSegment(this.segments.shift(),0),this.isPaused&&this.play()},AnimationItem.prototype.resetSegments=function(e){this.segments.length=0,this.segments.push([this.animationData.ip,this.animationData.op]),e&&this.checkSegments(0)},AnimationItem.prototype.checkSegments=function(e){return this.segments.length?(this.adjustSegment(this.segments.shift(),e),!0):!1},AnimationItem.prototype.destroy=function(e){e&&this.name!==e||!this.renderer||(this.renderer.destroy(),this.imagePreloader.destroy(),this.trigger("destroy"),this._cbs=null,this.onEnterFrame=null,this.onLoopComplete=null,this.onComplete=null,this.onSegmentStart=null,this.onDestroy=null,this.renderer=null,this.expressionsPlugin=null,this.imagePreloader=null,this.projectInterface=null)},AnimationItem.prototype.setCurrentRawFrameValue=function(e){this.currentRawFrame=e,this.gotoFrame()},AnimationItem.prototype.setSpeed=function(e){this.playSpeed=e,this.updaFrameModifier()},AnimationItem.prototype.setDirection=function(e){this.playDirection=e<0?-1:1,this.updaFrameModifier()},AnimationItem.prototype.setLoop=function(e){this.loop=e},AnimationItem.prototype.setVolume=function(e,s){s&&this.name!==s||this.audioController.setVolume(e)},AnimationItem.prototype.getVolume=function(){return this.audioController.getVolume()},AnimationItem.prototype.mute=function(e){e&&this.name!==e||this.audioController.mute()},AnimationItem.prototype.unmute=function(e){e&&this.name!==e||this.audioController.unmute()},AnimationItem.prototype.updaFrameModifier=function(){this.frameModifier=this.frameMult*this.playSpeed*this.playDirection,this.audioController.setRate(this.playSpeed*this.playDirection)},AnimationItem.prototype.getPath=function(){return this.path},AnimationItem.prototype.getAssetsPath=function(e){var s="";if(e.e)s=e.p;else if(this.assetsPath){var i=e.p;i.indexOf("images/")!==-1&&(i=i.split("/")[1]),s=this.assetsPath+i}else s=this.path,s+=e.u?e.u:"",s+=e.p;return s},AnimationItem.prototype.getAssetData=function(e){for(var s=0,i=this.assets.length;s<i;){if(e===this.assets[s].id)return this.assets[s];s+=1}return null},AnimationItem.prototype.hide=function(){this.renderer.hide()},AnimationItem.prototype.show=function(){this.renderer.show()},AnimationItem.prototype.getDuration=function(e){return e?this.totalFrames:this.totalFrames/this.frameRate},AnimationItem.prototype.updateDocumentData=function(e,s,i){try{var a=this.renderer.getElementByPath(e);a.updateDocumentData(s,i)}catch{}},AnimationItem.prototype.trigger=function(e){if(this._cbs&&this._cbs[e])switch(e){case"enterFrame":this.triggerEvent(e,new BMEnterFrameEvent(e,this.currentFrame,this.totalFrames,this.frameModifier));break;case"drawnFrame":this.drawnFrameEvent.currentTime=this.currentFrame,this.drawnFrameEvent.totalTime=this.totalFrames,this.drawnFrameEvent.direction=this.frameModifier,this.triggerEvent(e,this.drawnFrameEvent);break;case"loopComplete":this.triggerEvent(e,new BMCompleteLoopEvent(e,this.loop,this.playCount,this.frameMult));break;case"complete":this.triggerEvent(e,new BMCompleteEvent(e,this.frameMult));break;case"segmentStart":this.triggerEvent(e,new BMSegmentStartEvent(e,this.firstFrame,this.totalFrames));break;case"destroy":this.triggerEvent(e,new BMDestroyEvent(e,this));break;default:this.triggerEvent(e)}e==="enterFrame"&&this.onEnterFrame&&this.onEnterFrame.call(this,new BMEnterFrameEvent(e,this.currentFrame,this.totalFrames,this.frameMult)),e==="loopComplete"&&this.onLoopComplete&&this.onLoopComplete.call(this,new BMCompleteLoopEvent(e,this.loop,this.playCount,this.frameMult)),e==="complete"&&this.onComplete&&this.onComplete.call(this,new BMCompleteEvent(e,this.frameMult)),e==="segmentStart"&&this.onSegmentStart&&this.onSegmentStart.call(this,new BMSegmentStartEvent(e,this.firstFrame,this.totalFrames)),e==="destroy"&&this.onDestroy&&this.onDestroy.call(this,new BMDestroyEvent(e,this))},AnimationItem.prototype.triggerRenderFrameError=function(e){var s=new BMRenderFrameErrorEvent(e,this.currentFrame);this.triggerEvent("error",s),this.onError&&this.onError.call(this,s)},AnimationItem.prototype.triggerConfigError=function(e){var s=new BMConfigErrorEvent(e,this.currentFrame);this.triggerEvent("error",s),this.onError&&this.onError.call(this,s)};var animationManager=function(){var e={},s=[],i=0,a=0,o=0,c=!0,h=!1;function d(ft){for(var pt=0,lt=ft.target;pt<a;)s[pt].animation===lt&&(s.splice(pt,1),pt-=1,a-=1,lt.isPaused||$()),pt+=1}function g(ft,pt){if(!ft)return null;for(var lt=0;lt<a;){if(s[lt].elem===ft&&s[lt].elem!==null)return s[lt].animation;lt+=1}var ct=new AnimationItem;return j(ct,ft),ct.setData(ft,pt),ct}function b(){var ft,pt=s.length,lt=[];for(ft=0;ft<pt;ft+=1)lt.push(s[ft].animation);return lt}function _(){o+=1,xt()}function $(){o-=1}function j(ft,pt){ft.addEventListener("destroy",d),ft.addEventListener("_active",_),ft.addEventListener("_idle",$),s.push({elem:pt,animation:ft}),a+=1}function st(ft){var pt=new AnimationItem;return j(pt,null),pt.setParams(ft),pt}function tt(ft,pt){var lt;for(lt=0;lt<a;lt+=1)s[lt].animation.setSpeed(ft,pt)}function nt(ft,pt){var lt;for(lt=0;lt<a;lt+=1)s[lt].animation.setDirection(ft,pt)}function at(ft){var pt;for(pt=0;pt<a;pt+=1)s[pt].animation.play(ft)}function _e(ft){var pt=ft-i,lt;for(lt=0;lt<a;lt+=1)s[lt].animation.advanceTime(pt);i=ft,o&&!h?window.requestAnimationFrame(_e):c=!0}function rt(ft){i=ft,window.requestAnimationFrame(_e)}function et(ft){var pt;for(pt=0;pt<a;pt+=1)s[pt].animation.pause(ft)}function it(ft,pt,lt){var ct;for(ct=0;ct<a;ct+=1)s[ct].animation.goToAndStop(ft,pt,lt)}function ot(ft){var pt;for(pt=0;pt<a;pt+=1)s[pt].animation.stop(ft)}function ut(ft){var pt;for(pt=0;pt<a;pt+=1)s[pt].animation.togglePause(ft)}function ht(ft){var pt;for(pt=a-1;pt>=0;pt-=1)s[pt].animation.destroy(ft)}function dt(ft,pt,lt){var ct=[].concat([].slice.call(document.getElementsByClassName("lottie")),[].slice.call(document.getElementsByClassName("bodymovin"))),yt,gt=ct.length;for(yt=0;yt<gt;yt+=1)lt&&ct[yt].setAttribute("data-bm-type",lt),g(ct[yt],ft);if(pt&&gt===0){lt||(lt="svg");var Et=document.getElementsByTagName("body")[0];Et.innerText="";var Pt=createTag("div");Pt.style.width="100%",Pt.style.height="100%",Pt.setAttribute("data-bm-type",lt),Et.appendChild(Pt),g(Pt,ft)}}function mt(){var ft;for(ft=0;ft<a;ft+=1)s[ft].animation.resize()}function xt(){!h&&o&&c&&(window.requestAnimationFrame(rt),c=!1)}function St(){h=!0}function vt(){h=!1,xt()}function wt(ft,pt){var lt;for(lt=0;lt<a;lt+=1)s[lt].animation.setVolume(ft,pt)}function _t(ft){var pt;for(pt=0;pt<a;pt+=1)s[pt].animation.mute(ft)}function bt(ft){var pt;for(pt=0;pt<a;pt+=1)s[pt].animation.unmute(ft)}return e.registerAnimation=g,e.loadAnimation=st,e.setSpeed=tt,e.setDirection=nt,e.play=at,e.pause=et,e.stop=ot,e.togglePause=ut,e.searchAnimations=dt,e.resize=mt,e.goToAndStop=it,e.destroy=ht,e.freeze=St,e.unfreeze=vt,e.setVolume=wt,e.mute=_t,e.unmute=bt,e.getRegisteredAnimations=b,e}(),BezierFactory=function(){var e={};e.getBezierEasing=i;var s={};function i(rt,et,it,ot,ut){var ht=ut||("bez_"+rt+"_"+et+"_"+it+"_"+ot).replace(/\./g,"p");if(s[ht])return s[ht];var dt=new _e([rt,et,it,ot]);return s[ht]=dt,dt}var a=4,o=.001,c=1e-7,h=10,d=11,g=1/(d-1),b=typeof Float32Array=="function";function _(rt,et){return 1-3*et+3*rt}function $(rt,et){return 3*et-6*rt}function j(rt){return 3*rt}function st(rt,et,it){return((_(et,it)*rt+$(et,it))*rt+j(et))*rt}function tt(rt,et,it){return 3*_(et,it)*rt*rt+2*$(et,it)*rt+j(et)}function nt(rt,et,it,ot,ut){var ht,dt,mt=0;do dt=et+(it-et)/2,ht=st(dt,ot,ut)-rt,ht>0?it=dt:et=dt;while(Math.abs(ht)>c&&++mt<h);return dt}function at(rt,et,it,ot){for(var ut=0;ut<a;++ut){var ht=tt(et,it,ot);if(ht===0)return et;var dt=st(et,it,ot)-rt;et-=dt/ht}return et}function _e(rt){this._p=rt,this._mSampleValues=b?new Float32Array(d):new Array(d),this._precomputed=!1,this.get=this.get.bind(this)}return _e.prototype={get:function(et){var it=this._p[0],ot=this._p[1],ut=this._p[2],ht=this._p[3];return this._precomputed||this._precompute(),it===ot&&ut===ht?et:et===0?0:et===1?1:st(this._getTForX(et),ot,ht)},_precompute:function(){var et=this._p[0],it=this._p[1],ot=this._p[2],ut=this._p[3];this._precomputed=!0,(et!==it||ot!==ut)&&this._calcSampleValues()},_calcSampleValues:function(){for(var et=this._p[0],it=this._p[2],ot=0;ot<d;++ot)this._mSampleValues[ot]=st(ot*g,et,it)},_getTForX:function(et){for(var it=this._p[0],ot=this._p[2],ut=this._mSampleValues,ht=0,dt=1,mt=d-1;dt!==mt&&ut[dt]<=et;++dt)ht+=g;--dt;var xt=(et-ut[dt])/(ut[dt+1]-ut[dt]),St=ht+xt*g,vt=tt(St,it,ot);return vt>=o?at(et,St,it,ot):vt===0?St:nt(et,ht,ht+g,it,ot)}},e}(),pooling=function(){function e(s){return s.concat(createSizedArray(s.length))}return{double:e}}(),poolFactory=function(){return function(e,s,i){var a=0,o=e,c=createSizedArray(o),h={newElement:d,release:g};function d(){var b;return a?(a-=1,b=c[a]):b=s(),b}function g(b){a===o&&(c=pooling.double(c),o*=2),i&&i(b),c[a]=b,a+=1}return h}}(),bezierLengthPool=function(){function e(){return{addedLength:0,percents:createTypedArray("float32",getDefaultCurveSegments()),lengths:createTypedArray("float32",getDefaultCurveSegments())}}return poolFactory(8,e)}(),segmentsLengthPool=function(){function e(){return{lengths:[],totalLength:0}}function s(i){var a,o=i.lengths.length;for(a=0;a<o;a+=1)bezierLengthPool.release(i.lengths[a]);i.lengths.length=0}return poolFactory(8,e,s)}();function bezFunction(){var e=Math;function s(j,st,tt,nt,at,_e){var rt=j*nt+st*at+tt*_e-at*nt-_e*j-tt*st;return rt>-.001&&rt<.001}function i(j,st,tt,nt,at,_e,rt,et,it){if(tt===0&&_e===0&&it===0)return s(j,st,nt,at,rt,et);var ot=e.sqrt(e.pow(nt-j,2)+e.pow(at-st,2)+e.pow(_e-tt,2)),ut=e.sqrt(e.pow(rt-j,2)+e.pow(et-st,2)+e.pow(it-tt,2)),ht=e.sqrt(e.pow(rt-nt,2)+e.pow(et-at,2)+e.pow(it-_e,2)),dt;return ot>ut?ot>ht?dt=ot-ut-ht:dt=ht-ut-ot:ht>ut?dt=ht-ut-ot:dt=ut-ot-ht,dt>-1e-4&&dt<1e-4}var a=function(){return function(j,st,tt,nt){var at=getDefaultCurveSegments(),_e,rt,et,it,ot,ut=0,ht,dt=[],mt=[],xt=bezierLengthPool.newElement();for(et=tt.length,_e=0;_e<at;_e+=1){for(ot=_e/(at-1),ht=0,rt=0;rt<et;rt+=1)it=bmPow(1-ot,3)*j[rt]+3*bmPow(1-ot,2)*ot*tt[rt]+3*(1-ot)*bmPow(ot,2)*nt[rt]+bmPow(ot,3)*st[rt],dt[rt]=it,mt[rt]!==null&&(ht+=bmPow(dt[rt]-mt[rt],2)),mt[rt]=dt[rt];ht&&(ht=bmSqrt(ht),ut+=ht),xt.percents[_e]=ot,xt.lengths[_e]=ut}return xt.addedLength=ut,xt}}();function o(j){var st=segmentsLengthPool.newElement(),tt=j.c,nt=j.v,at=j.o,_e=j.i,rt,et=j._length,it=st.lengths,ot=0;for(rt=0;rt<et-1;rt+=1)it[rt]=a(nt[rt],nt[rt+1],at[rt],_e[rt+1]),ot+=it[rt].addedLength;return tt&&et&&(it[rt]=a(nt[rt],nt[0],at[rt],_e[0]),ot+=it[rt].addedLength),st.totalLength=ot,st}function c(j){this.segmentLength=0,this.points=new Array(j)}function h(j,st){this.partialLength=j,this.point=st}var d=function(){var j={};return function(st,tt,nt,at){var _e=(st[0]+"_"+st[1]+"_"+tt[0]+"_"+tt[1]+"_"+nt[0]+"_"+nt[1]+"_"+at[0]+"_"+at[1]).replace(/\./g,"p");if(!j[_e]){var rt=getDefaultCurveSegments(),et,it,ot,ut,ht,dt=0,mt,xt,St=null;st.length===2&&(st[0]!==tt[0]||st[1]!==tt[1])&&s(st[0],st[1],tt[0],tt[1],st[0]+nt[0],st[1]+nt[1])&&s(st[0],st[1],tt[0],tt[1],tt[0]+at[0],tt[1]+at[1])&&(rt=2);var vt=new c(rt);for(ot=nt.length,et=0;et<rt;et+=1){for(xt=createSizedArray(ot),ht=et/(rt-1),mt=0,it=0;it<ot;it+=1)ut=bmPow(1-ht,3)*st[it]+3*bmPow(1-ht,2)*ht*(st[it]+nt[it])+3*(1-ht)*bmPow(ht,2)*(tt[it]+at[it])+bmPow(ht,3)*tt[it],xt[it]=ut,St!==null&&(mt+=bmPow(xt[it]-St[it],2));mt=bmSqrt(mt),dt+=mt,vt.points[et]=new h(mt,xt),St=xt}vt.segmentLength=dt,j[_e]=vt}return j[_e]}}();function g(j,st){var tt=st.percents,nt=st.lengths,at=tt.length,_e=bmFloor((at-1)*j),rt=j*st.addedLength,et=0;if(_e===at-1||_e===0||rt===nt[_e])return tt[_e];for(var it=nt[_e]>rt?-1:1,ot=!0;ot;)if(nt[_e]<=rt&&nt[_e+1]>rt?(et=(rt-nt[_e])/(nt[_e+1]-nt[_e]),ot=!1):_e+=it,_e<0||_e>=at-1){if(_e===at-1)return tt[_e];ot=!1}return tt[_e]+(tt[_e+1]-tt[_e])*et}function b(j,st,tt,nt,at,_e){var rt=g(at,_e),et=1-rt,it=e.round((et*et*et*j[0]+(rt*et*et+et*rt*et+et*et*rt)*tt[0]+(rt*rt*et+et*rt*rt+rt*et*rt)*nt[0]+rt*rt*rt*st[0])*1e3)/1e3,ot=e.round((et*et*et*j[1]+(rt*et*et+et*rt*et+et*et*rt)*tt[1]+(rt*rt*et+et*rt*rt+rt*et*rt)*nt[1]+rt*rt*rt*st[1])*1e3)/1e3;return[it,ot]}var _=createTypedArray("float32",8);function $(j,st,tt,nt,at,_e,rt){at<0?at=0:at>1&&(at=1);var et=g(at,rt);_e=_e>1?1:_e;var it=g(_e,rt),ot,ut=j.length,ht=1-et,dt=1-it,mt=ht*ht*ht,xt=et*ht*ht*3,St=et*et*ht*3,vt=et*et*et,wt=ht*ht*dt,_t=et*ht*dt+ht*et*dt+ht*ht*it,bt=et*et*dt+ht*et*it+et*ht*it,ft=et*et*it,pt=ht*dt*dt,lt=et*dt*dt+ht*it*dt+ht*dt*it,ct=et*it*dt+ht*it*it+et*dt*it,yt=et*it*it,gt=dt*dt*dt,Et=it*dt*dt+dt*it*dt+dt*dt*it,Pt=it*it*dt+dt*it*it+it*dt*it,Ct=it*it*it;for(ot=0;ot<ut;ot+=1)_[ot*4]=e.round((mt*j[ot]+xt*tt[ot]+St*nt[ot]+vt*st[ot])*1e3)/1e3,_[ot*4+1]=e.round((wt*j[ot]+_t*tt[ot]+bt*nt[ot]+ft*st[ot])*1e3)/1e3,_[ot*4+2]=e.round((pt*j[ot]+lt*tt[ot]+ct*nt[ot]+yt*st[ot])*1e3)/1e3,_[ot*4+3]=e.round((gt*j[ot]+Et*tt[ot]+Pt*nt[ot]+Ct*st[ot])*1e3)/1e3;return _}return{getSegmentsLength:o,getNewSegment:$,getPointInSegment:b,buildBezierData:d,pointOnLine2D:s,pointOnLine3D:i}}var bez=bezFunction(),initFrame=initialDefaultFrame,mathAbs=Math.abs;function interpolateValue(e,s){var i=this.offsetTime,a;this.propType==="multidimensional"&&(a=createTypedArray("float32",this.pv.length));for(var o=s.lastIndex,c=o,h=this.keyframes.length-1,d=!0,g,b,_;d;){if(g=this.keyframes[c],b=this.keyframes[c+1],c===h-1&&e>=b.t-i){g.h&&(g=b),o=0;break}if(b.t-i>e){o=c;break}c<h-1?c+=1:(o=0,d=!1)}_=this.keyframesMetadata[c]||{};var $,j,st,tt,nt,at,_e=b.t-i,rt=g.t-i,et;if(g.to){_.bezierData||(_.bezierData=bez.buildBezierData(g.s,b.s||g.e,g.to,g.ti));var it=_.bezierData;if(e>=_e||e<rt){var ot=e>=_e?it.points.length-1:0;for(j=it.points[ot].point.length,$=0;$<j;$+=1)a[$]=it.points[ot].point[$]}else{_.__fnct?at=_.__fnct:(at=BezierFactory.getBezierEasing(g.o.x,g.o.y,g.i.x,g.i.y,g.n).get,_.__fnct=at),st=at((e-rt)/(_e-rt));var ut=it.segmentLength*st,ht,dt=s.lastFrame<e&&s._lastKeyframeIndex===c?s._lastAddedLength:0;for(nt=s.lastFrame<e&&s._lastKeyframeIndex===c?s._lastPoint:0,d=!0,tt=it.points.length;d;){if(dt+=it.points[nt].partialLength,ut===0||st===0||nt===it.points.length-1){for(j=it.points[nt].point.length,$=0;$<j;$+=1)a[$]=it.points[nt].point[$];break}else if(ut>=dt&&ut<dt+it.points[nt+1].partialLength){for(ht=(ut-dt)/it.points[nt+1].partialLength,j=it.points[nt].point.length,$=0;$<j;$+=1)a[$]=it.points[nt].point[$]+(it.points[nt+1].point[$]-it.points[nt].point[$])*ht;break}nt<tt-1?nt+=1:d=!1}s._lastPoint=nt,s._lastAddedLength=dt-it.points[nt].partialLength,s._lastKeyframeIndex=c}}else{var mt,xt,St,vt,wt;if(h=g.s.length,et=b.s||g.e,this.sh&&g.h!==1)if(e>=_e)a[0]=et[0],a[1]=et[1],a[2]=et[2];else if(e<=rt)a[0]=g.s[0],a[1]=g.s[1],a[2]=g.s[2];else{var _t=createQuaternion(g.s),bt=createQuaternion(et),ft=(e-rt)/(_e-rt);quaternionToEuler(a,slerp(_t,bt,ft))}else for(c=0;c<h;c+=1)g.h!==1&&(e>=_e?st=1:e<rt?st=0:(g.o.x.constructor===Array?(_.__fnct||(_.__fnct=[]),_.__fnct[c]?at=_.__fnct[c]:(mt=g.o.x[c]===void 0?g.o.x[0]:g.o.x[c],xt=g.o.y[c]===void 0?g.o.y[0]:g.o.y[c],St=g.i.x[c]===void 0?g.i.x[0]:g.i.x[c],vt=g.i.y[c]===void 0?g.i.y[0]:g.i.y[c],at=BezierFactory.getBezierEasing(mt,xt,St,vt).get,_.__fnct[c]=at)):_.__fnct?at=_.__fnct:(mt=g.o.x,xt=g.o.y,St=g.i.x,vt=g.i.y,at=BezierFactory.getBezierEasing(mt,xt,St,vt).get,g.keyframeMetadata=at),st=at((e-rt)/(_e-rt)))),et=b.s||g.e,wt=g.h===1?g.s[c]:g.s[c]+(et[c]-g.s[c])*st,this.propType==="multidimensional"?a[c]=wt:a=wt}return s.lastIndex=o,a}function slerp(e,s,i){var a=[],o=e[0],c=e[1],h=e[2],d=e[3],g=s[0],b=s[1],_=s[2],$=s[3],j,st,tt,nt,at;return st=o*g+c*b+h*_+d*$,st<0&&(st=-st,g=-g,b=-b,_=-_,$=-$),1-st>1e-6?(j=Math.acos(st),tt=Math.sin(j),nt=Math.sin((1-i)*j)/tt,at=Math.sin(i*j)/tt):(nt=1-i,at=i),a[0]=nt*o+at*g,a[1]=nt*c+at*b,a[2]=nt*h+at*_,a[3]=nt*d+at*$,a}function quaternionToEuler(e,s){var i=s[0],a=s[1],o=s[2],c=s[3],h=Math.atan2(2*a*c-2*i*o,1-2*a*a-2*o*o),d=Math.asin(2*i*a+2*o*c),g=Math.atan2(2*i*c-2*a*o,1-2*i*i-2*o*o);e[0]=h/degToRads,e[1]=d/degToRads,e[2]=g/degToRads}function createQuaternion(e){var s=e[0]*degToRads,i=e[1]*degToRads,a=e[2]*degToRads,o=Math.cos(s/2),c=Math.cos(i/2),h=Math.cos(a/2),d=Math.sin(s/2),g=Math.sin(i/2),b=Math.sin(a/2),_=o*c*h-d*g*b,$=d*g*h+o*c*b,j=d*c*h+o*g*b,st=o*g*h-d*c*b;return[$,j,st,_]}function getValueAtCurrentTime(){var e=this.comp.renderedFrame-this.offsetTime,s=this.keyframes[0].t-this.offsetTime,i=this.keyframes[this.keyframes.length-1].t-this.offsetTime;if(!(e===this._caching.lastFrame||this._caching.lastFrame!==initFrame&&(this._caching.lastFrame>=i&&e>=i||this._caching.lastFrame<s&&e<s))){this._caching.lastFrame>=e&&(this._caching._lastKeyframeIndex=-1,this._caching.lastIndex=0);var a=this.interpolateValue(e,this._caching);this.pv=a}return this._caching.lastFrame=e,this.pv}function setVValue(e){var s;if(this.propType==="unidimensional")s=e*this.mult,mathAbs(this.v-s)>1e-5&&(this.v=s,this._mdf=!0);else for(var i=0,a=this.v.length;i<a;)s=e[i]*this.mult,mathAbs(this.v[i]-s)>1e-5&&(this.v[i]=s,this._mdf=!0),i+=1}function processEffectsSequence(){if(!(this.elem.globalData.frameId===this.frameId||!this.effectsSequence.length)){if(this.lock){this.setVValue(this.pv);return}this.lock=!0,this._mdf=this._isFirstFrame;var e,s=this.effectsSequence.length,i=this.kf?this.pv:this.data.k;for(e=0;e<s;e+=1)i=this.effectsSequence[e](i);this.setVValue(i),this._isFirstFrame=!1,this.lock=!1,this.frameId=this.elem.globalData.frameId}}function addEffect(e){this.effectsSequence.push(e),this.container.addDynamicProperty(this)}function ValueProperty(e,s,i,a){this.propType="unidimensional",this.mult=i||1,this.data=s,this.v=i?s.k*i:s.k,this.pv=s.k,this._mdf=!1,this.elem=e,this.container=a,this.comp=e.comp,this.k=!1,this.kf=!1,this.vel=0,this.effectsSequence=[],this._isFirstFrame=!0,this.getValue=processEffectsSequence,this.setVValue=setVValue,this.addEffect=addEffect}function MultiDimensionalProperty(e,s,i,a){this.propType="multidimensional",this.mult=i||1,this.data=s,this._mdf=!1,this.elem=e,this.container=a,this.comp=e.comp,this.k=!1,this.kf=!1,this.frameId=-1;var o,c=s.k.length;for(this.v=createTypedArray("float32",c),this.pv=createTypedArray("float32",c),this.vel=createTypedArray("float32",c),o=0;o<c;o+=1)this.v[o]=s.k[o]*this.mult,this.pv[o]=s.k[o];this._isFirstFrame=!0,this.effectsSequence=[],this.getValue=processEffectsSequence,this.setVValue=setVValue,this.addEffect=addEffect}function KeyframedValueProperty(e,s,i,a){this.propType="unidimensional",this.keyframes=s.k,this.keyframesMetadata=[],this.offsetTime=e.data.st,this.frameId=-1,this._caching={lastFrame:initFrame,lastIndex:0,value:0,_lastKeyframeIndex:-1},this.k=!0,this.kf=!0,this.data=s,this.mult=i||1,this.elem=e,this.container=a,this.comp=e.comp,this.v=initFrame,this.pv=initFrame,this._isFirstFrame=!0,this.getValue=processEffectsSequence,this.setVValue=setVValue,this.interpolateValue=interpolateValue,this.effectsSequence=[getValueAtCurrentTime.bind(this)],this.addEffect=addEffect}function KeyframedMultidimensionalProperty(e,s,i,a){this.propType="multidimensional";var o,c=s.k.length,h,d,g,b;for(o=0;o<c-1;o+=1)s.k[o].to&&s.k[o].s&&s.k[o+1]&&s.k[o+1].s&&(h=s.k[o].s,d=s.k[o+1].s,g=s.k[o].to,b=s.k[o].ti,(h.length===2&&!(h[0]===d[0]&&h[1]===d[1])&&bez.pointOnLine2D(h[0],h[1],d[0],d[1],h[0]+g[0],h[1]+g[1])&&bez.pointOnLine2D(h[0],h[1],d[0],d[1],d[0]+b[0],d[1]+b[1])||h.length===3&&!(h[0]===d[0]&&h[1]===d[1]&&h[2]===d[2])&&bez.pointOnLine3D(h[0],h[1],h[2],d[0],d[1],d[2],h[0]+g[0],h[1]+g[1],h[2]+g[2])&&bez.pointOnLine3D(h[0],h[1],h[2],d[0],d[1],d[2],d[0]+b[0],d[1]+b[1],d[2]+b[2]))&&(s.k[o].to=null,s.k[o].ti=null),h[0]===d[0]&&h[1]===d[1]&&g[0]===0&&g[1]===0&&b[0]===0&&b[1]===0&&(h.length===2||h[2]===d[2]&&g[2]===0&&b[2]===0)&&(s.k[o].to=null,s.k[o].ti=null));this.effectsSequence=[getValueAtCurrentTime.bind(this)],this.data=s,this.keyframes=s.k,this.keyframesMetadata=[],this.offsetTime=e.data.st,this.k=!0,this.kf=!0,this._isFirstFrame=!0,this.mult=i||1,this.elem=e,this.container=a,this.comp=e.comp,this.getValue=processEffectsSequence,this.setVValue=setVValue,this.interpolateValue=interpolateValue,this.frameId=-1;var _=s.k[0].s.length;for(this.v=createTypedArray("float32",_),this.pv=createTypedArray("float32",_),o=0;o<_;o+=1)this.v[o]=initFrame,this.pv[o]=initFrame;this._caching={lastFrame:initFrame,lastIndex:0,value:createTypedArray("float32",_)},this.addEffect=addEffect}var PropertyFactory=function(){function e(i,a,o,c,h){a.sid&&(a=i.globalData.slotManager.getProp(a));var d;if(!a.k.length)d=new ValueProperty(i,a,c,h);else if(typeof a.k[0]=="number")d=new MultiDimensionalProperty(i,a,c,h);else switch(o){case 0:d=new KeyframedValueProperty(i,a,c,h);break;case 1:d=new KeyframedMultidimensionalProperty(i,a,c,h);break}return d.effectsSequence.length&&h.addDynamicProperty(d),d}var s={getProp:e};return s}();function DynamicPropertyContainer(){}DynamicPropertyContainer.prototype={addDynamicProperty:function(s){this.dynamicProperties.indexOf(s)===-1&&(this.dynamicProperties.push(s),this.container.addDynamicProperty(this),this._isAnimated=!0)},iterateDynamicProperties:function(){this._mdf=!1;var s,i=this.dynamicProperties.length;for(s=0;s<i;s+=1)this.dynamicProperties[s].getValue(),this.dynamicProperties[s]._mdf&&(this._mdf=!0)},initDynamicPropertyContainer:function(s){this.container=s,this.dynamicProperties=[],this._mdf=!1,this._isAnimated=!1}};var pointPool=function(){function e(){return createTypedArray("float32",2)}return poolFactory(8,e)}();function ShapePath(){this.c=!1,this._length=0,this._maxLength=8,this.v=createSizedArray(this._maxLength),this.o=createSizedArray(this._maxLength),this.i=createSizedArray(this._maxLength)}ShapePath.prototype.setPathData=function(e,s){this.c=e,this.setLength(s);for(var i=0;i<s;)this.v[i]=pointPool.newElement(),this.o[i]=pointPool.newElement(),this.i[i]=pointPool.newElement(),i+=1},ShapePath.prototype.setLength=function(e){for(;this._maxLength<e;)this.doubleArrayLength();this._length=e},ShapePath.prototype.doubleArrayLength=function(){this.v=this.v.concat(createSizedArray(this._maxLength)),this.i=this.i.concat(createSizedArray(this._maxLength)),this.o=this.o.concat(createSizedArray(this._maxLength)),this._maxLength*=2},ShapePath.prototype.setXYAt=function(e,s,i,a,o){var c;switch(this._length=Math.max(this._length,a+1),this._length>=this._maxLength&&this.doubleArrayLength(),i){case"v":c=this.v;break;case"i":c=this.i;break;case"o":c=this.o;break;default:c=[];break}(!c[a]||c[a]&&!o)&&(c[a]=pointPool.newElement()),c[a][0]=e,c[a][1]=s},ShapePath.prototype.setTripleAt=function(e,s,i,a,o,c,h,d){this.setXYAt(e,s,"v",h,d),this.setXYAt(i,a,"o",h,d),this.setXYAt(o,c,"i",h,d)},ShapePath.prototype.reverse=function(){var e=new ShapePath;e.setPathData(this.c,this._length);var s=this.v,i=this.o,a=this.i,o=0;this.c&&(e.setTripleAt(s[0][0],s[0][1],a[0][0],a[0][1],i[0][0],i[0][1],0,!1),o=1);var c=this._length-1,h=this._length,d;for(d=o;d<h;d+=1)e.setTripleAt(s[c][0],s[c][1],a[c][0],a[c][1],i[c][0],i[c][1],d,!1),c-=1;return e},ShapePath.prototype.length=function(){return this._length};var shapePool=function(){function e(){return new ShapePath}function s(o){var c=o._length,h;for(h=0;h<c;h+=1)pointPool.release(o.v[h]),pointPool.release(o.i[h]),pointPool.release(o.o[h]),o.v[h]=null,o.i[h]=null,o.o[h]=null;o._length=0,o.c=!1}function i(o){var c=a.newElement(),h,d=o._length===void 0?o.v.length:o._length;for(c.setLength(d),c.c=o.c,h=0;h<d;h+=1)c.setTripleAt(o.v[h][0],o.v[h][1],o.o[h][0],o.o[h][1],o.i[h][0],o.i[h][1],h);return c}var a=poolFactory(4,e,s);return a.clone=i,a}();function ShapeCollection(){this._length=0,this._maxLength=4,this.shapes=createSizedArray(this._maxLength)}ShapeCollection.prototype.addShape=function(e){this._length===this._maxLength&&(this.shapes=this.shapes.concat(createSizedArray(this._maxLength)),this._maxLength*=2),this.shapes[this._length]=e,this._length+=1},ShapeCollection.prototype.releaseShapes=function(){var e;for(e=0;e<this._length;e+=1)shapePool.release(this.shapes[e]);this._length=0};var shapeCollectionPool=function(){var e={newShapeCollection:o,release:c},s=0,i=4,a=createSizedArray(i);function o(){var h;return s?(s-=1,h=a[s]):h=new ShapeCollection,h}function c(h){var d,g=h._length;for(d=0;d<g;d+=1)shapePool.release(h.shapes[d]);h._length=0,s===i&&(a=pooling.double(a),i*=2),a[s]=h,s+=1}return e}(),ShapePropertyFactory=function(){var e=-999999;function s(_e,rt,et){var it=et.lastIndex,ot,ut,ht,dt,mt,xt,St,vt,wt,_t=this.keyframes;if(_e<_t[0].t-this.offsetTime)ot=_t[0].s[0],ht=!0,it=0;else if(_e>=_t[_t.length-1].t-this.offsetTime)ot=_t[_t.length-1].s?_t[_t.length-1].s[0]:_t[_t.length-2].e[0],ht=!0;else{for(var bt=it,ft=_t.length-1,pt=!0,lt,ct,yt;pt&&(lt=_t[bt],ct=_t[bt+1],!(ct.t-this.offsetTime>_e));)bt<ft-1?bt+=1:pt=!1;if(yt=this.keyframesMetadata[bt]||{},ht=lt.h===1,it=bt,!ht){if(_e>=ct.t-this.offsetTime)vt=1;else if(_e<lt.t-this.offsetTime)vt=0;else{var gt;yt.__fnct?gt=yt.__fnct:(gt=BezierFactory.getBezierEasing(lt.o.x,lt.o.y,lt.i.x,lt.i.y).get,yt.__fnct=gt),vt=gt((_e-(lt.t-this.offsetTime))/(ct.t-this.offsetTime-(lt.t-this.offsetTime)))}ut=ct.s?ct.s[0]:lt.e[0]}ot=lt.s[0]}for(xt=rt._length,St=ot.i[0].length,et.lastIndex=it,dt=0;dt<xt;dt+=1)for(mt=0;mt<St;mt+=1)wt=ht?ot.i[dt][mt]:ot.i[dt][mt]+(ut.i[dt][mt]-ot.i[dt][mt])*vt,rt.i[dt][mt]=wt,wt=ht?ot.o[dt][mt]:ot.o[dt][mt]+(ut.o[dt][mt]-ot.o[dt][mt])*vt,rt.o[dt][mt]=wt,wt=ht?ot.v[dt][mt]:ot.v[dt][mt]+(ut.v[dt][mt]-ot.v[dt][mt])*vt,rt.v[dt][mt]=wt}function i(){var _e=this.comp.renderedFrame-this.offsetTime,rt=this.keyframes[0].t-this.offsetTime,et=this.keyframes[this.keyframes.length-1].t-this.offsetTime,it=this._caching.lastFrame;return it!==e&&(it<rt&&_e<rt||it>et&&_e>et)||(this._caching.lastIndex=it<_e?this._caching.lastIndex:0,this.interpolateShape(_e,this.pv,this._caching)),this._caching.lastFrame=_e,this.pv}function a(){this.paths=this.localShapeCollection}function o(_e,rt){if(_e._length!==rt._length||_e.c!==rt.c)return!1;var et,it=_e._length;for(et=0;et<it;et+=1)if(_e.v[et][0]!==rt.v[et][0]||_e.v[et][1]!==rt.v[et][1]||_e.o[et][0]!==rt.o[et][0]||_e.o[et][1]!==rt.o[et][1]||_e.i[et][0]!==rt.i[et][0]||_e.i[et][1]!==rt.i[et][1])return!1;return!0}function c(_e){o(this.v,_e)||(this.v=shapePool.clone(_e),this.localShapeCollection.releaseShapes(),this.localShapeCollection.addShape(this.v),this._mdf=!0,this.paths=this.localShapeCollection)}function h(){if(this.elem.globalData.frameId!==this.frameId){if(!this.effectsSequence.length){this._mdf=!1;return}if(this.lock){this.setVValue(this.pv);return}this.lock=!0,this._mdf=!1;var _e;this.kf?_e=this.pv:this.data.ks?_e=this.data.ks.k:_e=this.data.pt.k;var rt,et=this.effectsSequence.length;for(rt=0;rt<et;rt+=1)_e=this.effectsSequence[rt](_e);this.setVValue(_e),this.lock=!1,this.frameId=this.elem.globalData.frameId}}function d(_e,rt,et){this.propType="shape",this.comp=_e.comp,this.container=_e,this.elem=_e,this.data=rt,this.k=!1,this.kf=!1,this._mdf=!1;var it=et===3?rt.pt.k:rt.ks.k;this.v=shapePool.clone(it),this.pv=shapePool.clone(this.v),this.localShapeCollection=shapeCollectionPool.newShapeCollection(),this.paths=this.localShapeCollection,this.paths.addShape(this.v),this.reset=a,this.effectsSequence=[]}function g(_e){this.effectsSequence.push(_e),this.container.addDynamicProperty(this)}d.prototype.interpolateShape=s,d.prototype.getValue=h,d.prototype.setVValue=c,d.prototype.addEffect=g;function b(_e,rt,et){this.propType="shape",this.comp=_e.comp,this.elem=_e,this.container=_e,this.offsetTime=_e.data.st,this.keyframes=et===3?rt.pt.k:rt.ks.k,this.keyframesMetadata=[],this.k=!0,this.kf=!0;var it=this.keyframes[0].s[0].i.length;this.v=shapePool.newElement(),this.v.setPathData(this.keyframes[0].s[0].c,it),this.pv=shapePool.clone(this.v),this.localShapeCollection=shapeCollectionPool.newShapeCollection(),this.paths=this.localShapeCollection,this.paths.addShape(this.v),this.lastFrame=e,this.reset=a,this._caching={lastFrame:e,lastIndex:0},this.effectsSequence=[i.bind(this)]}b.prototype.getValue=h,b.prototype.interpolateShape=s,b.prototype.setVValue=c,b.prototype.addEffect=g;var _=function(){var _e=roundCorner;function rt(et,it){this.v=shapePool.newElement(),this.v.setPathData(!0,4),this.localShapeCollection=shapeCollectionPool.newShapeCollection(),this.paths=this.localShapeCollection,this.localShapeCollection.addShape(this.v),this.d=it.d,this.elem=et,this.comp=et.comp,this.frameId=-1,this.initDynamicPropertyContainer(et),this.p=PropertyFactory.getProp(et,it.p,1,0,this),this.s=PropertyFactory.getProp(et,it.s,1,0,this),this.dynamicProperties.length?this.k=!0:(this.k=!1,this.convertEllToPath())}return rt.prototype={reset:a,getValue:function(){this.elem.globalData.frameId!==this.frameId&&(this.frameId=this.elem.globalData.frameId,this.iterateDynamicProperties(),this._mdf&&this.convertEllToPath())},convertEllToPath:function(){var it=this.p.v[0],ot=this.p.v[1],ut=this.s.v[0]/2,ht=this.s.v[1]/2,dt=this.d!==3,mt=this.v;mt.v[0][0]=it,mt.v[0][1]=ot-ht,mt.v[1][0]=dt?it+ut:it-ut,mt.v[1][1]=ot,mt.v[2][0]=it,mt.v[2][1]=ot+ht,mt.v[3][0]=dt?it-ut:it+ut,mt.v[3][1]=ot,mt.i[0][0]=dt?it-ut*_e:it+ut*_e,mt.i[0][1]=ot-ht,mt.i[1][0]=dt?it+ut:it-ut,mt.i[1][1]=ot-ht*_e,mt.i[2][0]=dt?it+ut*_e:it-ut*_e,mt.i[2][1]=ot+ht,mt.i[3][0]=dt?it-ut:it+ut,mt.i[3][1]=ot+ht*_e,mt.o[0][0]=dt?it+ut*_e:it-ut*_e,mt.o[0][1]=ot-ht,mt.o[1][0]=dt?it+ut:it-ut,mt.o[1][1]=ot+ht*_e,mt.o[2][0]=dt?it-ut*_e:it+ut*_e,mt.o[2][1]=ot+ht,mt.o[3][0]=dt?it-ut:it+ut,mt.o[3][1]=ot-ht*_e}},extendPrototype([DynamicPropertyContainer],rt),rt}(),$=function(){function _e(rt,et){this.v=shapePool.newElement(),this.v.setPathData(!0,0),this.elem=rt,this.comp=rt.comp,this.data=et,this.frameId=-1,this.d=et.d,this.initDynamicPropertyContainer(rt),et.sy===1?(this.ir=PropertyFactory.getProp(rt,et.ir,0,0,this),this.is=PropertyFactory.getProp(rt,et.is,0,.01,this),this.convertToPath=this.convertStarToPath):this.convertToPath=this.convertPolygonToPath,this.pt=PropertyFactory.getProp(rt,et.pt,0,0,this),this.p=PropertyFactory.getProp(rt,et.p,1,0,this),this.r=PropertyFactory.getProp(rt,et.r,0,degToRads,this),this.or=PropertyFactory.getProp(rt,et.or,0,0,this),this.os=PropertyFactory.getProp(rt,et.os,0,.01,this),this.localShapeCollection=shapeCollectionPool.newShapeCollection(),this.localShapeCollection.addShape(this.v),this.paths=this.localShapeCollection,this.dynamicProperties.length?this.k=!0:(this.k=!1,this.convertToPath())}return _e.prototype={reset:a,getValue:function(){this.elem.globalData.frameId!==this.frameId&&(this.frameId=this.elem.globalData.frameId,this.iterateDynamicProperties(),this._mdf&&this.convertToPath())},convertStarToPath:function(){var et=Math.floor(this.pt.v)*2,it=Math.PI*2/et,ot=!0,ut=this.or.v,ht=this.ir.v,dt=this.os.v,mt=this.is.v,xt=2*Math.PI*ut/(et*2),St=2*Math.PI*ht/(et*2),vt,wt,_t,bt,ft=-Math.PI/2;ft+=this.r.v;var pt=this.data.d===3?-1:1;for(this.v._length=0,vt=0;vt<et;vt+=1){wt=ot?ut:ht,_t=ot?dt:mt,bt=ot?xt:St;var lt=wt*Math.cos(ft),ct=wt*Math.sin(ft),yt=lt===0&&ct===0?0:ct/Math.sqrt(lt*lt+ct*ct),gt=lt===0&&ct===0?0:-lt/Math.sqrt(lt*lt+ct*ct);lt+=+this.p.v[0],ct+=+this.p.v[1],this.v.setTripleAt(lt,ct,lt-yt*bt*_t*pt,ct-gt*bt*_t*pt,lt+yt*bt*_t*pt,ct+gt*bt*_t*pt,vt,!0),ot=!ot,ft+=it*pt}},convertPolygonToPath:function(){var et=Math.floor(this.pt.v),it=Math.PI*2/et,ot=this.or.v,ut=this.os.v,ht=2*Math.PI*ot/(et*4),dt,mt=-Math.PI*.5,xt=this.data.d===3?-1:1;for(mt+=this.r.v,this.v._length=0,dt=0;dt<et;dt+=1){var St=ot*Math.cos(mt),vt=ot*Math.sin(mt),wt=St===0&&vt===0?0:vt/Math.sqrt(St*St+vt*vt),_t=St===0&&vt===0?0:-St/Math.sqrt(St*St+vt*vt);St+=+this.p.v[0],vt+=+this.p.v[1],this.v.setTripleAt(St,vt,St-wt*ht*ut*xt,vt-_t*ht*ut*xt,St+wt*ht*ut*xt,vt+_t*ht*ut*xt,dt,!0),mt+=it*xt}this.paths.length=0,this.paths[0]=this.v}},extendPrototype([DynamicPropertyContainer],_e),_e}(),j=function(){function _e(rt,et){this.v=shapePool.newElement(),this.v.c=!0,this.localShapeCollection=shapeCollectionPool.newShapeCollection(),this.localShapeCollection.addShape(this.v),this.paths=this.localShapeCollection,this.elem=rt,this.comp=rt.comp,this.frameId=-1,this.d=et.d,this.initDynamicPropertyContainer(rt),this.p=PropertyFactory.getProp(rt,et.p,1,0,this),this.s=PropertyFactory.getProp(rt,et.s,1,0,this),this.r=PropertyFactory.getProp(rt,et.r,0,0,this),this.dynamicProperties.length?this.k=!0:(this.k=!1,this.convertRectToPath())}return _e.prototype={convertRectToPath:function(){var et=this.p.v[0],it=this.p.v[1],ot=this.s.v[0]/2,ut=this.s.v[1]/2,ht=bmMin(ot,ut,this.r.v),dt=ht*(1-roundCorner);this.v._length=0,this.d===2||this.d===1?(this.v.setTripleAt(et+ot,it-ut+ht,et+ot,it-ut+ht,et+ot,it-ut+dt,0,!0),this.v.setTripleAt(et+ot,it+ut-ht,et+ot,it+ut-dt,et+ot,it+ut-ht,1,!0),ht!==0?(this.v.setTripleAt(et+ot-ht,it+ut,et+ot-ht,it+ut,et+ot-dt,it+ut,2,!0),this.v.setTripleAt(et-ot+ht,it+ut,et-ot+dt,it+ut,et-ot+ht,it+ut,3,!0),this.v.setTripleAt(et-ot,it+ut-ht,et-ot,it+ut-ht,et-ot,it+ut-dt,4,!0),this.v.setTripleAt(et-ot,it-ut+ht,et-ot,it-ut+dt,et-ot,it-ut+ht,5,!0),this.v.setTripleAt(et-ot+ht,it-ut,et-ot+ht,it-ut,et-ot+dt,it-ut,6,!0),this.v.setTripleAt(et+ot-ht,it-ut,et+ot-dt,it-ut,et+ot-ht,it-ut,7,!0)):(this.v.setTripleAt(et-ot,it+ut,et-ot+dt,it+ut,et-ot,it+ut,2),this.v.setTripleAt(et-ot,it-ut,et-ot,it-ut+dt,et-ot,it-ut,3))):(this.v.setTripleAt(et+ot,it-ut+ht,et+ot,it-ut+dt,et+ot,it-ut+ht,0,!0),ht!==0?(this.v.setTripleAt(et+ot-ht,it-ut,et+ot-ht,it-ut,et+ot-dt,it-ut,1,!0),this.v.setTripleAt(et-ot+ht,it-ut,et-ot+dt,it-ut,et-ot+ht,it-ut,2,!0),this.v.setTripleAt(et-ot,it-ut+ht,et-ot,it-ut+ht,et-ot,it-ut+dt,3,!0),this.v.setTripleAt(et-ot,it+ut-ht,et-ot,it+ut-dt,et-ot,it+ut-ht,4,!0),this.v.setTripleAt(et-ot+ht,it+ut,et-ot+ht,it+ut,et-ot+dt,it+ut,5,!0),this.v.setTripleAt(et+ot-ht,it+ut,et+ot-dt,it+ut,et+ot-ht,it+ut,6,!0),this.v.setTripleAt(et+ot,it+ut-ht,et+ot,it+ut-ht,et+ot,it+ut-dt,7,!0)):(this.v.setTripleAt(et-ot,it-ut,et-ot+dt,it-ut,et-ot,it-ut,1,!0),this.v.setTripleAt(et-ot,it+ut,et-ot,it+ut-dt,et-ot,it+ut,2,!0),this.v.setTripleAt(et+ot,it+ut,et+ot-dt,it+ut,et+ot,it+ut,3,!0)))},getValue:function(){this.elem.globalData.frameId!==this.frameId&&(this.frameId=this.elem.globalData.frameId,this.iterateDynamicProperties(),this._mdf&&this.convertRectToPath())},reset:a},extendPrototype([DynamicPropertyContainer],_e),_e}();function st(_e,rt,et){var it;if(et===3||et===4){var ot=et===3?rt.pt:rt.ks,ut=ot.k;ut.length?it=new b(_e,rt,et):it=new d(_e,rt,et)}else et===5?it=new j(_e,rt):et===6?it=new _(_e,rt):et===7&&(it=new $(_e,rt));return it.k&&_e.addDynamicProperty(it),it}function tt(){return d}function nt(){return b}var at={};return at.getShapeProp=st,at.getConstructorFunction=tt,at.getKeyframedConstructorFunction=nt,at}();/*!
 Transformation Matrix v2.0
 (c) Epistemex 2014-2015
 www.epistemex.com
 By Ken Fyrstenberg
 Contributions by leeoniya.
 License: MIT, header required.
 */var Matrix=function(){var e=Math.cos,s=Math.sin,i=Math.tan,a=Math.round;function o(){return this.props[0]=1,this.props[1]=0,this.props[2]=0,this.props[3]=0,this.props[4]=0,this.props[5]=1,this.props[6]=0,this.props[7]=0,this.props[8]=0,this.props[9]=0,this.props[10]=1,this.props[11]=0,this.props[12]=0,this.props[13]=0,this.props[14]=0,this.props[15]=1,this}function c(lt){if(lt===0)return this;var ct=e(lt),yt=s(lt);return this._t(ct,-yt,0,0,yt,ct,0,0,0,0,1,0,0,0,0,1)}function h(lt){if(lt===0)return this;var ct=e(lt),yt=s(lt);return this._t(1,0,0,0,0,ct,-yt,0,0,yt,ct,0,0,0,0,1)}function d(lt){if(lt===0)return this;var ct=e(lt),yt=s(lt);return this._t(ct,0,yt,0,0,1,0,0,-yt,0,ct,0,0,0,0,1)}function g(lt){if(lt===0)return this;var ct=e(lt),yt=s(lt);return this._t(ct,-yt,0,0,yt,ct,0,0,0,0,1,0,0,0,0,1)}function b(lt,ct){return this._t(1,ct,lt,1,0,0)}function _(lt,ct){return this.shear(i(lt),i(ct))}function $(lt,ct){var yt=e(ct),gt=s(ct);return this._t(yt,gt,0,0,-gt,yt,0,0,0,0,1,0,0,0,0,1)._t(1,0,0,0,i(lt),1,0,0,0,0,1,0,0,0,0,1)._t(yt,-gt,0,0,gt,yt,0,0,0,0,1,0,0,0,0,1)}function j(lt,ct,yt){return!yt&&yt!==0&&(yt=1),lt===1&&ct===1&&yt===1?this:this._t(lt,0,0,0,0,ct,0,0,0,0,yt,0,0,0,0,1)}function st(lt,ct,yt,gt,Et,Pt,Ct,At,jt,It,Bt,Gt,Vt,Lt,$t,Mt){return this.props[0]=lt,this.props[1]=ct,this.props[2]=yt,this.props[3]=gt,this.props[4]=Et,this.props[5]=Pt,this.props[6]=Ct,this.props[7]=At,this.props[8]=jt,this.props[9]=It,this.props[10]=Bt,this.props[11]=Gt,this.props[12]=Vt,this.props[13]=Lt,this.props[14]=$t,this.props[15]=Mt,this}function tt(lt,ct,yt){return yt=yt||0,lt!==0||ct!==0||yt!==0?this._t(1,0,0,0,0,1,0,0,0,0,1,0,lt,ct,yt,1):this}function nt(lt,ct,yt,gt,Et,Pt,Ct,At,jt,It,Bt,Gt,Vt,Lt,$t,Mt){var Tt=this.props;if(lt===1&&ct===0&&yt===0&&gt===0&&Et===0&&Pt===1&&Ct===0&&At===0&&jt===0&&It===0&&Bt===1&&Gt===0)return Tt[12]=Tt[12]*lt+Tt[15]*Vt,Tt[13]=Tt[13]*Pt+Tt[15]*Lt,Tt[14]=Tt[14]*Bt+Tt[15]*$t,Tt[15]*=Mt,this._identityCalculated=!1,this;var Ht=Tt[0],qt=Tt[1],kt=Tt[2],Rt=Tt[3],Ft=Tt[4],Ot=Tt[5],Nt=Tt[6],Ut=Tt[7],zt=Tt[8],Dt=Tt[9],Kt=Tt[10],Wt=Tt[11],Xt=Tt[12],Yt=Tt[13],Jt=Tt[14],Qt=Tt[15];return Tt[0]=Ht*lt+qt*Et+kt*jt+Rt*Vt,Tt[1]=Ht*ct+qt*Pt+kt*It+Rt*Lt,Tt[2]=Ht*yt+qt*Ct+kt*Bt+Rt*$t,Tt[3]=Ht*gt+qt*At+kt*Gt+Rt*Mt,Tt[4]=Ft*lt+Ot*Et+Nt*jt+Ut*Vt,Tt[5]=Ft*ct+Ot*Pt+Nt*It+Ut*Lt,Tt[6]=Ft*yt+Ot*Ct+Nt*Bt+Ut*$t,Tt[7]=Ft*gt+Ot*At+Nt*Gt+Ut*Mt,Tt[8]=zt*lt+Dt*Et+Kt*jt+Wt*Vt,Tt[9]=zt*ct+Dt*Pt+Kt*It+Wt*Lt,Tt[10]=zt*yt+Dt*Ct+Kt*Bt+Wt*$t,Tt[11]=zt*gt+Dt*At+Kt*Gt+Wt*Mt,Tt[12]=Xt*lt+Yt*Et+Jt*jt+Qt*Vt,Tt[13]=Xt*ct+Yt*Pt+Jt*It+Qt*Lt,Tt[14]=Xt*yt+Yt*Ct+Jt*Bt+Qt*$t,Tt[15]=Xt*gt+Yt*At+Jt*Gt+Qt*Mt,this._identityCalculated=!1,this}function at(lt){var ct=lt.props;return this.transform(ct[0],ct[1],ct[2],ct[3],ct[4],ct[5],ct[6],ct[7],ct[8],ct[9],ct[10],ct[11],ct[12],ct[13],ct[14],ct[15])}function _e(){return this._identityCalculated||(this._identity=!(this.props[0]!==1||this.props[1]!==0||this.props[2]!==0||this.props[3]!==0||this.props[4]!==0||this.props[5]!==1||this.props[6]!==0||this.props[7]!==0||this.props[8]!==0||this.props[9]!==0||this.props[10]!==1||this.props[11]!==0||this.props[12]!==0||this.props[13]!==0||this.props[14]!==0||this.props[15]!==1),this._identityCalculated=!0),this._identity}function rt(lt){for(var ct=0;ct<16;){if(lt.props[ct]!==this.props[ct])return!1;ct+=1}return!0}function et(lt){var ct;for(ct=0;ct<16;ct+=1)lt.props[ct]=this.props[ct];return lt}function it(lt){var ct;for(ct=0;ct<16;ct+=1)this.props[ct]=lt[ct]}function ot(lt,ct,yt){return{x:lt*this.props[0]+ct*this.props[4]+yt*this.props[8]+this.props[12],y:lt*this.props[1]+ct*this.props[5]+yt*this.props[9]+this.props[13],z:lt*this.props[2]+ct*this.props[6]+yt*this.props[10]+this.props[14]}}function ut(lt,ct,yt){return lt*this.props[0]+ct*this.props[4]+yt*this.props[8]+this.props[12]}function ht(lt,ct,yt){return lt*this.props[1]+ct*this.props[5]+yt*this.props[9]+this.props[13]}function dt(lt,ct,yt){return lt*this.props[2]+ct*this.props[6]+yt*this.props[10]+this.props[14]}function mt(){var lt=this.props[0]*this.props[5]-this.props[1]*this.props[4],ct=this.props[5]/lt,yt=-this.props[1]/lt,gt=-this.props[4]/lt,Et=this.props[0]/lt,Pt=(this.props[4]*this.props[13]-this.props[5]*this.props[12])/lt,Ct=-(this.props[0]*this.props[13]-this.props[1]*this.props[12])/lt,At=new Matrix;return At.props[0]=ct,At.props[1]=yt,At.props[4]=gt,At.props[5]=Et,At.props[12]=Pt,At.props[13]=Ct,At}function xt(lt){var ct=this.getInverseMatrix();return ct.applyToPointArray(lt[0],lt[1],lt[2]||0)}function St(lt){var ct,yt=lt.length,gt=[];for(ct=0;ct<yt;ct+=1)gt[ct]=xt(lt[ct]);return gt}function vt(lt,ct,yt){var gt=createTypedArray("float32",6);if(this.isIdentity())gt[0]=lt[0],gt[1]=lt[1],gt[2]=ct[0],gt[3]=ct[1],gt[4]=yt[0],gt[5]=yt[1];else{var Et=this.props[0],Pt=this.props[1],Ct=this.props[4],At=this.props[5],jt=this.props[12],It=this.props[13];gt[0]=lt[0]*Et+lt[1]*Ct+jt,gt[1]=lt[0]*Pt+lt[1]*At+It,gt[2]=ct[0]*Et+ct[1]*Ct+jt,gt[3]=ct[0]*Pt+ct[1]*At+It,gt[4]=yt[0]*Et+yt[1]*Ct+jt,gt[5]=yt[0]*Pt+yt[1]*At+It}return gt}function wt(lt,ct,yt){var gt;return this.isIdentity()?gt=[lt,ct,yt]:gt=[lt*this.props[0]+ct*this.props[4]+yt*this.props[8]+this.props[12],lt*this.props[1]+ct*this.props[5]+yt*this.props[9]+this.props[13],lt*this.props[2]+ct*this.props[6]+yt*this.props[10]+this.props[14]],gt}function _t(lt,ct){if(this.isIdentity())return lt+","+ct;var yt=this.props;return Math.round((lt*yt[0]+ct*yt[4]+yt[12])*100)/100+","+Math.round((lt*yt[1]+ct*yt[5]+yt[13])*100)/100}function bt(){for(var lt=0,ct=this.props,yt="matrix3d(",gt=1e4;lt<16;)yt+=a(ct[lt]*gt)/gt,yt+=lt===15?")":",",lt+=1;return yt}function ft(lt){var ct=1e4;return lt<1e-6&&lt>0||lt>-1e-6&&lt<0?a(lt*ct)/ct:lt}function pt(){var lt=this.props,ct=ft(lt[0]),yt=ft(lt[1]),gt=ft(lt[4]),Et=ft(lt[5]),Pt=ft(lt[12]),Ct=ft(lt[13]);return"matrix("+ct+","+yt+","+gt+","+Et+","+Pt+","+Ct+")"}return function(){this.reset=o,this.rotate=c,this.rotateX=h,this.rotateY=d,this.rotateZ=g,this.skew=_,this.skewFromAxis=$,this.shear=b,this.scale=j,this.setTransform=st,this.translate=tt,this.transform=nt,this.multiply=at,this.applyToPoint=ot,this.applyToX=ut,this.applyToY=ht,this.applyToZ=dt,this.applyToPointArray=wt,this.applyToTriplePoints=vt,this.applyToPointStringified=_t,this.toCSS=bt,this.to2dCSS=pt,this.clone=et,this.cloneFromProps=it,this.equals=rt,this.inversePoints=St,this.inversePoint=xt,this.getInverseMatrix=mt,this._t=this.transform,this.isIdentity=_e,this._identity=!0,this._identityCalculated=!1,this.props=createTypedArray("float32",16),this.reset()}}();function _typeof$3(e){"@babel/helpers - typeof";return _typeof$3=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(s){return typeof s}:function(s){return s&&typeof Symbol=="function"&&s.constructor===Symbol&&s!==Symbol.prototype?"symbol":typeof s},_typeof$3(e)}var lottie={};function setLocation(e){setLocationHref(e)}function searchAnimations(){animationManager.searchAnimations()}function setSubframeRendering(e){setSubframeEnabled(e)}function setPrefix(e){setIdPrefix(e)}function loadAnimation(e){return animationManager.loadAnimation(e)}function setQuality(e){if(typeof e=="string")switch(e){case"high":setDefaultCurveSegments(200);break;default:case"medium":setDefaultCurveSegments(50);break;case"low":setDefaultCurveSegments(10);break}else!isNaN(e)&&e>1&&setDefaultCurveSegments(e)}function inBrowser(){return typeof navigator<"u"}function installPlugin(e,s){e==="expressions"&&setExpressionsPlugin(s)}function getFactory(e){switch(e){case"propertyFactory":return PropertyFactory;case"shapePropertyFactory":return ShapePropertyFactory;case"matrix":return Matrix;default:return null}}lottie.play=animationManager.play,lottie.pause=animationManager.pause,lottie.setLocationHref=setLocation,lottie.togglePause=animationManager.togglePause,lottie.setSpeed=animationManager.setSpeed,lottie.setDirection=animationManager.setDirection,lottie.stop=animationManager.stop,lottie.searchAnimations=searchAnimations,lottie.registerAnimation=animationManager.registerAnimation,lottie.loadAnimation=loadAnimation,lottie.setSubframeRendering=setSubframeRendering,lottie.resize=animationManager.resize,lottie.goToAndStop=animationManager.goToAndStop,lottie.destroy=animationManager.destroy,lottie.setQuality=setQuality,lottie.inBrowser=inBrowser,lottie.installPlugin=installPlugin,lottie.freeze=animationManager.freeze,lottie.unfreeze=animationManager.unfreeze,lottie.setVolume=animationManager.setVolume,lottie.mute=animationManager.mute,lottie.unmute=animationManager.unmute,lottie.getRegisteredAnimations=animationManager.getRegisteredAnimations,lottie.useWebWorker=setWebWorker,lottie.setIDPrefix=setPrefix,lottie.__getFactory=getFactory,lottie.version="5.13.0";function checkReady(){document.readyState==="complete"&&(clearInterval(readyStateCheckInterval),searchAnimations())}function getQueryVariable(e){for(var s=queryString.split("&"),i=0;i<s.length;i+=1){var a=s[i].split("=");if(decodeURIComponent(a[0])==e)return decodeURIComponent(a[1])}return null}var queryString="";{var scripts=document.getElementsByTagName("script"),index=scripts.length-1,myScript=scripts[index]||{src:""};queryString=myScript.src?myScript.src.replace(/^[^\?]+\??/,""):"",getQueryVariable("renderer")}var readyStateCheckInterval=setInterval(checkReady,100);try{_typeof$3(exports)!=="object"&&(window.bodymovin=lottie)}catch(e){}var ShapeModifiers=function(){var e={},s={};e.registerModifier=i,e.getModifier=a;function i(o,c){s[o]||(s[o]=c)}function a(o,c,h){return new s[o](c,h)}return e}();function ShapeModifier(){}ShapeModifier.prototype.initModifierProperties=function(){},ShapeModifier.prototype.addShapeToModifier=function(){},ShapeModifier.prototype.addShape=function(e){if(!this.closed){e.sh.container.addDynamicProperty(e.sh);var s={shape:e.sh,data:e,localShapeCollection:shapeCollectionPool.newShapeCollection()};this.shapes.push(s),this.addShapeToModifier(s),this._isAnimated&&e.setAsAnimated()}},ShapeModifier.prototype.init=function(e,s){this.shapes=[],this.elem=e,this.initDynamicPropertyContainer(e),this.initModifierProperties(e,s),this.frameId=initialDefaultFrame,this.closed=!1,this.k=!1,this.dynamicProperties.length?this.k=!0:this.getValue(!0)},ShapeModifier.prototype.processKeys=function(){this.elem.globalData.frameId!==this.frameId&&(this.frameId=this.elem.globalData.frameId,this.iterateDynamicProperties())},extendPrototype([DynamicPropertyContainer],ShapeModifier);function TrimModifier(){}extendPrototype([ShapeModifier],TrimModifier),TrimModifier.prototype.initModifierProperties=function(e,s){this.s=PropertyFactory.getProp(e,s.s,0,.01,this),this.e=PropertyFactory.getProp(e,s.e,0,.01,this),this.o=PropertyFactory.getProp(e,s.o,0,0,this),this.sValue=0,this.eValue=0,this.getValue=this.processKeys,this.m=s.m,this._isAnimated=!!this.s.effectsSequence.length||!!this.e.effectsSequence.length||!!this.o.effectsSequence.length},TrimModifier.prototype.addShapeToModifier=function(e){e.pathsData=[]},TrimModifier.prototype.calculateShapeEdges=function(e,s,i,a,o){var c=[];s<=1?c.push({s:e,e:s}):e>=1?c.push({s:e-1,e:s-1}):(c.push({s:e,e:1}),c.push({s:0,e:s-1}));var h=[],d,g=c.length,b;for(d=0;d<g;d+=1)if(b=c[d],!(b.e*o<a||b.s*o>a+i)){var _,$;b.s*o<=a?_=0:_=(b.s*o-a)/i,b.e*o>=a+i?$=1:$=(b.e*o-a)/i,h.push([_,$])}return h.length||h.push([0,0]),h},TrimModifier.prototype.releasePathsData=function(e){var s,i=e.length;for(s=0;s<i;s+=1)segmentsLengthPool.release(e[s]);return e.length=0,e},TrimModifier.prototype.processShapes=function(e){var s,i;if(this._mdf||e){var a=this.o.v%360/360;if(a<0&&(a+=1),this.s.v>1?s=1+a:this.s.v<0?s=0+a:s=this.s.v+a,this.e.v>1?i=1+a:this.e.v<0?i=0+a:i=this.e.v+a,s>i){var o=s;s=i,i=o}s=Math.round(s*1e4)*1e-4,i=Math.round(i*1e4)*1e-4,this.sValue=s,this.eValue=i}else s=this.sValue,i=this.eValue;var c,h,d=this.shapes.length,g,b,_,$,j,st=0;if(i===s)for(h=0;h<d;h+=1)this.shapes[h].localShapeCollection.releaseShapes(),this.shapes[h].shape._mdf=!0,this.shapes[h].shape.paths=this.shapes[h].localShapeCollection,this._mdf&&(this.shapes[h].pathsData.length=0);else if(i===1&&s===0||i===0&&s===1){if(this._mdf)for(h=0;h<d;h+=1)this.shapes[h].pathsData.length=0,this.shapes[h].shape._mdf=!0}else{var tt=[],nt,at;for(h=0;h<d;h+=1)if(nt=this.shapes[h],!nt.shape._mdf&&!this._mdf&&!e&&this.m!==2)nt.shape.paths=nt.localShapeCollection;else{if(c=nt.shape.paths,b=c._length,j=0,!nt.shape._mdf&&nt.pathsData.length)j=nt.totalShapeLength;else{for(_=this.releasePathsData(nt.pathsData),g=0;g<b;g+=1)$=bez.getSegmentsLength(c.shapes[g]),_.push($),j+=$.totalLength;nt.totalShapeLength=j,nt.pathsData=_}st+=j,nt.shape._mdf=!0}var _e=s,rt=i,et=0,it;for(h=d-1;h>=0;h-=1)if(nt=this.shapes[h],nt.shape._mdf){for(at=nt.localShapeCollection,at.releaseShapes(),this.m===2&&d>1?(it=this.calculateShapeEdges(s,i,nt.totalShapeLength,et,st),et+=nt.totalShapeLength):it=[[_e,rt]],b=it.length,g=0;g<b;g+=1){_e=it[g][0],rt=it[g][1],tt.length=0,rt<=1?tt.push({s:nt.totalShapeLength*_e,e:nt.totalShapeLength*rt}):_e>=1?tt.push({s:nt.totalShapeLength*(_e-1),e:nt.totalShapeLength*(rt-1)}):(tt.push({s:nt.totalShapeLength*_e,e:nt.totalShapeLength}),tt.push({s:0,e:nt.totalShapeLength*(rt-1)}));var ot=this.addShapes(nt,tt[0]);if(tt[0].s!==tt[0].e){if(tt.length>1){var ut=nt.shape.paths.shapes[nt.shape.paths._length-1];if(ut.c){var ht=ot.pop();this.addPaths(ot,at),ot=this.addShapes(nt,tt[1],ht)}else this.addPaths(ot,at),ot=this.addShapes(nt,tt[1])}this.addPaths(ot,at)}}nt.shape.paths=at}}},TrimModifier.prototype.addPaths=function(e,s){var i,a=e.length;for(i=0;i<a;i+=1)s.addShape(e[i])},TrimModifier.prototype.addSegment=function(e,s,i,a,o,c,h){o.setXYAt(s[0],s[1],"o",c),o.setXYAt(i[0],i[1],"i",c+1),h&&o.setXYAt(e[0],e[1],"v",c),o.setXYAt(a[0],a[1],"v",c+1)},TrimModifier.prototype.addSegmentFromArray=function(e,s,i,a){s.setXYAt(e[1],e[5],"o",i),s.setXYAt(e[2],e[6],"i",i+1),a&&s.setXYAt(e[0],e[4],"v",i),s.setXYAt(e[3],e[7],"v",i+1)},TrimModifier.prototype.addShapes=function(e,s,i){var a=e.pathsData,o=e.shape.paths.shapes,c,h=e.shape.paths._length,d,g,b=0,_,$,j,st,tt=[],nt,at=!0;for(i?($=i._length,nt=i._length):(i=shapePool.newElement(),$=0,nt=0),tt.push(i),c=0;c<h;c+=1){for(j=a[c].lengths,i.c=o[c].c,g=o[c].c?j.length:j.length+1,d=1;d<g;d+=1)if(_=j[d-1],b+_.addedLength<s.s)b+=_.addedLength,i.c=!1;else if(b>s.e){i.c=!1;break}else s.s<=b&&s.e>=b+_.addedLength?(this.addSegment(o[c].v[d-1],o[c].o[d-1],o[c].i[d],o[c].v[d],i,$,at),at=!1):(st=bez.getNewSegment(o[c].v[d-1],o[c].v[d],o[c].o[d-1],o[c].i[d],(s.s-b)/_.addedLength,(s.e-b)/_.addedLength,j[d-1]),this.addSegmentFromArray(st,i,$,at),at=!1,i.c=!1),b+=_.addedLength,$+=1;if(o[c].c&&j.length){if(_=j[d-1],b<=s.e){var _e=j[d-1].addedLength;s.s<=b&&s.e>=b+_e?(this.addSegment(o[c].v[d-1],o[c].o[d-1],o[c].i[0],o[c].v[0],i,$,at),at=!1):(st=bez.getNewSegment(o[c].v[d-1],o[c].v[0],o[c].o[d-1],o[c].i[0],(s.s-b)/_e,(s.e-b)/_e,j[d-1]),this.addSegmentFromArray(st,i,$,at),at=!1,i.c=!1)}else i.c=!1;b+=_.addedLength,$+=1}if(i._length&&(i.setXYAt(i.v[nt][0],i.v[nt][1],"i",nt),i.setXYAt(i.v[i._length-1][0],i.v[i._length-1][1],"o",i._length-1)),b>s.e)break;c<h-1&&(i=shapePool.newElement(),at=!0,tt.push(i),$=0)}return tt};function PuckerAndBloatModifier(){}extendPrototype([ShapeModifier],PuckerAndBloatModifier),PuckerAndBloatModifier.prototype.initModifierProperties=function(e,s){this.getValue=this.processKeys,this.amount=PropertyFactory.getProp(e,s.a,0,null,this),this._isAnimated=!!this.amount.effectsSequence.length},PuckerAndBloatModifier.prototype.processPath=function(e,s){var i=s/100,a=[0,0],o=e._length,c=0;for(c=0;c<o;c+=1)a[0]+=e.v[c][0],a[1]+=e.v[c][1];a[0]/=o,a[1]/=o;var h=shapePool.newElement();h.c=e.c;var d,g,b,_,$,j;for(c=0;c<o;c+=1)d=e.v[c][0]+(a[0]-e.v[c][0])*i,g=e.v[c][1]+(a[1]-e.v[c][1])*i,b=e.o[c][0]+(a[0]-e.o[c][0])*-i,_=e.o[c][1]+(a[1]-e.o[c][1])*-i,$=e.i[c][0]+(a[0]-e.i[c][0])*-i,j=e.i[c][1]+(a[1]-e.i[c][1])*-i,h.setTripleAt(d,g,b,_,$,j,c);return h},PuckerAndBloatModifier.prototype.processShapes=function(e){var s,i,a=this.shapes.length,o,c,h=this.amount.v;if(h!==0){var d,g;for(i=0;i<a;i+=1){if(d=this.shapes[i],g=d.localShapeCollection,!(!d.shape._mdf&&!this._mdf&&!e))for(g.releaseShapes(),d.shape._mdf=!0,s=d.shape.paths.shapes,c=d.shape.paths._length,o=0;o<c;o+=1)g.addShape(this.processPath(s[o],h));d.shape.paths=d.localShapeCollection}}this.dynamicProperties.length||(this._mdf=!1)};var TransformPropertyFactory=function(){var e=[0,0];function s(g){var b=this._mdf;this.iterateDynamicProperties(),this._mdf=this._mdf||b,this.a&&g.translate(-this.a.v[0],-this.a.v[1],this.a.v[2]),this.s&&g.scale(this.s.v[0],this.s.v[1],this.s.v[2]),this.sk&&g.skewFromAxis(-this.sk.v,this.sa.v),this.r?g.rotate(-this.r.v):g.rotateZ(-this.rz.v).rotateY(this.ry.v).rotateX(this.rx.v).rotateZ(-this.or.v[2]).rotateY(this.or.v[1]).rotateX(this.or.v[0]),this.data.p.s?this.data.p.z?g.translate(this.px.v,this.py.v,-this.pz.v):g.translate(this.px.v,this.py.v,0):g.translate(this.p.v[0],this.p.v[1],-this.p.v[2])}function i(g){if(this.elem.globalData.frameId!==this.frameId){if(this._isDirty&&(this.precalculateMatrix(),this._isDirty=!1),this.iterateDynamicProperties(),this._mdf||g){var b;if(this.v.cloneFromProps(this.pre.props),this.appliedTransformations<1&&this.v.translate(-this.a.v[0],-this.a.v[1],this.a.v[2]),this.appliedTransformations<2&&this.v.scale(this.s.v[0],this.s.v[1],this.s.v[2]),this.sk&&this.appliedTransformations<3&&this.v.skewFromAxis(-this.sk.v,this.sa.v),this.r&&this.appliedTransformations<4?this.v.rotate(-this.r.v):!this.r&&this.appliedTransformations<4&&this.v.rotateZ(-this.rz.v).rotateY(this.ry.v).rotateX(this.rx.v).rotateZ(-this.or.v[2]).rotateY(this.or.v[1]).rotateX(this.or.v[0]),this.autoOriented){var _,$;if(b=this.elem.globalData.frameRate,this.p&&this.p.keyframes&&this.p.getValueAtTime)this.p._caching.lastFrame+this.p.offsetTime<=this.p.keyframes[0].t?(_=this.p.getValueAtTime((this.p.keyframes[0].t+.01)/b,0),$=this.p.getValueAtTime(this.p.keyframes[0].t/b,0)):this.p._caching.lastFrame+this.p.offsetTime>=this.p.keyframes[this.p.keyframes.length-1].t?(_=this.p.getValueAtTime(this.p.keyframes[this.p.keyframes.length-1].t/b,0),$=this.p.getValueAtTime((this.p.keyframes[this.p.keyframes.length-1].t-.05)/b,0)):(_=this.p.pv,$=this.p.getValueAtTime((this.p._caching.lastFrame+this.p.offsetTime-.01)/b,this.p.offsetTime));else if(this.px&&this.px.keyframes&&this.py.keyframes&&this.px.getValueAtTime&&this.py.getValueAtTime){_=[],$=[];var j=this.px,st=this.py;j._caching.lastFrame+j.offsetTime<=j.keyframes[0].t?(_[0]=j.getValueAtTime((j.keyframes[0].t+.01)/b,0),_[1]=st.getValueAtTime((st.keyframes[0].t+.01)/b,0),$[0]=j.getValueAtTime(j.keyframes[0].t/b,0),$[1]=st.getValueAtTime(st.keyframes[0].t/b,0)):j._caching.lastFrame+j.offsetTime>=j.keyframes[j.keyframes.length-1].t?(_[0]=j.getValueAtTime(j.keyframes[j.keyframes.length-1].t/b,0),_[1]=st.getValueAtTime(st.keyframes[st.keyframes.length-1].t/b,0),$[0]=j.getValueAtTime((j.keyframes[j.keyframes.length-1].t-.01)/b,0),$[1]=st.getValueAtTime((st.keyframes[st.keyframes.length-1].t-.01)/b,0)):(_=[j.pv,st.pv],$[0]=j.getValueAtTime((j._caching.lastFrame+j.offsetTime-.01)/b,j.offsetTime),$[1]=st.getValueAtTime((st._caching.lastFrame+st.offsetTime-.01)/b,st.offsetTime))}else $=e,_=$;this.v.rotate(-Math.atan2(_[1]-$[1],_[0]-$[0]))}this.data.p&&this.data.p.s?this.data.p.z?this.v.translate(this.px.v,this.py.v,-this.pz.v):this.v.translate(this.px.v,this.py.v,0):this.v.translate(this.p.v[0],this.p.v[1],-this.p.v[2])}this.frameId=this.elem.globalData.frameId}}function a(){if(this.appliedTransformations=0,this.pre.reset(),!this.a.effectsSequence.length)this.pre.translate(-this.a.v[0],-this.a.v[1],this.a.v[2]),this.appliedTransformations=1;else return;if(!this.s.effectsSequence.length)this.pre.scale(this.s.v[0],this.s.v[1],this.s.v[2]),this.appliedTransformations=2;else return;if(this.sk)if(!this.sk.effectsSequence.length&&!this.sa.effectsSequence.length)this.pre.skewFromAxis(-this.sk.v,this.sa.v),this.appliedTransformations=3;else return;this.r?this.r.effectsSequence.length||(this.pre.rotate(-this.r.v),this.appliedTransformations=4):!this.rz.effectsSequence.length&&!this.ry.effectsSequence.length&&!this.rx.effectsSequence.length&&!this.or.effectsSequence.length&&(this.pre.rotateZ(-this.rz.v).rotateY(this.ry.v).rotateX(this.rx.v).rotateZ(-this.or.v[2]).rotateY(this.or.v[1]).rotateX(this.or.v[0]),this.appliedTransformations=4)}function o(){}function c(g){this._addDynamicProperty(g),this.elem.addDynamicProperty(g),this._isDirty=!0}function h(g,b,_){if(this.elem=g,this.frameId=-1,this.propType="transform",this.data=b,this.v=new Matrix,this.pre=new Matrix,this.appliedTransformations=0,this.initDynamicPropertyContainer(_||g),b.p&&b.p.s?(this.px=PropertyFactory.getProp(g,b.p.x,0,0,this),this.py=PropertyFactory.getProp(g,b.p.y,0,0,this),b.p.z&&(this.pz=PropertyFactory.getProp(g,b.p.z,0,0,this))):this.p=PropertyFactory.getProp(g,b.p||{k:[0,0,0]},1,0,this),b.rx){if(this.rx=PropertyFactory.getProp(g,b.rx,0,degToRads,this),this.ry=PropertyFactory.getProp(g,b.ry,0,degToRads,this),this.rz=PropertyFactory.getProp(g,b.rz,0,degToRads,this),b.or.k[0].ti){var $,j=b.or.k.length;for($=0;$<j;$+=1)b.or.k[$].to=null,b.or.k[$].ti=null}this.or=PropertyFactory.getProp(g,b.or,1,degToRads,this),this.or.sh=!0}else this.r=PropertyFactory.getProp(g,b.r||{k:0},0,degToRads,this);b.sk&&(this.sk=PropertyFactory.getProp(g,b.sk,0,degToRads,this),this.sa=PropertyFactory.getProp(g,b.sa,0,degToRads,this)),this.a=PropertyFactory.getProp(g,b.a||{k:[0,0,0]},1,0,this),this.s=PropertyFactory.getProp(g,b.s||{k:[100,100,100]},1,.01,this),b.o?this.o=PropertyFactory.getProp(g,b.o,0,.01,g):this.o={_mdf:!1,v:1},this._isDirty=!0,this.dynamicProperties.length||this.getValue(!0)}h.prototype={applyToMatrix:s,getValue:i,precalculateMatrix:a,autoOrient:o},extendPrototype([DynamicPropertyContainer],h),h.prototype.addDynamicProperty=c,h.prototype._addDynamicProperty=DynamicPropertyContainer.prototype.addDynamicProperty;function d(g,b,_){return new h(g,b,_)}return{getTransformProperty:d}}();function RepeaterModifier(){}extendPrototype([ShapeModifier],RepeaterModifier),RepeaterModifier.prototype.initModifierProperties=function(e,s){this.getValue=this.processKeys,this.c=PropertyFactory.getProp(e,s.c,0,null,this),this.o=PropertyFactory.getProp(e,s.o,0,null,this),this.tr=TransformPropertyFactory.getTransformProperty(e,s.tr,this),this.so=PropertyFactory.getProp(e,s.tr.so,0,.01,this),this.eo=PropertyFactory.getProp(e,s.tr.eo,0,.01,this),this.data=s,this.dynamicProperties.length||this.getValue(!0),this._isAnimated=!!this.dynamicProperties.length,this.pMatrix=new Matrix,this.rMatrix=new Matrix,this.sMatrix=new Matrix,this.tMatrix=new Matrix,this.matrix=new Matrix},RepeaterModifier.prototype.applyTransforms=function(e,s,i,a,o,c){var h=c?-1:1,d=a.s.v[0]+(1-a.s.v[0])*(1-o),g=a.s.v[1]+(1-a.s.v[1])*(1-o);e.translate(a.p.v[0]*h*o,a.p.v[1]*h*o,a.p.v[2]),s.translate(-a.a.v[0],-a.a.v[1],a.a.v[2]),s.rotate(-a.r.v*h*o),s.translate(a.a.v[0],a.a.v[1],a.a.v[2]),i.translate(-a.a.v[0],-a.a.v[1],a.a.v[2]),i.scale(c?1/d:d,c?1/g:g),i.translate(a.a.v[0],a.a.v[1],a.a.v[2])},RepeaterModifier.prototype.init=function(e,s,i,a){for(this.elem=e,this.arr=s,this.pos=i,this.elemsData=a,this._currentCopies=0,this._elements=[],this._groups=[],this.frameId=-1,this.initDynamicPropertyContainer(e),this.initModifierProperties(e,s[i]);i>0;)i-=1,this._elements.unshift(s[i]);this.dynamicProperties.length?this.k=!0:this.getValue(!0)},RepeaterModifier.prototype.resetElements=function(e){var s,i=e.length;for(s=0;s<i;s+=1)e[s]._processed=!1,e[s].ty==="gr"&&this.resetElements(e[s].it)},RepeaterModifier.prototype.cloneElements=function(e){var s=JSON.parse(JSON.stringify(e));return this.resetElements(s),s},RepeaterModifier.prototype.changeGroupRender=function(e,s){var i,a=e.length;for(i=0;i<a;i+=1)e[i]._render=s,e[i].ty==="gr"&&this.changeGroupRender(e[i].it,s)},RepeaterModifier.prototype.processShapes=function(e){var s,i,a,o,c,h=!1;if(this._mdf||e){var d=Math.ceil(this.c.v);if(this._groups.length<d){for(;this._groups.length<d;){var g={it:this.cloneElements(this._elements),ty:"gr"};g.it.push({a:{a:0,ix:1,k:[0,0]},nm:"Transform",o:{a:0,ix:7,k:100},p:{a:0,ix:2,k:[0,0]},r:{a:1,ix:6,k:[{s:0,e:0,t:0},{s:0,e:0,t:1}]},s:{a:0,ix:3,k:[100,100]},sa:{a:0,ix:5,k:0},sk:{a:0,ix:4,k:0},ty:"tr"}),this.arr.splice(0,0,g),this._groups.splice(0,0,g),this._currentCopies+=1}this.elem.reloadShapes(),h=!0}c=0;var b;for(a=0;a<=this._groups.length-1;a+=1){if(b=c<d,this._groups[a]._render=b,this.changeGroupRender(this._groups[a].it,b),!b){var _=this.elemsData[a].it,$=_[_.length-1];$.transform.op.v!==0?($.transform.op._mdf=!0,$.transform.op.v=0):$.transform.op._mdf=!1}c+=1}this._currentCopies=d;var j=this.o.v,st=j%1,tt=j>0?Math.floor(j):Math.ceil(j),nt=this.pMatrix.props,at=this.rMatrix.props,_e=this.sMatrix.props;this.pMatrix.reset(),this.rMatrix.reset(),this.sMatrix.reset(),this.tMatrix.reset(),this.matrix.reset();var rt=0;if(j>0){for(;rt<tt;)this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,1,!1),rt+=1;st&&(this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,st,!1),rt+=st)}else if(j<0){for(;rt>tt;)this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,1,!0),rt-=1;st&&(this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,-st,!0),rt-=st)}a=this.data.m===1?0:this._currentCopies-1,o=this.data.m===1?1:-1,c=this._currentCopies;for(var et,it;c;){if(s=this.elemsData[a].it,i=s[s.length-1].transform.mProps.v.props,it=i.length,s[s.length-1].transform.mProps._mdf=!0,s[s.length-1].transform.op._mdf=!0,s[s.length-1].transform.op.v=this._currentCopies===1?this.so.v:this.so.v+(this.eo.v-this.so.v)*(a/(this._currentCopies-1)),rt!==0){for((a!==0&&o===1||a!==this._currentCopies-1&&o===-1)&&this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,1,!1),this.matrix.transform(at[0],at[1],at[2],at[3],at[4],at[5],at[6],at[7],at[8],at[9],at[10],at[11],at[12],at[13],at[14],at[15]),this.matrix.transform(_e[0],_e[1],_e[2],_e[3],_e[4],_e[5],_e[6],_e[7],_e[8],_e[9],_e[10],_e[11],_e[12],_e[13],_e[14],_e[15]),this.matrix.transform(nt[0],nt[1],nt[2],nt[3],nt[4],nt[5],nt[6],nt[7],nt[8],nt[9],nt[10],nt[11],nt[12],nt[13],nt[14],nt[15]),et=0;et<it;et+=1)i[et]=this.matrix.props[et];this.matrix.reset()}else for(this.matrix.reset(),et=0;et<it;et+=1)i[et]=this.matrix.props[et];rt+=1,c-=1,a+=o}}else for(c=this._currentCopies,a=0,o=1;c;)s=this.elemsData[a].it,i=s[s.length-1].transform.mProps.v.props,s[s.length-1].transform.mProps._mdf=!1,s[s.length-1].transform.op._mdf=!1,c-=1,a+=o;return h},RepeaterModifier.prototype.addShape=function(){};function RoundCornersModifier(){}extendPrototype([ShapeModifier],RoundCornersModifier),RoundCornersModifier.prototype.initModifierProperties=function(e,s){this.getValue=this.processKeys,this.rd=PropertyFactory.getProp(e,s.r,0,null,this),this._isAnimated=!!this.rd.effectsSequence.length},RoundCornersModifier.prototype.processPath=function(e,s){var i=shapePool.newElement();i.c=e.c;var a,o=e._length,c,h,d,g,b,_,$=0,j,st,tt,nt,at,_e;for(a=0;a<o;a+=1)c=e.v[a],d=e.o[a],h=e.i[a],c[0]===d[0]&&c[1]===d[1]&&c[0]===h[0]&&c[1]===h[1]?(a===0||a===o-1)&&!e.c?(i.setTripleAt(c[0],c[1],d[0],d[1],h[0],h[1],$),$+=1):(a===0?g=e.v[o-1]:g=e.v[a-1],b=Math.sqrt(Math.pow(c[0]-g[0],2)+Math.pow(c[1]-g[1],2)),_=b?Math.min(b/2,s)/b:0,at=c[0]+(g[0]-c[0])*_,j=at,_e=c[1]-(c[1]-g[1])*_,st=_e,tt=j-(j-c[0])*roundCorner,nt=st-(st-c[1])*roundCorner,i.setTripleAt(j,st,tt,nt,at,_e,$),$+=1,a===o-1?g=e.v[0]:g=e.v[a+1],b=Math.sqrt(Math.pow(c[0]-g[0],2)+Math.pow(c[1]-g[1],2)),_=b?Math.min(b/2,s)/b:0,tt=c[0]+(g[0]-c[0])*_,j=tt,nt=c[1]+(g[1]-c[1])*_,st=nt,at=j-(j-c[0])*roundCorner,_e=st-(st-c[1])*roundCorner,i.setTripleAt(j,st,tt,nt,at,_e,$),$+=1):(i.setTripleAt(e.v[a][0],e.v[a][1],e.o[a][0],e.o[a][1],e.i[a][0],e.i[a][1],$),$+=1);return i},RoundCornersModifier.prototype.processShapes=function(e){var s,i,a=this.shapes.length,o,c,h=this.rd.v;if(h!==0){var d,g;for(i=0;i<a;i+=1){if(d=this.shapes[i],g=d.localShapeCollection,!(!d.shape._mdf&&!this._mdf&&!e))for(g.releaseShapes(),d.shape._mdf=!0,s=d.shape.paths.shapes,c=d.shape.paths._length,o=0;o<c;o+=1)g.addShape(this.processPath(s[o],h));d.shape.paths=d.localShapeCollection}}this.dynamicProperties.length||(this._mdf=!1)};function floatEqual(e,s){return Math.abs(e-s)*1e5<=Math.min(Math.abs(e),Math.abs(s))}function floatZero(e){return Math.abs(e)<=1e-5}function lerp(e,s,i){return e*(1-i)+s*i}function lerpPoint(e,s,i){return[lerp(e[0],s[0],i),lerp(e[1],s[1],i)]}function quadRoots(e,s,i){if(e===0)return[];var a=s*s-4*e*i;if(a<0)return[];var o=-s/(2*e);if(a===0)return[o];var c=Math.sqrt(a)/(2*e);return[o-c,o+c]}function polynomialCoefficients(e,s,i,a){return[-e+3*s-3*i+a,3*e-6*s+3*i,-3*e+3*s,e]}function singlePoint(e){return new PolynomialBezier(e,e,e,e,!1)}function PolynomialBezier(e,s,i,a,o){o&&pointEqual(e,s)&&(s=lerpPoint(e,a,1/3)),o&&pointEqual(i,a)&&(i=lerpPoint(e,a,2/3));var c=polynomialCoefficients(e[0],s[0],i[0],a[0]),h=polynomialCoefficients(e[1],s[1],i[1],a[1]);this.a=[c[0],h[0]],this.b=[c[1],h[1]],this.c=[c[2],h[2]],this.d=[c[3],h[3]],this.points=[e,s,i,a]}PolynomialBezier.prototype.point=function(e){return[((this.a[0]*e+this.b[0])*e+this.c[0])*e+this.d[0],((this.a[1]*e+this.b[1])*e+this.c[1])*e+this.d[1]]},PolynomialBezier.prototype.derivative=function(e){return[(3*e*this.a[0]+2*this.b[0])*e+this.c[0],(3*e*this.a[1]+2*this.b[1])*e+this.c[1]]},PolynomialBezier.prototype.tangentAngle=function(e){var s=this.derivative(e);return Math.atan2(s[1],s[0])},PolynomialBezier.prototype.normalAngle=function(e){var s=this.derivative(e);return Math.atan2(s[0],s[1])},PolynomialBezier.prototype.inflectionPoints=function(){var e=this.a[1]*this.b[0]-this.a[0]*this.b[1];if(floatZero(e))return[];var s=-.5*(this.a[1]*this.c[0]-this.a[0]*this.c[1])/e,i=s*s-1/3*(this.b[1]*this.c[0]-this.b[0]*this.c[1])/e;if(i<0)return[];var a=Math.sqrt(i);return floatZero(a)?a>0&&a<1?[s]:[]:[s-a,s+a].filter(function(o){return o>0&&o<1})},PolynomialBezier.prototype.split=function(e){if(e<=0)return[singlePoint(this.points[0]),this];if(e>=1)return[this,singlePoint(this.points[this.points.length-1])];var s=lerpPoint(this.points[0],this.points[1],e),i=lerpPoint(this.points[1],this.points[2],e),a=lerpPoint(this.points[2],this.points[3],e),o=lerpPoint(s,i,e),c=lerpPoint(i,a,e),h=lerpPoint(o,c,e);return[new PolynomialBezier(this.points[0],s,o,h,!0),new PolynomialBezier(h,c,a,this.points[3],!0)]};function extrema(e,s){var i=e.points[0][s],a=e.points[e.points.length-1][s];if(i>a){var o=a;a=i,i=o}for(var c=quadRoots(3*e.a[s],2*e.b[s],e.c[s]),h=0;h<c.length;h+=1)if(c[h]>0&&c[h]<1){var d=e.point(c[h])[s];d<i?i=d:d>a&&(a=d)}return{min:i,max:a}}PolynomialBezier.prototype.bounds=function(){return{x:extrema(this,0),y:extrema(this,1)}},PolynomialBezier.prototype.boundingBox=function(){var e=this.bounds();return{left:e.x.min,right:e.x.max,top:e.y.min,bottom:e.y.max,width:e.x.max-e.x.min,height:e.y.max-e.y.min,cx:(e.x.max+e.x.min)/2,cy:(e.y.max+e.y.min)/2}};function intersectData(e,s,i){var a=e.boundingBox();return{cx:a.cx,cy:a.cy,width:a.width,height:a.height,bez:e,t:(s+i)/2,t1:s,t2:i}}function splitData(e){var s=e.bez.split(.5);return[intersectData(s[0],e.t1,e.t),intersectData(s[1],e.t,e.t2)]}function boxIntersect(e,s){return Math.abs(e.cx-s.cx)*2<e.width+s.width&&Math.abs(e.cy-s.cy)*2<e.height+s.height}function intersectsImpl(e,s,i,a,o,c){if(boxIntersect(e,s)){if(i>=c||e.width<=a&&e.height<=a&&s.width<=a&&s.height<=a){o.push([e.t,s.t]);return}var h=splitData(e),d=splitData(s);intersectsImpl(h[0],d[0],i+1,a,o,c),intersectsImpl(h[0],d[1],i+1,a,o,c),intersectsImpl(h[1],d[0],i+1,a,o,c),intersectsImpl(h[1],d[1],i+1,a,o,c)}}PolynomialBezier.prototype.intersections=function(e,s,i){s===void 0&&(s=2),i===void 0&&(i=7);var a=[];return intersectsImpl(intersectData(this,0,1),intersectData(e,0,1),0,s,a,i),a},PolynomialBezier.shapeSegment=function(e,s){var i=(s+1)%e.length();return new PolynomialBezier(e.v[s],e.o[s],e.i[i],e.v[i],!0)},PolynomialBezier.shapeSegmentInverted=function(e,s){var i=(s+1)%e.length();return new PolynomialBezier(e.v[i],e.i[i],e.o[s],e.v[s],!0)};function crossProduct(e,s){return[e[1]*s[2]-e[2]*s[1],e[2]*s[0]-e[0]*s[2],e[0]*s[1]-e[1]*s[0]]}function lineIntersection(e,s,i,a){var o=[e[0],e[1],1],c=[s[0],s[1],1],h=[i[0],i[1],1],d=[a[0],a[1],1],g=crossProduct(crossProduct(o,c),crossProduct(h,d));return floatZero(g[2])?null:[g[0]/g[2],g[1]/g[2]]}function polarOffset(e,s,i){return[e[0]+Math.cos(s)*i,e[1]-Math.sin(s)*i]}function pointDistance(e,s){return Math.hypot(e[0]-s[0],e[1]-s[1])}function pointEqual(e,s){return floatEqual(e[0],s[0])&&floatEqual(e[1],s[1])}function ZigZagModifier(){}extendPrototype([ShapeModifier],ZigZagModifier),ZigZagModifier.prototype.initModifierProperties=function(e,s){this.getValue=this.processKeys,this.amplitude=PropertyFactory.getProp(e,s.s,0,null,this),this.frequency=PropertyFactory.getProp(e,s.r,0,null,this),this.pointsType=PropertyFactory.getProp(e,s.pt,0,null,this),this._isAnimated=this.amplitude.effectsSequence.length!==0||this.frequency.effectsSequence.length!==0||this.pointsType.effectsSequence.length!==0};function setPoint(e,s,i,a,o,c,h){var d=i-Math.PI/2,g=i+Math.PI/2,b=s[0]+Math.cos(i)*a*o,_=s[1]-Math.sin(i)*a*o;e.setTripleAt(b,_,b+Math.cos(d)*c,_-Math.sin(d)*c,b+Math.cos(g)*h,_-Math.sin(g)*h,e.length())}function getPerpendicularVector(e,s){var i=[s[0]-e[0],s[1]-e[1]],a=-Math.PI*.5,o=[Math.cos(a)*i[0]-Math.sin(a)*i[1],Math.sin(a)*i[0]+Math.cos(a)*i[1]];return o}function getProjectingAngle(e,s){var i=s===0?e.length()-1:s-1,a=(s+1)%e.length(),o=e.v[i],c=e.v[a],h=getPerpendicularVector(o,c);return Math.atan2(0,1)-Math.atan2(h[1],h[0])}function zigZagCorner(e,s,i,a,o,c,h){var d=getProjectingAngle(s,i),g=s.v[i%s._length],b=s.v[i===0?s._length-1:i-1],_=s.v[(i+1)%s._length],$=c===2?Math.sqrt(Math.pow(g[0]-b[0],2)+Math.pow(g[1]-b[1],2)):0,j=c===2?Math.sqrt(Math.pow(g[0]-_[0],2)+Math.pow(g[1]-_[1],2)):0;setPoint(e,s.v[i%s._length],d,h,a,j/((o+1)*2),$/((o+1)*2))}function zigZagSegment(e,s,i,a,o,c){for(var h=0;h<a;h+=1){var d=(h+1)/(a+1),g=o===2?Math.sqrt(Math.pow(s.points[3][0]-s.points[0][0],2)+Math.pow(s.points[3][1]-s.points[0][1],2)):0,b=s.normalAngle(d),_=s.point(d);setPoint(e,_,b,c,i,g/((a+1)*2),g/((a+1)*2)),c=-c}return c}ZigZagModifier.prototype.processPath=function(e,s,i,a){var o=e._length,c=shapePool.newElement();if(c.c=e.c,e.c||(o-=1),o===0)return c;var h=-1,d=PolynomialBezier.shapeSegment(e,0);zigZagCorner(c,e,0,s,i,a,h);for(var g=0;g<o;g+=1)h=zigZagSegment(c,d,s,i,a,-h),g===o-1&&!e.c?d=null:d=PolynomialBezier.shapeSegment(e,(g+1)%o),zigZagCorner(c,e,g+1,s,i,a,h);return c},ZigZagModifier.prototype.processShapes=function(e){var s,i,a=this.shapes.length,o,c,h=this.amplitude.v,d=Math.max(0,Math.round(this.frequency.v)),g=this.pointsType.v;if(h!==0){var b,_;for(i=0;i<a;i+=1){if(b=this.shapes[i],_=b.localShapeCollection,!(!b.shape._mdf&&!this._mdf&&!e))for(_.releaseShapes(),b.shape._mdf=!0,s=b.shape.paths.shapes,c=b.shape.paths._length,o=0;o<c;o+=1)_.addShape(this.processPath(s[o],h,d,g));b.shape.paths=b.localShapeCollection}}this.dynamicProperties.length||(this._mdf=!1)};function linearOffset(e,s,i){var a=Math.atan2(s[0]-e[0],s[1]-e[1]);return[polarOffset(e,a,i),polarOffset(s,a,i)]}function offsetSegment(e,s){var i,a,o,c,h,d,g;g=linearOffset(e.points[0],e.points[1],s),i=g[0],a=g[1],g=linearOffset(e.points[1],e.points[2],s),o=g[0],c=g[1],g=linearOffset(e.points[2],e.points[3],s),h=g[0],d=g[1];var b=lineIntersection(i,a,o,c);b===null&&(b=a);var _=lineIntersection(h,d,o,c);return _===null&&(_=h),new PolynomialBezier(i,b,_,d)}function joinLines(e,s,i,a,o){var c=s.points[3],h=i.points[0];if(a===3||pointEqual(c,h))return c;if(a===2){var d=-s.tangentAngle(1),g=-i.tangentAngle(0)+Math.PI,b=lineIntersection(c,polarOffset(c,d+Math.PI/2,100),h,polarOffset(h,d+Math.PI/2,100)),_=b?pointDistance(b,c):pointDistance(c,h)/2,$=polarOffset(c,d,2*_*roundCorner);return e.setXYAt($[0],$[1],"o",e.length()-1),$=polarOffset(h,g,2*_*roundCorner),e.setTripleAt(h[0],h[1],h[0],h[1],$[0],$[1],e.length()),h}var j=pointEqual(c,s.points[2])?s.points[0]:s.points[2],st=pointEqual(h,i.points[1])?i.points[3]:i.points[1],tt=lineIntersection(j,c,h,st);return tt&&pointDistance(tt,c)<o?(e.setTripleAt(tt[0],tt[1],tt[0],tt[1],tt[0],tt[1],e.length()),tt):c}function getIntersection(e,s){var i=e.intersections(s);return i.length&&floatEqual(i[0][0],1)&&i.shift(),i.length?i[0]:null}function pruneSegmentIntersection(e,s){var i=e.slice(),a=s.slice(),o=getIntersection(e[e.length-1],s[0]);return o&&(i[e.length-1]=e[e.length-1].split(o[0])[0],a[0]=s[0].split(o[1])[1]),e.length>1&&s.length>1&&(o=getIntersection(e[0],s[s.length-1]),o)?[[e[0].split(o[0])[0]],[s[s.length-1].split(o[1])[1]]]:[i,a]}function pruneIntersections(e){for(var s,i=1;i<e.length;i+=1)s=pruneSegmentIntersection(e[i-1],e[i]),e[i-1]=s[0],e[i]=s[1];return e.length>1&&(s=pruneSegmentIntersection(e[e.length-1],e[0]),e[e.length-1]=s[0],e[0]=s[1]),e}function offsetSegmentSplit(e,s){var i=e.inflectionPoints(),a,o,c,h;if(i.length===0)return[offsetSegment(e,s)];if(i.length===1||floatEqual(i[1],1))return c=e.split(i[0]),a=c[0],o=c[1],[offsetSegment(a,s),offsetSegment(o,s)];c=e.split(i[0]),a=c[0];var d=(i[1]-i[0])/(1-i[0]);return c=c[1].split(d),h=c[0],o=c[1],[offsetSegment(a,s),offsetSegment(h,s),offsetSegment(o,s)]}function OffsetPathModifier(){}extendPrototype([ShapeModifier],OffsetPathModifier),OffsetPathModifier.prototype.initModifierProperties=function(e,s){this.getValue=this.processKeys,this.amount=PropertyFactory.getProp(e,s.a,0,null,this),this.miterLimit=PropertyFactory.getProp(e,s.ml,0,null,this),this.lineJoin=s.lj,this._isAnimated=this.amount.effectsSequence.length!==0},OffsetPathModifier.prototype.processPath=function(e,s,i,a){var o=shapePool.newElement();o.c=e.c;var c=e.length();e.c||(c-=1);var h,d,g,b=[];for(h=0;h<c;h+=1)g=PolynomialBezier.shapeSegment(e,h),b.push(offsetSegmentSplit(g,s));if(!e.c)for(h=c-1;h>=0;h-=1)g=PolynomialBezier.shapeSegmentInverted(e,h),b.push(offsetSegmentSplit(g,s));b=pruneIntersections(b);var _=null,$=null;for(h=0;h<b.length;h+=1){var j=b[h];for($&&(_=joinLines(o,$,j[0],i,a)),$=j[j.length-1],d=0;d<j.length;d+=1)g=j[d],_&&pointEqual(g.points[0],_)?o.setXYAt(g.points[1][0],g.points[1][1],"o",o.length()-1):o.setTripleAt(g.points[0][0],g.points[0][1],g.points[1][0],g.points[1][1],g.points[0][0],g.points[0][1],o.length()),o.setTripleAt(g.points[3][0],g.points[3][1],g.points[3][0],g.points[3][1],g.points[2][0],g.points[2][1],o.length()),_=g.points[3]}return b.length&&joinLines(o,$,b[0][0],i,a),o},OffsetPathModifier.prototype.processShapes=function(e){var s,i,a=this.shapes.length,o,c,h=this.amount.v,d=this.miterLimit.v,g=this.lineJoin;if(h!==0){var b,_;for(i=0;i<a;i+=1){if(b=this.shapes[i],_=b.localShapeCollection,!(!b.shape._mdf&&!this._mdf&&!e))for(_.releaseShapes(),b.shape._mdf=!0,s=b.shape.paths.shapes,c=b.shape.paths._length,o=0;o<c;o+=1)_.addShape(this.processPath(s[o],h,g,d));b.shape.paths=b.localShapeCollection}}this.dynamicProperties.length||(this._mdf=!1)};function getFontProperties(e){for(var s=e.fStyle?e.fStyle.split(" "):[],i="normal",a="normal",o=s.length,c,h=0;h<o;h+=1)switch(c=s[h].toLowerCase(),c){case"italic":a="italic";break;case"bold":i="700";break;case"black":i="900";break;case"medium":i="500";break;case"regular":case"normal":i="400";break;case"light":case"thin":i="200";break}return{style:a,weight:e.fWeight||i}}var FontManager=function(){var e=5e3,s={w:0,size:0,shapes:[],data:{shapes:[]}},i=[];i=i.concat([2304,2305,2306,2307,2362,2363,2364,2364,2366,2367,2368,2369,2370,2371,2372,2373,2374,2375,2376,2377,2378,2379,2380,2381,2382,2383,2387,2388,2389,2390,2391,2402,2403]);var a=127988,o=917631,c=917601,h=917626,d=65039,g=8205,b=127462,_=127487,$=["d83cdffb","d83cdffc","d83cdffd","d83cdffe","d83cdfff"];function j(ft){var pt=ft.split(","),lt,ct=pt.length,yt=[];for(lt=0;lt<ct;lt+=1)pt[lt]!=="sans-serif"&&pt[lt]!=="monospace"&&yt.push(pt[lt]);return yt.join(",")}function st(ft,pt){var lt=createTag("span");lt.setAttribute("aria-hidden",!0),lt.style.fontFamily=pt;var ct=createTag("span");ct.innerText="giItT1WQy@!-/#",lt.style.position="absolute",lt.style.left="-10000px",lt.style.top="-10000px",lt.style.fontSize="300px",lt.style.fontVariant="normal",lt.style.fontStyle="normal",lt.style.fontWeight="normal",lt.style.letterSpacing="0",lt.appendChild(ct),document.body.appendChild(lt);var yt=ct.offsetWidth;return ct.style.fontFamily=j(ft)+", "+pt,{node:ct,w:yt,parent:lt}}function tt(){var ft,pt=this.fonts.length,lt,ct,yt=pt;for(ft=0;ft<pt;ft+=1)this.fonts[ft].loaded?yt-=1:this.fonts[ft].fOrigin==="n"||this.fonts[ft].origin===0?this.fonts[ft].loaded=!0:(lt=this.fonts[ft].monoCase.node,ct=this.fonts[ft].monoCase.w,lt.offsetWidth!==ct?(yt-=1,this.fonts[ft].loaded=!0):(lt=this.fonts[ft].sansCase.node,ct=this.fonts[ft].sansCase.w,lt.offsetWidth!==ct&&(yt-=1,this.fonts[ft].loaded=!0)),this.fonts[ft].loaded&&(this.fonts[ft].sansCase.parent.parentNode.removeChild(this.fonts[ft].sansCase.parent),this.fonts[ft].monoCase.parent.parentNode.removeChild(this.fonts[ft].monoCase.parent)));yt!==0&&Date.now()-this.initTime<e?setTimeout(this.checkLoadedFontsBinded,20):setTimeout(this.setIsLoadedBinded,10)}function nt(ft,pt){var lt=document.body&&pt?"svg":"canvas",ct,yt=getFontProperties(ft);if(lt==="svg"){var gt=createNS("text");gt.style.fontSize="100px",gt.setAttribute("font-family",ft.fFamily),gt.setAttribute("font-style",yt.style),gt.setAttribute("font-weight",yt.weight),gt.textContent="1",ft.fClass?(gt.style.fontFamily="inherit",gt.setAttribute("class",ft.fClass)):gt.style.fontFamily=ft.fFamily,pt.appendChild(gt),ct=gt}else{var Et=new OffscreenCanvas(500,500).getContext("2d");Et.font=yt.style+" "+yt.weight+" 100px "+ft.fFamily,ct=Et}function Pt(Ct){return lt==="svg"?(ct.textContent=Ct,ct.getComputedTextLength()):ct.measureText(Ct).width}return{measureText:Pt}}function at(ft,pt){if(!ft){this.isLoaded=!0;return}if(this.chars){this.isLoaded=!0,this.fonts=ft.list;return}if(!document.body){this.isLoaded=!0,ft.list.forEach(function(Bt){Bt.helper=nt(Bt),Bt.cache={}}),this.fonts=ft.list;return}var lt=ft.list,ct,yt=lt.length,gt=yt;for(ct=0;ct<yt;ct+=1){var Et=!0,Pt,Ct;if(lt[ct].loaded=!1,lt[ct].monoCase=st(lt[ct].fFamily,"monospace"),lt[ct].sansCase=st(lt[ct].fFamily,"sans-serif"),!lt[ct].fPath)lt[ct].loaded=!0,gt-=1;else if(lt[ct].fOrigin==="p"||lt[ct].origin===3){if(Pt=document.querySelectorAll('style[f-forigin="p"][f-family="'+lt[ct].fFamily+'"], style[f-origin="3"][f-family="'+lt[ct].fFamily+'"]'),Pt.length>0&&(Et=!1),Et){var At=createTag("style");At.setAttribute("f-forigin",lt[ct].fOrigin),At.setAttribute("f-origin",lt[ct].origin),At.setAttribute("f-family",lt[ct].fFamily),At.type="text/css",At.innerText="@font-face {font-family: "+lt[ct].fFamily+"; font-style: normal; src: url('"+lt[ct].fPath+"');}",pt.appendChild(At)}}else if(lt[ct].fOrigin==="g"||lt[ct].origin===1){for(Pt=document.querySelectorAll('link[f-forigin="g"], link[f-origin="1"]'),Ct=0;Ct<Pt.length;Ct+=1)Pt[Ct].href.indexOf(lt[ct].fPath)!==-1&&(Et=!1);if(Et){var jt=createTag("link");jt.setAttribute("f-forigin",lt[ct].fOrigin),jt.setAttribute("f-origin",lt[ct].origin),jt.type="text/css",jt.rel="stylesheet",jt.href=lt[ct].fPath,document.body.appendChild(jt)}}else if(lt[ct].fOrigin==="t"||lt[ct].origin===2){for(Pt=document.querySelectorAll('script[f-forigin="t"], script[f-origin="2"]'),Ct=0;Ct<Pt.length;Ct+=1)lt[ct].fPath===Pt[Ct].src&&(Et=!1);if(Et){var It=createTag("link");It.setAttribute("f-forigin",lt[ct].fOrigin),It.setAttribute("f-origin",lt[ct].origin),It.setAttribute("rel","stylesheet"),It.setAttribute("href",lt[ct].fPath),pt.appendChild(It)}}lt[ct].helper=nt(lt[ct],pt),lt[ct].cache={},this.fonts.push(lt[ct])}gt===0?this.isLoaded=!0:setTimeout(this.checkLoadedFonts.bind(this),100)}function _e(ft){if(ft){this.chars||(this.chars=[]);var pt,lt=ft.length,ct,yt=this.chars.length,gt;for(pt=0;pt<lt;pt+=1){for(ct=0,gt=!1;ct<yt;)this.chars[ct].style===ft[pt].style&&this.chars[ct].fFamily===ft[pt].fFamily&&this.chars[ct].ch===ft[pt].ch&&(gt=!0),ct+=1;gt||(this.chars.push(ft[pt]),yt+=1)}}}function rt(ft,pt,lt){for(var ct=0,yt=this.chars.length;ct<yt;){if(this.chars[ct].ch===ft&&this.chars[ct].style===pt&&this.chars[ct].fFamily===lt)return this.chars[ct];ct+=1}return(typeof ft=="string"&&ft.charCodeAt(0)!==13||!ft)&&console&&console.warn&&!this._warned&&(this._warned=!0,console.warn("Missing character from exported characters list: ",ft,pt,lt)),s}function et(ft,pt,lt){var ct=this.getFontByName(pt),yt=ft;if(!ct.cache[yt]){var gt=ct.helper;if(ft===" "){var Et=gt.measureText("|"+ft+"|"),Pt=gt.measureText("||");ct.cache[yt]=(Et-Pt)/100}else ct.cache[yt]=gt.measureText(ft)/100}return ct.cache[yt]*lt}function it(ft){for(var pt=0,lt=this.fonts.length;pt<lt;){if(this.fonts[pt].fName===ft)return this.fonts[pt];pt+=1}return this.fonts[0]}function ot(ft){var pt=0,lt=ft.charCodeAt(0);if(lt>=55296&&lt<=56319){var ct=ft.charCodeAt(1);ct>=56320&&ct<=57343&&(pt=(lt-55296)*1024+ct-56320+65536)}return pt}function ut(ft,pt){var lt=ft.toString(16)+pt.toString(16);return $.indexOf(lt)!==-1}function ht(ft){return ft===g}function dt(ft){return ft===d}function mt(ft){var pt=ot(ft);return pt>=b&&pt<=_}function xt(ft){return mt(ft.substr(0,2))&&mt(ft.substr(2,2))}function St(ft){return i.indexOf(ft)!==-1}function vt(ft,pt){var lt=ot(ft.substr(pt,2));if(lt!==a)return!1;var ct=0;for(pt+=2;ct<5;){if(lt=ot(ft.substr(pt,2)),lt<c||lt>h)return!1;ct+=1,pt+=2}return ot(ft.substr(pt,2))===o}function wt(){this.isLoaded=!0}var _t=function(){this.fonts=[],this.chars=null,this.typekitLoaded=0,this.isLoaded=!1,this._warned=!1,this.initTime=Date.now(),this.setIsLoadedBinded=this.setIsLoaded.bind(this),this.checkLoadedFontsBinded=this.checkLoadedFonts.bind(this)};_t.isModifier=ut,_t.isZeroWidthJoiner=ht,_t.isFlagEmoji=xt,_t.isRegionalCode=mt,_t.isCombinedCharacter=St,_t.isRegionalFlag=vt,_t.isVariationSelector=dt,_t.BLACK_FLAG_CODE_POINT=a;var bt={addChars:_e,addFonts:at,getCharData:rt,getFontByName:it,measureText:et,checkLoadedFonts:tt,setIsLoaded:wt};return _t.prototype=bt,_t}();function SlotManager(e){this.animationData=e}SlotManager.prototype.getProp=function(e){return this.animationData.slots&&this.animationData.slots[e.sid]?Object.assign(e,this.animationData.slots[e.sid].p):e};function slotFactory(e){return new SlotManager(e)}function RenderableElement(){}RenderableElement.prototype={initRenderable:function(){this.isInRange=!1,this.hidden=!1,this.isTransparent=!1,this.renderableComponents=[]},addRenderableComponent:function(s){this.renderableComponents.indexOf(s)===-1&&this.renderableComponents.push(s)},removeRenderableComponent:function(s){this.renderableComponents.indexOf(s)!==-1&&this.renderableComponents.splice(this.renderableComponents.indexOf(s),1)},prepareRenderableFrame:function(s){this.checkLayerLimits(s)},checkTransparency:function(){this.finalTransform.mProp.o.v<=0?!this.isTransparent&&this.globalData.renderConfig.hideOnTransparent&&(this.isTransparent=!0,this.hide()):this.isTransparent&&(this.isTransparent=!1,this.show())},checkLayerLimits:function(s){this.data.ip-this.data.st<=s&&this.data.op-this.data.st>s?this.isInRange!==!0&&(this.globalData._mdf=!0,this._mdf=!0,this.isInRange=!0,this.show()):this.isInRange!==!1&&(this.globalData._mdf=!0,this.isInRange=!1,this.hide())},renderRenderable:function(){var s,i=this.renderableComponents.length;for(s=0;s<i;s+=1)this.renderableComponents[s].renderFrame(this._isFirstFrame)},sourceRectAtTime:function(){return{top:0,left:0,width:100,height:100}},getLayerSize:function(){return this.data.ty===5?{w:this.data.textData.width,h:this.data.textData.height}:{w:this.data.width,h:this.data.height}}};var getBlendMode=function(){var e={0:"source-over",1:"multiply",2:"screen",3:"overlay",4:"darken",5:"lighten",6:"color-dodge",7:"color-burn",8:"hard-light",9:"soft-light",10:"difference",11:"exclusion",12:"hue",13:"saturation",14:"color",15:"luminosity"};return function(s){return e[s]||""}}();function SliderEffect(e,s,i){this.p=PropertyFactory.getProp(s,e.v,0,0,i)}function AngleEffect(e,s,i){this.p=PropertyFactory.getProp(s,e.v,0,0,i)}function ColorEffect(e,s,i){this.p=PropertyFactory.getProp(s,e.v,1,0,i)}function PointEffect(e,s,i){this.p=PropertyFactory.getProp(s,e.v,1,0,i)}function LayerIndexEffect(e,s,i){this.p=PropertyFactory.getProp(s,e.v,0,0,i)}function MaskIndexEffect(e,s,i){this.p=PropertyFactory.getProp(s,e.v,0,0,i)}function CheckboxEffect(e,s,i){this.p=PropertyFactory.getProp(s,e.v,0,0,i)}function NoValueEffect(){this.p={}}function EffectsManager(e,s){var i=e.ef||[];this.effectElements=[];var a,o=i.length,c;for(a=0;a<o;a+=1)c=new GroupEffect(i[a],s),this.effectElements.push(c)}function GroupEffect(e,s){this.init(e,s)}extendPrototype([DynamicPropertyContainer],GroupEffect),GroupEffect.prototype.getValue=GroupEffect.prototype.iterateDynamicProperties,GroupEffect.prototype.init=function(e,s){this.data=e,this.effectElements=[],this.initDynamicPropertyContainer(s);var i,a=this.data.ef.length,o,c=this.data.ef;for(i=0;i<a;i+=1){switch(o=null,c[i].ty){case 0:o=new SliderEffect(c[i],s,this);break;case 1:o=new AngleEffect(c[i],s,this);break;case 2:o=new ColorEffect(c[i],s,this);break;case 3:o=new PointEffect(c[i],s,this);break;case 4:case 7:o=new CheckboxEffect(c[i],s,this);break;case 10:o=new LayerIndexEffect(c[i],s,this);break;case 11:o=new MaskIndexEffect(c[i],s,this);break;case 5:o=new EffectsManager(c[i],s);break;default:o=new NoValueEffect(c[i]);break}o&&this.effectElements.push(o)}};function BaseElement(){}BaseElement.prototype={checkMasks:function(){if(!this.data.hasMask)return!1;for(var s=0,i=this.data.masksProperties.length;s<i;){if(this.data.masksProperties[s].mode!=="n"&&this.data.masksProperties[s].cl!==!1)return!0;s+=1}return!1},initExpressions:function(){var s=getExpressionInterfaces();if(s){var i=s("layer"),a=s("effects"),o=s("shape"),c=s("text"),h=s("comp");this.layerInterface=i(this),this.data.hasMask&&this.maskManager&&this.layerInterface.registerMaskInterface(this.maskManager);var d=a.createEffectsInterface(this,this.layerInterface);this.layerInterface.registerEffectsInterface(d),this.data.ty===0||this.data.xt?this.compInterface=h(this):this.data.ty===4?(this.layerInterface.shapeInterface=o(this.shapesData,this.itemsData,this.layerInterface),this.layerInterface.content=this.layerInterface.shapeInterface):this.data.ty===5&&(this.layerInterface.textInterface=c(this),this.layerInterface.text=this.layerInterface.textInterface)}},setBlendMode:function(){var s=getBlendMode(this.data.bm),i=this.baseElement||this.layerElement;i.style["mix-blend-mode"]=s},initBaseData:function(s,i,a){this.globalData=i,this.comp=a,this.data=s,this.layerId=createElementID(),this.data.sr||(this.data.sr=1),this.effectsManager=new EffectsManager(this.data,this,this.dynamicProperties)},getType:function(){return this.type},sourceRectAtTime:function(){}};function FrameElement(){}FrameElement.prototype={initFrame:function(){this._isFirstFrame=!1,this.dynamicProperties=[],this._mdf=!1},prepareProperties:function(s,i){var a,o=this.dynamicProperties.length;for(a=0;a<o;a+=1)(i||this._isParent&&this.dynamicProperties[a].propType==="transform")&&(this.dynamicProperties[a].getValue(),this.dynamicProperties[a]._mdf&&(this.globalData._mdf=!0,this._mdf=!0))},addDynamicProperty:function(s){this.dynamicProperties.indexOf(s)===-1&&this.dynamicProperties.push(s)}};function FootageElement(e,s,i){this.initFrame(),this.initRenderable(),this.assetData=s.getAssetData(e.refId),this.footageData=s.imageLoader.getAsset(this.assetData),this.initBaseData(e,s,i)}FootageElement.prototype.prepareFrame=function(){},extendPrototype([RenderableElement,BaseElement,FrameElement],FootageElement),FootageElement.prototype.getBaseElement=function(){return null},FootageElement.prototype.renderFrame=function(){},FootageElement.prototype.destroy=function(){},FootageElement.prototype.initExpressions=function(){var e=getExpressionInterfaces();if(e){var s=e("footage");this.layerInterface=s(this)}},FootageElement.prototype.getFootageData=function(){return this.footageData};function AudioElement(e,s,i){this.initFrame(),this.initRenderable(),this.assetData=s.getAssetData(e.refId),this.initBaseData(e,s,i),this._isPlaying=!1,this._canPlay=!1;var a=this.globalData.getAssetsPath(this.assetData);this.audio=this.globalData.audioController.createAudio(a),this._currentTime=0,this.globalData.audioController.addAudio(this),this._volumeMultiplier=1,this._volume=1,this._previousVolume=null,this.tm=e.tm?PropertyFactory.getProp(this,e.tm,0,s.frameRate,this):{_placeholder:!0},this.lv=PropertyFactory.getProp(this,e.au&&e.au.lv?e.au.lv:{k:[100]},1,.01,this)}AudioElement.prototype.prepareFrame=function(e){if(this.prepareRenderableFrame(e,!0),this.prepareProperties(e,!0),this.tm._placeholder)this._currentTime=e/this.data.sr;else{var s=this.tm.v;this._currentTime=s}this._volume=this.lv.v[0];var i=this._volume*this._volumeMultiplier;this._previousVolume!==i&&(this._previousVolume=i,this.audio.volume(i))},extendPrototype([RenderableElement,BaseElement,FrameElement],AudioElement),AudioElement.prototype.renderFrame=function(){this.isInRange&&this._canPlay&&(this._isPlaying?(!this.audio.playing()||Math.abs(this._currentTime/this.globalData.frameRate-this.audio.seek())>.1)&&this.audio.seek(this._currentTime/this.globalData.frameRate):(this.audio.play(),this.audio.seek(this._currentTime/this.globalData.frameRate),this._isPlaying=!0))},AudioElement.prototype.show=function(){},AudioElement.prototype.hide=function(){this.audio.pause(),this._isPlaying=!1},AudioElement.prototype.pause=function(){this.audio.pause(),this._isPlaying=!1,this._canPlay=!1},AudioElement.prototype.resume=function(){this._canPlay=!0},AudioElement.prototype.setRate=function(e){this.audio.rate(e)},AudioElement.prototype.volume=function(e){this._volumeMultiplier=e,this._previousVolume=e*this._volume,this.audio.volume(this._previousVolume)},AudioElement.prototype.getBaseElement=function(){return null},AudioElement.prototype.destroy=function(){},AudioElement.prototype.sourceRectAtTime=function(){},AudioElement.prototype.initExpressions=function(){};function BaseRenderer(){}BaseRenderer.prototype.checkLayers=function(e){var s,i=this.layers.length,a;for(this.completeLayers=!0,s=i-1;s>=0;s-=1)this.elements[s]||(a=this.layers[s],a.ip-a.st<=e-this.layers[s].st&&a.op-a.st>e-this.layers[s].st&&this.buildItem(s)),this.completeLayers=this.elements[s]?this.completeLayers:!1;this.checkPendingElements()},BaseRenderer.prototype.createItem=function(e){switch(e.ty){case 2:return this.createImage(e);case 0:return this.createComp(e);case 1:return this.createSolid(e);case 3:return this.createNull(e);case 4:return this.createShape(e);case 5:return this.createText(e);case 6:return this.createAudio(e);case 13:return this.createCamera(e);case 15:return this.createFootage(e);default:return this.createNull(e)}},BaseRenderer.prototype.createCamera=function(){throw new Error("You're using a 3d camera. Try the html renderer.")},BaseRenderer.prototype.createAudio=function(e){return new AudioElement(e,this.globalData,this)},BaseRenderer.prototype.createFootage=function(e){return new FootageElement(e,this.globalData,this)},BaseRenderer.prototype.buildAllItems=function(){var e,s=this.layers.length;for(e=0;e<s;e+=1)this.buildItem(e);this.checkPendingElements()},BaseRenderer.prototype.includeLayers=function(e){this.completeLayers=!1;var s,i=e.length,a,o=this.layers.length;for(s=0;s<i;s+=1)for(a=0;a<o;){if(this.layers[a].id===e[s].id){this.layers[a]=e[s];break}a+=1}},BaseRenderer.prototype.setProjectInterface=function(e){this.globalData.projectInterface=e},BaseRenderer.prototype.initItems=function(){this.globalData.progressiveLoad||this.buildAllItems()},BaseRenderer.prototype.buildElementParenting=function(e,s,i){for(var a=this.elements,o=this.layers,c=0,h=o.length;c<h;)o[c].ind==s&&(!a[c]||a[c]===!0?(this.buildItem(c),this.addPendingElement(e)):(i.push(a[c]),a[c].setAsParent(),o[c].parent!==void 0?this.buildElementParenting(e,o[c].parent,i):e.setHierarchy(i))),c+=1},BaseRenderer.prototype.addPendingElement=function(e){this.pendingElements.push(e)},BaseRenderer.prototype.searchExtraCompositions=function(e){var s,i=e.length;for(s=0;s<i;s+=1)if(e[s].xt){var a=this.createComp(e[s]);a.initExpressions(),this.globalData.projectInterface.registerComposition(a)}},BaseRenderer.prototype.getElementById=function(e){var s,i=this.elements.length;for(s=0;s<i;s+=1)if(this.elements[s].data.ind===e)return this.elements[s];return null},BaseRenderer.prototype.getElementByPath=function(e){var s=e.shift(),i;if(typeof s=="number")i=this.elements[s];else{var a,o=this.elements.length;for(a=0;a<o;a+=1)if(this.elements[a].data.nm===s){i=this.elements[a];break}}return e.length===0?i:i.getElementByPath(e)},BaseRenderer.prototype.setupGlobalData=function(e,s){this.globalData.fontManager=new FontManager,this.globalData.slotManager=slotFactory(e),this.globalData.fontManager.addChars(e.chars),this.globalData.fontManager.addFonts(e.fonts,s),this.globalData.getAssetData=this.animationItem.getAssetData.bind(this.animationItem),this.globalData.getAssetsPath=this.animationItem.getAssetsPath.bind(this.animationItem),this.globalData.imageLoader=this.animationItem.imagePreloader,this.globalData.audioController=this.animationItem.audioController,this.globalData.frameId=0,this.globalData.frameRate=e.fr,this.globalData.nm=e.nm,this.globalData.compSize={w:e.w,h:e.h}};var effectTypes={TRANSFORM_EFFECT:"transformEFfect"};function TransformElement(){}TransformElement.prototype={initTransform:function(){var s=new Matrix;this.finalTransform={mProp:this.data.ks?TransformPropertyFactory.getTransformProperty(this,this.data.ks,this):{o:0},_matMdf:!1,_localMatMdf:!1,_opMdf:!1,mat:s,localMat:s,localOpacity:1},this.data.ao&&(this.finalTransform.mProp.autoOriented=!0),this.data.ty},renderTransform:function(){if(this.finalTransform._opMdf=this.finalTransform.mProp.o._mdf||this._isFirstFrame,this.finalTransform._matMdf=this.finalTransform.mProp._mdf||this._isFirstFrame,this.hierarchy){var s,i=this.finalTransform.mat,a=0,o=this.hierarchy.length;if(!this.finalTransform._matMdf)for(;a<o;){if(this.hierarchy[a].finalTransform.mProp._mdf){this.finalTransform._matMdf=!0;break}a+=1}if(this.finalTransform._matMdf)for(s=this.finalTransform.mProp.v.props,i.cloneFromProps(s),a=0;a<o;a+=1)i.multiply(this.hierarchy[a].finalTransform.mProp.v)}(!this.localTransforms||this.finalTransform._matMdf)&&(this.finalTransform._localMatMdf=this.finalTransform._matMdf),this.finalTransform._opMdf&&(this.finalTransform.localOpacity=this.finalTransform.mProp.o.v)},renderLocalTransform:function(){if(this.localTransforms){var s=0,i=this.localTransforms.length;if(this.finalTransform._localMatMdf=this.finalTransform._matMdf,!this.finalTransform._localMatMdf||!this.finalTransform._opMdf)for(;s<i;)this.localTransforms[s]._mdf&&(this.finalTransform._localMatMdf=!0),this.localTransforms[s]._opMdf&&!this.finalTransform._opMdf&&(this.finalTransform.localOpacity=this.finalTransform.mProp.o.v,this.finalTransform._opMdf=!0),s+=1;if(this.finalTransform._localMatMdf){var a=this.finalTransform.localMat;for(this.localTransforms[0].matrix.clone(a),s=1;s<i;s+=1){var o=this.localTransforms[s].matrix;a.multiply(o)}a.multiply(this.finalTransform.mat)}if(this.finalTransform._opMdf){var c=this.finalTransform.localOpacity;for(s=0;s<i;s+=1)c*=this.localTransforms[s].opacity*.01;this.finalTransform.localOpacity=c}}},searchEffectTransforms:function(){if(this.renderableEffectsManager){var s=this.renderableEffectsManager.getEffects(effectTypes.TRANSFORM_EFFECT);if(s.length){this.localTransforms=[],this.finalTransform.localMat=new Matrix;var i=0,a=s.length;for(i=0;i<a;i+=1)this.localTransforms.push(s[i])}}},globalToLocal:function(s){var i=[];i.push(this.finalTransform);for(var a=!0,o=this.comp;a;)o.finalTransform?(o.data.hasMask&&i.splice(0,0,o.finalTransform),o=o.comp):a=!1;var c,h=i.length,d;for(c=0;c<h;c+=1)d=i[c].mat.applyToPointArray(0,0,0),s=[s[0]-d[0],s[1]-d[1],0];return s},mHelper:new Matrix};function MaskElement(e,s,i){this.data=e,this.element=s,this.globalData=i,this.storedData=[],this.masksProperties=this.data.masksProperties||[],this.maskElement=null;var a=this.globalData.defs,o,c=this.masksProperties?this.masksProperties.length:0;this.viewData=createSizedArray(c),this.solidPath="";var h,d=this.masksProperties,g=0,b=[],_,$,j=createElementID(),st,tt,nt,at,_e="clipPath",rt="clip-path";for(o=0;o<c;o+=1)if((d[o].mode!=="a"&&d[o].mode!=="n"||d[o].inv||d[o].o.k!==100||d[o].o.x)&&(_e="mask",rt="mask"),(d[o].mode==="s"||d[o].mode==="i")&&g===0?(st=createNS("rect"),st.setAttribute("fill","#ffffff"),st.setAttribute("width",this.element.comp.data.w||0),st.setAttribute("height",this.element.comp.data.h||0),b.push(st)):st=null,h=createNS("path"),d[o].mode==="n")this.viewData[o]={op:PropertyFactory.getProp(this.element,d[o].o,0,.01,this.element),prop:ShapePropertyFactory.getShapeProp(this.element,d[o],3),elem:h,lastPath:""},a.appendChild(h);else{g+=1,h.setAttribute("fill",d[o].mode==="s"?"#000000":"#ffffff"),h.setAttribute("clip-rule","nonzero");var et;if(d[o].x.k!==0?(_e="mask",rt="mask",at=PropertyFactory.getProp(this.element,d[o].x,0,null,this.element),et=createElementID(),tt=createNS("filter"),tt.setAttribute("id",et),nt=createNS("feMorphology"),nt.setAttribute("operator","erode"),nt.setAttribute("in","SourceGraphic"),nt.setAttribute("radius","0"),tt.appendChild(nt),a.appendChild(tt),h.setAttribute("stroke",d[o].mode==="s"?"#000000":"#ffffff")):(nt=null,at=null),this.storedData[o]={elem:h,x:at,expan:nt,lastPath:"",lastOperator:"",filterId:et,lastRadius:0},d[o].mode==="i"){$=b.length;var it=createNS("g");for(_=0;_<$;_+=1)it.appendChild(b[_]);var ot=createNS("mask");ot.setAttribute("mask-type","alpha"),ot.setAttribute("id",j+"_"+g),ot.appendChild(h),a.appendChild(ot),it.setAttribute("mask","url("+getLocationHref()+"#"+j+"_"+g+")"),b.length=0,b.push(it)}else b.push(h);d[o].inv&&!this.solidPath&&(this.solidPath=this.createLayerSolidPath()),this.viewData[o]={elem:h,lastPath:"",op:PropertyFactory.getProp(this.element,d[o].o,0,.01,this.element),prop:ShapePropertyFactory.getShapeProp(this.element,d[o],3),invRect:st},this.viewData[o].prop.k||this.drawPath(d[o],this.viewData[o].prop.v,this.viewData[o])}for(this.maskElement=createNS(_e),c=b.length,o=0;o<c;o+=1)this.maskElement.appendChild(b[o]);g>0&&(this.maskElement.setAttribute("id",j),this.element.maskedElement.setAttribute(rt,"url("+getLocationHref()+"#"+j+")"),a.appendChild(this.maskElement)),this.viewData.length&&this.element.addRenderableComponent(this)}MaskElement.prototype.getMaskProperty=function(e){return this.viewData[e].prop},MaskElement.prototype.renderFrame=function(e){var s=this.element.finalTransform.mat,i,a=this.masksProperties.length;for(i=0;i<a;i+=1)if((this.viewData[i].prop._mdf||e)&&this.drawPath(this.masksProperties[i],this.viewData[i].prop.v,this.viewData[i]),(this.viewData[i].op._mdf||e)&&this.viewData[i].elem.setAttribute("fill-opacity",this.viewData[i].op.v),this.masksProperties[i].mode!=="n"&&(this.viewData[i].invRect&&(this.element.finalTransform.mProp._mdf||e)&&this.viewData[i].invRect.setAttribute("transform",s.getInverseMatrix().to2dCSS()),this.storedData[i].x&&(this.storedData[i].x._mdf||e))){var o=this.storedData[i].expan;this.storedData[i].x.v<0?(this.storedData[i].lastOperator!=="erode"&&(this.storedData[i].lastOperator="erode",this.storedData[i].elem.setAttribute("filter","url("+getLocationHref()+"#"+this.storedData[i].filterId+")")),o.setAttribute("radius",-this.storedData[i].x.v)):(this.storedData[i].lastOperator!=="dilate"&&(this.storedData[i].lastOperator="dilate",this.storedData[i].elem.setAttribute("filter",null)),this.storedData[i].elem.setAttribute("stroke-width",this.storedData[i].x.v*2))}},MaskElement.prototype.getMaskelement=function(){return this.maskElement},MaskElement.prototype.createLayerSolidPath=function(){var e="M0,0 ";return e+=" h"+this.globalData.compSize.w,e+=" v"+this.globalData.compSize.h,e+=" h-"+this.globalData.compSize.w,e+=" v-"+this.globalData.compSize.h+" ",e},MaskElement.prototype.drawPath=function(e,s,i){var a=" M"+s.v[0][0]+","+s.v[0][1],o,c;for(c=s._length,o=1;o<c;o+=1)a+=" C"+s.o[o-1][0]+","+s.o[o-1][1]+" "+s.i[o][0]+","+s.i[o][1]+" "+s.v[o][0]+","+s.v[o][1];if(s.c&&c>1&&(a+=" C"+s.o[o-1][0]+","+s.o[o-1][1]+" "+s.i[0][0]+","+s.i[0][1]+" "+s.v[0][0]+","+s.v[0][1]),i.lastPath!==a){var h="";i.elem&&(s.c&&(h=e.inv?this.solidPath+a:a),i.elem.setAttribute("d",h)),i.lastPath=a}},MaskElement.prototype.destroy=function(){this.element=null,this.globalData=null,this.maskElement=null,this.data=null,this.masksProperties=null};var filtersFactory=function(){var e={};e.createFilter=s,e.createAlphaToLuminanceFilter=i;function s(a,o){var c=createNS("filter");return c.setAttribute("id",a),o!==!0&&(c.setAttribute("filterUnits","objectBoundingBox"),c.setAttribute("x","0%"),c.setAttribute("y","0%"),c.setAttribute("width","100%"),c.setAttribute("height","100%")),c}function i(){var a=createNS("feColorMatrix");return a.setAttribute("type","matrix"),a.setAttribute("color-interpolation-filters","sRGB"),a.setAttribute("values","0 0 0 1 0  0 0 0 1 0  0 0 0 1 0  0 0 0 1 1"),a}return e}(),featureSupport=function(){var e={maskType:!0,svgLumaHidden:!0,offscreenCanvas:typeof OffscreenCanvas<"u"};return(/MSIE 10/i.test(navigator.userAgent)||/MSIE 9/i.test(navigator.userAgent)||/rv:11.0/i.test(navigator.userAgent)||/Edge\/\d./i.test(navigator.userAgent))&&(e.maskType=!1),/firefox/i.test(navigator.userAgent)&&(e.svgLumaHidden=!1),e}(),registeredEffects$1={},idPrefix="filter_result_";function SVGEffects(e){var s,i="SourceGraphic",a=e.data.ef?e.data.ef.length:0,o=createElementID(),c=filtersFactory.createFilter(o,!0),h=0;this.filters=[];var d;for(s=0;s<a;s+=1){d=null;var g=e.data.ef[s].ty;if(registeredEffects$1[g]){var b=registeredEffects$1[g].effect;d=new b(c,e.effectsManager.effectElements[s],e,idPrefix+h,i),i=idPrefix+h,registeredEffects$1[g].countsAsEffect&&(h+=1)}d&&this.filters.push(d)}h&&(e.globalData.defs.appendChild(c),e.layerElement.setAttribute("filter","url("+getLocationHref()+"#"+o+")")),this.filters.length&&e.addRenderableComponent(this)}SVGEffects.prototype.renderFrame=function(e){var s,i=this.filters.length;for(s=0;s<i;s+=1)this.filters[s].renderFrame(e)},SVGEffects.prototype.getEffects=function(e){var s,i=this.filters.length,a=[];for(s=0;s<i;s+=1)this.filters[s].type===e&&a.push(this.filters[s]);return a};function registerEffect$1(e,s,i){registeredEffects$1[e]={effect:s,countsAsEffect:i}}function SVGBaseElement(){}SVGBaseElement.prototype={initRendererElement:function(){this.layerElement=createNS("g")},createContainerElements:function(){this.matteElement=createNS("g"),this.transformedElement=this.layerElement,this.maskedElement=this.layerElement,this._sizeChanged=!1;var s=null;if(this.data.td){this.matteMasks={};var i=createNS("g");i.setAttribute("id",this.layerId),i.appendChild(this.layerElement),s=i,this.globalData.defs.appendChild(i)}else this.data.tt?(this.matteElement.appendChild(this.layerElement),s=this.matteElement,this.baseElement=this.matteElement):this.baseElement=this.layerElement;if(this.data.ln&&this.layerElement.setAttribute("id",this.data.ln),this.data.cl&&this.layerElement.setAttribute("class",this.data.cl),this.data.ty===0&&!this.data.hd){var a=createNS("clipPath"),o=createNS("path");o.setAttribute("d","M0,0 L"+this.data.w+",0 L"+this.data.w+","+this.data.h+" L0,"+this.data.h+"z");var c=createElementID();if(a.setAttribute("id",c),a.appendChild(o),this.globalData.defs.appendChild(a),this.checkMasks()){var h=createNS("g");h.setAttribute("clip-path","url("+getLocationHref()+"#"+c+")"),h.appendChild(this.layerElement),this.transformedElement=h,s?s.appendChild(this.transformedElement):this.baseElement=this.transformedElement}else this.layerElement.setAttribute("clip-path","url("+getLocationHref()+"#"+c+")")}this.data.bm!==0&&this.setBlendMode()},renderElement:function(){this.finalTransform._localMatMdf&&this.transformedElement.setAttribute("transform",this.finalTransform.localMat.to2dCSS()),this.finalTransform._opMdf&&this.transformedElement.setAttribute("opacity",this.finalTransform.localOpacity)},destroyBaseElement:function(){this.layerElement=null,this.matteElement=null,this.maskManager.destroy()},getBaseElement:function(){return this.data.hd?null:this.baseElement},createRenderableComponents:function(){this.maskManager=new MaskElement(this.data,this,this.globalData),this.renderableEffectsManager=new SVGEffects(this),this.searchEffectTransforms()},getMatte:function(s){if(this.matteMasks||(this.matteMasks={}),!this.matteMasks[s]){var i=this.layerId+"_"+s,a,o,c,h;if(s===1||s===3){var d=createNS("mask");d.setAttribute("id",i),d.setAttribute("mask-type",s===3?"luminance":"alpha"),c=createNS("use"),c.setAttributeNS("http://www.w3.org/1999/xlink","href","#"+this.layerId),d.appendChild(c),this.globalData.defs.appendChild(d),!featureSupport.maskType&&s===1&&(d.setAttribute("mask-type","luminance"),a=createElementID(),o=filtersFactory.createFilter(a),this.globalData.defs.appendChild(o),o.appendChild(filtersFactory.createAlphaToLuminanceFilter()),h=createNS("g"),h.appendChild(c),d.appendChild(h),h.setAttribute("filter","url("+getLocationHref()+"#"+a+")"))}else if(s===2){var g=createNS("mask");g.setAttribute("id",i),g.setAttribute("mask-type","alpha");var b=createNS("g");g.appendChild(b),a=createElementID(),o=filtersFactory.createFilter(a);var _=createNS("feComponentTransfer");_.setAttribute("in","SourceGraphic"),o.appendChild(_);var $=createNS("feFuncA");$.setAttribute("type","table"),$.setAttribute("tableValues","1.0 0.0"),_.appendChild($),this.globalData.defs.appendChild(o);var j=createNS("rect");j.setAttribute("width",this.comp.data.w),j.setAttribute("height",this.comp.data.h),j.setAttribute("x","0"),j.setAttribute("y","0"),j.setAttribute("fill","#ffffff"),j.setAttribute("opacity","0"),b.setAttribute("filter","url("+getLocationHref()+"#"+a+")"),b.appendChild(j),c=createNS("use"),c.setAttributeNS("http://www.w3.org/1999/xlink","href","#"+this.layerId),b.appendChild(c),featureSupport.maskType||(g.setAttribute("mask-type","luminance"),o.appendChild(filtersFactory.createAlphaToLuminanceFilter()),h=createNS("g"),b.appendChild(j),h.appendChild(this.layerElement),b.appendChild(h)),this.globalData.defs.appendChild(g)}this.matteMasks[s]=i}return this.matteMasks[s]},setMatte:function(s){this.matteElement&&this.matteElement.setAttribute("mask","url("+getLocationHref()+"#"+s+")")}};function HierarchyElement(){}HierarchyElement.prototype={initHierarchy:function(){this.hierarchy=[],this._isParent=!1,this.checkParenting()},setHierarchy:function(s){this.hierarchy=s},setAsParent:function(){this._isParent=!0},checkParenting:function(){this.data.parent!==void 0&&this.comp.buildElementParenting(this,this.data.parent,[])}};function RenderableDOMElement(){}(function(){var e={initElement:function(i,a,o){this.initFrame(),this.initBaseData(i,a,o),this.initTransform(i,a,o),this.initHierarchy(),this.initRenderable(),this.initRendererElement(),this.createContainerElements(),this.createRenderableComponents(),this.createContent(),this.hide()},hide:function(){if(!this.hidden&&(!this.isInRange||this.isTransparent)){var i=this.baseElement||this.layerElement;i.style.display="none",this.hidden=!0}},show:function(){if(this.isInRange&&!this.isTransparent){if(!this.data.hd){var i=this.baseElement||this.layerElement;i.style.display="block"}this.hidden=!1,this._isFirstFrame=!0}},renderFrame:function(){this.data.hd||this.hidden||(this.renderTransform(),this.renderRenderable(),this.renderLocalTransform(),this.renderElement(),this.renderInnerContent(),this._isFirstFrame&&(this._isFirstFrame=!1))},renderInnerContent:function(){},prepareFrame:function(i){this._mdf=!1,this.prepareRenderableFrame(i),this.prepareProperties(i,this.isInRange),this.checkTransparency()},destroy:function(){this.innerElem=null,this.destroyBaseElement()}};extendPrototype([RenderableElement,createProxyFunction(e)],RenderableDOMElement)})();function IImageElement(e,s,i){this.assetData=s.getAssetData(e.refId),this.assetData&&this.assetData.sid&&(this.assetData=s.slotManager.getProp(this.assetData)),this.initElement(e,s,i),this.sourceRect={top:0,left:0,width:this.assetData.w,height:this.assetData.h}}extendPrototype([BaseElement,TransformElement,SVGBaseElement,HierarchyElement,FrameElement,RenderableDOMElement],IImageElement),IImageElement.prototype.createContent=function(){var e=this.globalData.getAssetsPath(this.assetData);this.innerElem=createNS("image"),this.innerElem.setAttribute("width",this.assetData.w+"px"),this.innerElem.setAttribute("height",this.assetData.h+"px"),this.innerElem.setAttribute("preserveAspectRatio",this.assetData.pr||this.globalData.renderConfig.imagePreserveAspectRatio),this.innerElem.setAttributeNS("http://www.w3.org/1999/xlink","href",e),this.layerElement.appendChild(this.innerElem)},IImageElement.prototype.sourceRectAtTime=function(){return this.sourceRect};function ProcessedElement(e,s){this.elem=e,this.pos=s}function IShapeElement(){}IShapeElement.prototype={addShapeToModifiers:function(s){var i,a=this.shapeModifiers.length;for(i=0;i<a;i+=1)this.shapeModifiers[i].addShape(s)},isShapeInAnimatedModifiers:function(s){for(var i=0,a=this.shapeModifiers.length;i<a;)if(this.shapeModifiers[i].isAnimatedWithShape(s))return!0;return!1},renderModifiers:function(){if(this.shapeModifiers.length){var s,i=this.shapes.length;for(s=0;s<i;s+=1)this.shapes[s].sh.reset();i=this.shapeModifiers.length;var a;for(s=i-1;s>=0&&(a=this.shapeModifiers[s].processShapes(this._isFirstFrame),!a);s-=1);}},searchProcessedElement:function(s){for(var i=this.processedElements,a=0,o=i.length;a<o;){if(i[a].elem===s)return i[a].pos;a+=1}return 0},addProcessedElement:function(s,i){for(var a=this.processedElements,o=a.length;o;)if(o-=1,a[o].elem===s){a[o].pos=i;return}a.push(new ProcessedElement(s,i))},prepareFrame:function(s){this.prepareRenderableFrame(s),this.prepareProperties(s,this.isInRange)}};var lineCapEnum={1:"butt",2:"round",3:"square"},lineJoinEnum={1:"miter",2:"round",3:"bevel"};function SVGShapeData(e,s,i){this.caches=[],this.styles=[],this.transformers=e,this.lStr="",this.sh=i,this.lvl=s,this._isAnimated=!!i.k;for(var a=0,o=e.length;a<o;){if(e[a].mProps.dynamicProperties.length){this._isAnimated=!0;break}a+=1}}SVGShapeData.prototype.setAsAnimated=function(){this._isAnimated=!0};function SVGStyleData(e,s){this.data=e,this.type=e.ty,this.d="",this.lvl=s,this._mdf=!1,this.closed=e.hd===!0,this.pElem=createNS("path"),this.msElem=null}SVGStyleData.prototype.reset=function(){this.d="",this._mdf=!1};function DashProperty(e,s,i,a){this.elem=e,this.frameId=-1,this.dataProps=createSizedArray(s.length),this.renderer=i,this.k=!1,this.dashStr="",this.dashArray=createTypedArray("float32",s.length?s.length-1:0),this.dashoffset=createTypedArray("float32",1),this.initDynamicPropertyContainer(a);var o,c=s.length||0,h;for(o=0;o<c;o+=1)h=PropertyFactory.getProp(e,s[o].v,0,0,this),this.k=h.k||this.k,this.dataProps[o]={n:s[o].n,p:h};this.k||this.getValue(!0),this._isAnimated=this.k}DashProperty.prototype.getValue=function(e){if(!(this.elem.globalData.frameId===this.frameId&&!e)&&(this.frameId=this.elem.globalData.frameId,this.iterateDynamicProperties(),this._mdf=this._mdf||e,this._mdf)){var s=0,i=this.dataProps.length;for(this.renderer==="svg"&&(this.dashStr=""),s=0;s<i;s+=1)this.dataProps[s].n!=="o"?this.renderer==="svg"?this.dashStr+=" "+this.dataProps[s].p.v:this.dashArray[s]=this.dataProps[s].p.v:this.dashoffset[0]=this.dataProps[s].p.v}},extendPrototype([DynamicPropertyContainer],DashProperty);function SVGStrokeStyleData(e,s,i){this.initDynamicPropertyContainer(e),this.getValue=this.iterateDynamicProperties,this.o=PropertyFactory.getProp(e,s.o,0,.01,this),this.w=PropertyFactory.getProp(e,s.w,0,null,this),this.d=new DashProperty(e,s.d||{},"svg",this),this.c=PropertyFactory.getProp(e,s.c,1,255,this),this.style=i,this._isAnimated=!!this._isAnimated}extendPrototype([DynamicPropertyContainer],SVGStrokeStyleData);function SVGFillStyleData(e,s,i){this.initDynamicPropertyContainer(e),this.getValue=this.iterateDynamicProperties,this.o=PropertyFactory.getProp(e,s.o,0,.01,this),this.c=PropertyFactory.getProp(e,s.c,1,255,this),this.style=i}extendPrototype([DynamicPropertyContainer],SVGFillStyleData);function SVGNoStyleData(e,s,i){this.initDynamicPropertyContainer(e),this.getValue=this.iterateDynamicProperties,this.style=i}extendPrototype([DynamicPropertyContainer],SVGNoStyleData);function GradientProperty(e,s,i){this.data=s,this.c=createTypedArray("uint8c",s.p*4);var a=s.k.k[0].s?s.k.k[0].s.length-s.p*4:s.k.k.length-s.p*4;this.o=createTypedArray("float32",a),this._cmdf=!1,this._omdf=!1,this._collapsable=this.checkCollapsable(),this._hasOpacity=a,this.initDynamicPropertyContainer(i),this.prop=PropertyFactory.getProp(e,s.k,1,null,this),this.k=this.prop.k,this.getValue(!0)}GradientProperty.prototype.comparePoints=function(e,s){for(var i=0,a=this.o.length/2,o;i<a;){if(o=Math.abs(e[i*4]-e[s*4+i*2]),o>.01)return!1;i+=1}return!0},GradientProperty.prototype.checkCollapsable=function(){if(this.o.length/2!==this.c.length/4)return!1;if(this.data.k.k[0].s)for(var e=0,s=this.data.k.k.length;e<s;){if(!this.comparePoints(this.data.k.k[e].s,this.data.p))return!1;e+=1}else if(!this.comparePoints(this.data.k.k,this.data.p))return!1;return!0},GradientProperty.prototype.getValue=function(e){if(this.prop.getValue(),this._mdf=!1,this._cmdf=!1,this._omdf=!1,this.prop._mdf||e){var s,i=this.data.p*4,a,o;for(s=0;s<i;s+=1)a=s%4===0?100:255,o=Math.round(this.prop.v[s]*a),this.c[s]!==o&&(this.c[s]=o,this._cmdf=!e);if(this.o.length)for(i=this.prop.v.length,s=this.data.p*4;s<i;s+=1)a=s%2===0?100:1,o=s%2===0?Math.round(this.prop.v[s]*100):this.prop.v[s],this.o[s-this.data.p*4]!==o&&(this.o[s-this.data.p*4]=o,this._omdf=!e);this._mdf=!e}},extendPrototype([DynamicPropertyContainer],GradientProperty);function SVGGradientFillStyleData(e,s,i){this.initDynamicPropertyContainer(e),this.getValue=this.iterateDynamicProperties,this.initGradientData(e,s,i)}SVGGradientFillStyleData.prototype.initGradientData=function(e,s,i){this.o=PropertyFactory.getProp(e,s.o,0,.01,this),this.s=PropertyFactory.getProp(e,s.s,1,null,this),this.e=PropertyFactory.getProp(e,s.e,1,null,this),this.h=PropertyFactory.getProp(e,s.h||{k:0},0,.01,this),this.a=PropertyFactory.getProp(e,s.a||{k:0},0,degToRads,this),this.g=new GradientProperty(e,s.g,this),this.style=i,this.stops=[],this.setGradientData(i.pElem,s),this.setGradientOpacity(s,i),this._isAnimated=!!this._isAnimated},SVGGradientFillStyleData.prototype.setGradientData=function(e,s){var i=createElementID(),a=createNS(s.t===1?"linearGradient":"radialGradient");a.setAttribute("id",i),a.setAttribute("spreadMethod","pad"),a.setAttribute("gradientUnits","userSpaceOnUse");var o=[],c,h,d;for(d=s.g.p*4,h=0;h<d;h+=4)c=createNS("stop"),a.appendChild(c),o.push(c);e.setAttribute(s.ty==="gf"?"fill":"stroke","url("+getLocationHref()+"#"+i+")"),this.gf=a,this.cst=o},SVGGradientFillStyleData.prototype.setGradientOpacity=function(e,s){if(this.g._hasOpacity&&!this.g._collapsable){var i,a,o,c=createNS("mask"),h=createNS("path");c.appendChild(h);var d=createElementID(),g=createElementID();c.setAttribute("id",g);var b=createNS(e.t===1?"linearGradient":"radialGradient");b.setAttribute("id",d),b.setAttribute("spreadMethod","pad"),b.setAttribute("gradientUnits","userSpaceOnUse"),o=e.g.k.k[0].s?e.g.k.k[0].s.length:e.g.k.k.length;var _=this.stops;for(a=e.g.p*4;a<o;a+=2)i=createNS("stop"),i.setAttribute("stop-color","rgb(255,255,255)"),b.appendChild(i),_.push(i);h.setAttribute(e.ty==="gf"?"fill":"stroke","url("+getLocationHref()+"#"+d+")"),e.ty==="gs"&&(h.setAttribute("stroke-linecap",lineCapEnum[e.lc||2]),h.setAttribute("stroke-linejoin",lineJoinEnum[e.lj||2]),e.lj===1&&h.setAttribute("stroke-miterlimit",e.ml)),this.of=b,this.ms=c,this.ost=_,this.maskId=g,s.msElem=h}},extendPrototype([DynamicPropertyContainer],SVGGradientFillStyleData);function SVGGradientStrokeStyleData(e,s,i){this.initDynamicPropertyContainer(e),this.getValue=this.iterateDynamicProperties,this.w=PropertyFactory.getProp(e,s.w,0,null,this),this.d=new DashProperty(e,s.d||{},"svg",this),this.initGradientData(e,s,i),this._isAnimated=!!this._isAnimated}extendPrototype([SVGGradientFillStyleData,DynamicPropertyContainer],SVGGradientStrokeStyleData);function ShapeGroupData(){this.it=[],this.prevViewData=[],this.gr=createNS("g")}function SVGTransformData(e,s,i){this.transform={mProps:e,op:s,container:i},this.elements=[],this._isAnimated=this.transform.mProps.dynamicProperties.length||this.transform.op.effectsSequence.length}var buildShapeString=function(s,i,a,o){if(i===0)return"";var c=s.o,h=s.i,d=s.v,g,b=" M"+o.applyToPointStringified(d[0][0],d[0][1]);for(g=1;g<i;g+=1)b+=" C"+o.applyToPointStringified(c[g-1][0],c[g-1][1])+" "+o.applyToPointStringified(h[g][0],h[g][1])+" "+o.applyToPointStringified(d[g][0],d[g][1]);return a&&i&&(b+=" C"+o.applyToPointStringified(c[g-1][0],c[g-1][1])+" "+o.applyToPointStringified(h[0][0],h[0][1])+" "+o.applyToPointStringified(d[0][0],d[0][1]),b+="z"),b},SVGElementsRenderer=function(){var e=new Matrix,s=new Matrix,i={createRenderFunction:a};function a($){switch($.ty){case"fl":return d;case"gf":return b;case"gs":return g;case"st":return _;case"sh":case"el":case"rc":case"sr":return h;case"tr":return o;case"no":return c;default:return null}}function o($,j,st){(st||j.transform.op._mdf)&&j.transform.container.setAttribute("opacity",j.transform.op.v),(st||j.transform.mProps._mdf)&&j.transform.container.setAttribute("transform",j.transform.mProps.v.to2dCSS())}function c(){}function h($,j,st){var tt,nt,at,_e,rt,et,it=j.styles.length,ot=j.lvl,ut,ht,dt,mt;for(et=0;et<it;et+=1){if(_e=j.sh._mdf||st,j.styles[et].lvl<ot){for(ht=s.reset(),dt=ot-j.styles[et].lvl,mt=j.transformers.length-1;!_e&&dt>0;)_e=j.transformers[mt].mProps._mdf||_e,dt-=1,mt-=1;if(_e)for(dt=ot-j.styles[et].lvl,mt=j.transformers.length-1;dt>0;)ht.multiply(j.transformers[mt].mProps.v),dt-=1,mt-=1}else ht=e;if(ut=j.sh.paths,nt=ut._length,_e){for(at="",tt=0;tt<nt;tt+=1)rt=ut.shapes[tt],rt&&rt._length&&(at+=buildShapeString(rt,rt._length,rt.c,ht));j.caches[et]=at}else at=j.caches[et];j.styles[et].d+=$.hd===!0?"":at,j.styles[et]._mdf=_e||j.styles[et]._mdf}}function d($,j,st){var tt=j.style;(j.c._mdf||st)&&tt.pElem.setAttribute("fill","rgb("+bmFloor(j.c.v[0])+","+bmFloor(j.c.v[1])+","+bmFloor(j.c.v[2])+")"),(j.o._mdf||st)&&tt.pElem.setAttribute("fill-opacity",j.o.v)}function g($,j,st){b($,j,st),_($,j,st)}function b($,j,st){var tt=j.gf,nt=j.g._hasOpacity,at=j.s.v,_e=j.e.v;if(j.o._mdf||st){var rt=$.ty==="gf"?"fill-opacity":"stroke-opacity";j.style.pElem.setAttribute(rt,j.o.v)}if(j.s._mdf||st){var et=$.t===1?"x1":"cx",it=et==="x1"?"y1":"cy";tt.setAttribute(et,at[0]),tt.setAttribute(it,at[1]),nt&&!j.g._collapsable&&(j.of.setAttribute(et,at[0]),j.of.setAttribute(it,at[1]))}var ot,ut,ht,dt;if(j.g._cmdf||st){ot=j.cst;var mt=j.g.c;for(ht=ot.length,ut=0;ut<ht;ut+=1)dt=ot[ut],dt.setAttribute("offset",mt[ut*4]+"%"),dt.setAttribute("stop-color","rgb("+mt[ut*4+1]+","+mt[ut*4+2]+","+mt[ut*4+3]+")")}if(nt&&(j.g._omdf||st)){var xt=j.g.o;for(j.g._collapsable?ot=j.cst:ot=j.ost,ht=ot.length,ut=0;ut<ht;ut+=1)dt=ot[ut],j.g._collapsable||dt.setAttribute("offset",xt[ut*2]+"%"),dt.setAttribute("stop-opacity",xt[ut*2+1])}if($.t===1)(j.e._mdf||st)&&(tt.setAttribute("x2",_e[0]),tt.setAttribute("y2",_e[1]),nt&&!j.g._collapsable&&(j.of.setAttribute("x2",_e[0]),j.of.setAttribute("y2",_e[1])));else{var St;if((j.s._mdf||j.e._mdf||st)&&(St=Math.sqrt(Math.pow(at[0]-_e[0],2)+Math.pow(at[1]-_e[1],2)),tt.setAttribute("r",St),nt&&!j.g._collapsable&&j.of.setAttribute("r",St)),j.s._mdf||j.e._mdf||j.h._mdf||j.a._mdf||st){St||(St=Math.sqrt(Math.pow(at[0]-_e[0],2)+Math.pow(at[1]-_e[1],2)));var vt=Math.atan2(_e[1]-at[1],_e[0]-at[0]),wt=j.h.v;wt>=1?wt=.99:wt<=-1&&(wt=-.99);var _t=St*wt,bt=Math.cos(vt+j.a.v)*_t+at[0],ft=Math.sin(vt+j.a.v)*_t+at[1];tt.setAttribute("fx",bt),tt.setAttribute("fy",ft),nt&&!j.g._collapsable&&(j.of.setAttribute("fx",bt),j.of.setAttribute("fy",ft))}}}function _($,j,st){var tt=j.style,nt=j.d;nt&&(nt._mdf||st)&&nt.dashStr&&(tt.pElem.setAttribute("stroke-dasharray",nt.dashStr),tt.pElem.setAttribute("stroke-dashoffset",nt.dashoffset[0])),j.c&&(j.c._mdf||st)&&tt.pElem.setAttribute("stroke","rgb("+bmFloor(j.c.v[0])+","+bmFloor(j.c.v[1])+","+bmFloor(j.c.v[2])+")"),(j.o._mdf||st)&&tt.pElem.setAttribute("stroke-opacity",j.o.v),(j.w._mdf||st)&&(tt.pElem.setAttribute("stroke-width",j.w.v),tt.msElem&&tt.msElem.setAttribute("stroke-width",j.w.v))}return i}();function SVGShapeElement(e,s,i){this.shapes=[],this.shapesData=e.shapes,this.stylesList=[],this.shapeModifiers=[],this.itemsData=[],this.processedElements=[],this.animatedContents=[],this.initElement(e,s,i),this.prevViewData=[]}extendPrototype([BaseElement,TransformElement,SVGBaseElement,IShapeElement,HierarchyElement,FrameElement,RenderableDOMElement],SVGShapeElement),SVGShapeElement.prototype.initSecondaryElement=function(){},SVGShapeElement.prototype.identityMatrix=new Matrix,SVGShapeElement.prototype.buildExpressionInterface=function(){},SVGShapeElement.prototype.createContent=function(){this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,this.layerElement,0,[],!0),this.filterUniqueShapes()},SVGShapeElement.prototype.filterUniqueShapes=function(){var e,s=this.shapes.length,i,a,o=this.stylesList.length,c,h=[],d=!1;for(a=0;a<o;a+=1){for(c=this.stylesList[a],d=!1,h.length=0,e=0;e<s;e+=1)i=this.shapes[e],i.styles.indexOf(c)!==-1&&(h.push(i),d=i._isAnimated||d);h.length>1&&d&&this.setShapesAsAnimated(h)}},SVGShapeElement.prototype.setShapesAsAnimated=function(e){var s,i=e.length;for(s=0;s<i;s+=1)e[s].setAsAnimated()},SVGShapeElement.prototype.createStyleElement=function(e,s){var i,a=new SVGStyleData(e,s),o=a.pElem;if(e.ty==="st")i=new SVGStrokeStyleData(this,e,a);else if(e.ty==="fl")i=new SVGFillStyleData(this,e,a);else if(e.ty==="gf"||e.ty==="gs"){var c=e.ty==="gf"?SVGGradientFillStyleData:SVGGradientStrokeStyleData;i=new c(this,e,a),this.globalData.defs.appendChild(i.gf),i.maskId&&(this.globalData.defs.appendChild(i.ms),this.globalData.defs.appendChild(i.of),o.setAttribute("mask","url("+getLocationHref()+"#"+i.maskId+")"))}else e.ty==="no"&&(i=new SVGNoStyleData(this,e,a));return(e.ty==="st"||e.ty==="gs")&&(o.setAttribute("stroke-linecap",lineCapEnum[e.lc||2]),o.setAttribute("stroke-linejoin",lineJoinEnum[e.lj||2]),o.setAttribute("fill-opacity","0"),e.lj===1&&o.setAttribute("stroke-miterlimit",e.ml)),e.r===2&&o.setAttribute("fill-rule","evenodd"),e.ln&&o.setAttribute("id",e.ln),e.cl&&o.setAttribute("class",e.cl),e.bm&&(o.style["mix-blend-mode"]=getBlendMode(e.bm)),this.stylesList.push(a),this.addToAnimatedContents(e,i),i},SVGShapeElement.prototype.createGroupElement=function(e){var s=new ShapeGroupData;return e.ln&&s.gr.setAttribute("id",e.ln),e.cl&&s.gr.setAttribute("class",e.cl),e.bm&&(s.gr.style["mix-blend-mode"]=getBlendMode(e.bm)),s},SVGShapeElement.prototype.createTransformElement=function(e,s){var i=TransformPropertyFactory.getTransformProperty(this,e,this),a=new SVGTransformData(i,i.o,s);return this.addToAnimatedContents(e,a),a},SVGShapeElement.prototype.createShapeElement=function(e,s,i){var a=4;e.ty==="rc"?a=5:e.ty==="el"?a=6:e.ty==="sr"&&(a=7);var o=ShapePropertyFactory.getShapeProp(this,e,a,this),c=new SVGShapeData(s,i,o);return this.shapes.push(c),this.addShapeToModifiers(c),this.addToAnimatedContents(e,c),c},SVGShapeElement.prototype.addToAnimatedContents=function(e,s){for(var i=0,a=this.animatedContents.length;i<a;){if(this.animatedContents[i].element===s)return;i+=1}this.animatedContents.push({fn:SVGElementsRenderer.createRenderFunction(e),element:s,data:e})},SVGShapeElement.prototype.setElementStyles=function(e){var s=e.styles,i,a=this.stylesList.length;for(i=0;i<a;i+=1)s.indexOf(this.stylesList[i])===-1&&!this.stylesList[i].closed&&s.push(this.stylesList[i])},SVGShapeElement.prototype.reloadShapes=function(){this._isFirstFrame=!0;var e,s=this.itemsData.length;for(e=0;e<s;e+=1)this.prevViewData[e]=this.itemsData[e];for(this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,this.layerElement,0,[],!0),this.filterUniqueShapes(),s=this.dynamicProperties.length,e=0;e<s;e+=1)this.dynamicProperties[e].getValue();this.renderModifiers()},SVGShapeElement.prototype.searchShapes=function(e,s,i,a,o,c,h){var d=[].concat(c),g,b=e.length-1,_,$,j=[],st=[],tt,nt,at;for(g=b;g>=0;g-=1){if(at=this.searchProcessedElement(e[g]),at?s[g]=i[at-1]:e[g]._render=h,e[g].ty==="fl"||e[g].ty==="st"||e[g].ty==="gf"||e[g].ty==="gs"||e[g].ty==="no")at?s[g].style.closed=e[g].hd:s[g]=this.createStyleElement(e[g],o),e[g]._render&&s[g].style.pElem.parentNode!==a&&a.appendChild(s[g].style.pElem),j.push(s[g].style);else if(e[g].ty==="gr"){if(!at)s[g]=this.createGroupElement(e[g]);else for($=s[g].it.length,_=0;_<$;_+=1)s[g].prevViewData[_]=s[g].it[_];this.searchShapes(e[g].it,s[g].it,s[g].prevViewData,s[g].gr,o+1,d,h),e[g]._render&&s[g].gr.parentNode!==a&&a.appendChild(s[g].gr)}else e[g].ty==="tr"?(at||(s[g]=this.createTransformElement(e[g],a)),tt=s[g].transform,d.push(tt)):e[g].ty==="sh"||e[g].ty==="rc"||e[g].ty==="el"||e[g].ty==="sr"?(at||(s[g]=this.createShapeElement(e[g],d,o)),this.setElementStyles(s[g])):e[g].ty==="tm"||e[g].ty==="rd"||e[g].ty==="ms"||e[g].ty==="pb"||e[g].ty==="zz"||e[g].ty==="op"?(at?(nt=s[g],nt.closed=!1):(nt=ShapeModifiers.getModifier(e[g].ty),nt.init(this,e[g]),s[g]=nt,this.shapeModifiers.push(nt)),st.push(nt)):e[g].ty==="rp"&&(at?(nt=s[g],nt.closed=!0):(nt=ShapeModifiers.getModifier(e[g].ty),s[g]=nt,nt.init(this,e,g,s),this.shapeModifiers.push(nt),h=!1),st.push(nt));this.addProcessedElement(e[g],g+1)}for(b=j.length,g=0;g<b;g+=1)j[g].closed=!0;for(b=st.length,g=0;g<b;g+=1)st[g].closed=!0},SVGShapeElement.prototype.renderInnerContent=function(){this.renderModifiers();var e,s=this.stylesList.length;for(e=0;e<s;e+=1)this.stylesList[e].reset();for(this.renderShape(),e=0;e<s;e+=1)(this.stylesList[e]._mdf||this._isFirstFrame)&&(this.stylesList[e].msElem&&(this.stylesList[e].msElem.setAttribute("d",this.stylesList[e].d),this.stylesList[e].d="M0 0"+this.stylesList[e].d),this.stylesList[e].pElem.setAttribute("d",this.stylesList[e].d||"M0 0"))},SVGShapeElement.prototype.renderShape=function(){var e,s=this.animatedContents.length,i;for(e=0;e<s;e+=1)i=this.animatedContents[e],(this._isFirstFrame||i.element._isAnimated)&&i.data!==!0&&i.fn(i.data,i.element,this._isFirstFrame)},SVGShapeElement.prototype.destroy=function(){this.destroyBaseElement(),this.shapesData=null,this.itemsData=null};function LetterProps(e,s,i,a,o,c){this.o=e,this.sw=s,this.sc=i,this.fc=a,this.m=o,this.p=c,this._mdf={o:!0,sw:!!s,sc:!!i,fc:!!a,m:!0,p:!0}}LetterProps.prototype.update=function(e,s,i,a,o,c){this._mdf.o=!1,this._mdf.sw=!1,this._mdf.sc=!1,this._mdf.fc=!1,this._mdf.m=!1,this._mdf.p=!1;var h=!1;return this.o!==e&&(this.o=e,this._mdf.o=!0,h=!0),this.sw!==s&&(this.sw=s,this._mdf.sw=!0,h=!0),this.sc!==i&&(this.sc=i,this._mdf.sc=!0,h=!0),this.fc!==a&&(this.fc=a,this._mdf.fc=!0,h=!0),this.m!==o&&(this.m=o,this._mdf.m=!0,h=!0),c.length&&(this.p[0]!==c[0]||this.p[1]!==c[1]||this.p[4]!==c[4]||this.p[5]!==c[5]||this.p[12]!==c[12]||this.p[13]!==c[13])&&(this.p=c,this._mdf.p=!0,h=!0),h};function TextProperty(e,s){this._frameId=initialDefaultFrame,this.pv="",this.v="",this.kf=!1,this._isFirstFrame=!0,this._mdf=!1,s.d&&s.d.sid&&(s.d=e.globalData.slotManager.getProp(s.d)),this.data=s,this.elem=e,this.comp=this.elem.comp,this.keysIndex=0,this.canResize=!1,this.minimumFontSize=1,this.effectsSequence=[],this.currentData={ascent:0,boxWidth:this.defaultBoxWidth,f:"",fStyle:"",fWeight:"",fc:"",j:"",justifyOffset:"",l:[],lh:0,lineWidths:[],ls:"",of:"",s:"",sc:"",sw:0,t:0,tr:0,sz:0,ps:null,fillColorAnim:!1,strokeColorAnim:!1,strokeWidthAnim:!1,yOffset:0,finalSize:0,finalText:[],finalLineHeight:0,__complete:!1},this.copyData(this.currentData,this.data.d.k[0].s),this.searchProperty()||this.completeTextData(this.currentData)}TextProperty.prototype.defaultBoxWidth=[0,0],TextProperty.prototype.copyData=function(e,s){for(var i in s)Object.prototype.hasOwnProperty.call(s,i)&&(e[i]=s[i]);return e},TextProperty.prototype.setCurrentData=function(e){e.__complete||this.completeTextData(e),this.currentData=e,this.currentData.boxWidth=this.currentData.boxWidth||this.defaultBoxWidth,this._mdf=!0},TextProperty.prototype.searchProperty=function(){return this.searchKeyframes()},TextProperty.prototype.searchKeyframes=function(){return this.kf=this.data.d.k.length>1,this.kf&&this.addEffect(this.getKeyframeValue.bind(this)),this.kf},TextProperty.prototype.addEffect=function(e){this.effectsSequence.push(e),this.elem.addDynamicProperty(this)},TextProperty.prototype.getValue=function(e){if(!((this.elem.globalData.frameId===this.frameId||!this.effectsSequence.length)&&!e)){this.currentData.t=this.data.d.k[this.keysIndex].s.t;var s=this.currentData,i=this.keysIndex;if(this.lock){this.setCurrentData(this.currentData);return}this.lock=!0,this._mdf=!1;var a,o=this.effectsSequence.length,c=e||this.data.d.k[this.keysIndex].s;for(a=0;a<o;a+=1)i!==this.keysIndex?c=this.effectsSequence[a](c,c.t):c=this.effectsSequence[a](this.currentData,c.t);s!==c&&this.setCurrentData(c),this.v=this.currentData,this.pv=this.v,this.lock=!1,this.frameId=this.elem.globalData.frameId}},TextProperty.prototype.getKeyframeValue=function(){for(var e=this.data.d.k,s=this.elem.comp.renderedFrame,i=0,a=e.length;i<=a-1&&!(i===a-1||e[i+1].t>s);)i+=1;return this.keysIndex!==i&&(this.keysIndex=i),this.data.d.k[this.keysIndex].s},TextProperty.prototype.buildFinalText=function(e){for(var s=[],i=0,a=e.length,o,c,h=!1,d=!1,g="";i<a;)h=d,d=!1,o=e.charCodeAt(i),g=e.charAt(i),FontManager.isCombinedCharacter(o)?h=!0:o>=55296&&o<=56319?FontManager.isRegionalFlag(e,i)?g=e.substr(i,14):(c=e.charCodeAt(i+1),c>=56320&&c<=57343&&(FontManager.isModifier(o,c)?(g=e.substr(i,2),h=!0):FontManager.isFlagEmoji(e.substr(i,4))?g=e.substr(i,4):g=e.substr(i,2))):o>56319?(c=e.charCodeAt(i+1),FontManager.isVariationSelector(o)&&(h=!0)):FontManager.isZeroWidthJoiner(o)&&(h=!0,d=!0),h?(s[s.length-1]+=g,h=!1):s.push(g),i+=g.length;return s},TextProperty.prototype.completeTextData=function(e){e.__complete=!0;var s=this.elem.globalData.fontManager,i=this.data,a=[],o,c,h,d=0,g,b=i.m.g,_=0,$=0,j=0,st=[],tt=0,nt=0,at,_e,rt=s.getFontByName(e.f),et,it=0,ot=getFontProperties(rt);e.fWeight=ot.weight,e.fStyle=ot.style,e.finalSize=e.s,e.finalText=this.buildFinalText(e.t),c=e.finalText.length,e.finalLineHeight=e.lh;var ut=e.tr/1e3*e.finalSize,ht;if(e.sz)for(var dt=!0,mt=e.sz[0],xt=e.sz[1],St,vt;dt;){vt=this.buildFinalText(e.t),St=0,tt=0,c=vt.length,ut=e.tr/1e3*e.finalSize;var wt=-1;for(o=0;o<c;o+=1)ht=vt[o].charCodeAt(0),h=!1,vt[o]===" "?wt=o:(ht===13||ht===3)&&(tt=0,h=!0,St+=e.finalLineHeight||e.finalSize*1.2),s.chars?(et=s.getCharData(vt[o],rt.fStyle,rt.fFamily),it=h?0:et.w*e.finalSize/100):it=s.measureText(vt[o],e.f,e.finalSize),tt+it>mt&&vt[o]!==" "?(wt===-1?c+=1:o=wt,St+=e.finalLineHeight||e.finalSize*1.2,vt.splice(o,wt===o?1:0,"\r"),wt=-1,tt=0):(tt+=it,tt+=ut);St+=rt.ascent*e.finalSize/100,this.canResize&&e.finalSize>this.minimumFontSize&&xt<St?(e.finalSize-=1,e.finalLineHeight=e.finalSize*e.lh/e.s):(e.finalText=vt,c=e.finalText.length,dt=!1)}tt=-ut,it=0;var _t=0,bt;for(o=0;o<c;o+=1)if(h=!1,bt=e.finalText[o],ht=bt.charCodeAt(0),ht===13||ht===3?(_t=0,st.push(tt),nt=tt>nt?tt:nt,tt=-2*ut,g="",h=!0,j+=1):g=bt,s.chars?(et=s.getCharData(bt,rt.fStyle,s.getFontByName(e.f).fFamily),it=h?0:et.w*e.finalSize/100):it=s.measureText(g,e.f,e.finalSize),bt===" "?_t+=it+ut:(tt+=it+ut+_t,_t=0),a.push({l:it,an:it,add:_,n:h,anIndexes:[],val:g,line:j,animatorJustifyOffset:0}),b==2){if(_+=it,g===""||g===" "||o===c-1){for((g===""||g===" ")&&(_-=it);$<=o;)a[$].an=_,a[$].ind=d,a[$].extra=it,$+=1;d+=1,_=0}}else if(b==3){if(_+=it,g===""||o===c-1){for(g===""&&(_-=it);$<=o;)a[$].an=_,a[$].ind=d,a[$].extra=it,$+=1;_=0,d+=1}}else a[d].ind=d,a[d].extra=0,d+=1;if(e.l=a,nt=tt>nt?tt:nt,st.push(tt),e.sz)e.boxWidth=e.sz[0],e.justifyOffset=0;else switch(e.boxWidth=nt,e.j){case 1:e.justifyOffset=-e.boxWidth;break;case 2:e.justifyOffset=-e.boxWidth/2;break;default:e.justifyOffset=0}e.lineWidths=st;var ft=i.a,pt,lt;_e=ft.length;var ct,yt,gt=[];for(at=0;at<_e;at+=1){for(pt=ft[at],pt.a.sc&&(e.strokeColorAnim=!0),pt.a.sw&&(e.strokeWidthAnim=!0),(pt.a.fc||pt.a.fh||pt.a.fs||pt.a.fb)&&(e.fillColorAnim=!0),yt=0,ct=pt.s.b,o=0;o<c;o+=1)lt=a[o],lt.anIndexes[at]=yt,(ct==1&&lt.val!==""||ct==2&&lt.val!==""&&lt.val!==" "||ct==3&&(lt.n||lt.val==" "||o==c-1)||ct==4&&(lt.n||o==c-1))&&(pt.s.rn===1&&gt.push(yt),yt+=1);i.a[at].s.totalChars=yt;var Et=-1,Pt;if(pt.s.rn===1)for(o=0;o<c;o+=1)lt=a[o],Et!=lt.anIndexes[at]&&(Et=lt.anIndexes[at],Pt=gt.splice(Math.floor(Math.random()*gt.length),1)[0]),lt.anIndexes[at]=Pt}e.yOffset=e.finalLineHeight||e.finalSize*1.2,e.ls=e.ls||0,e.ascent=rt.ascent*e.finalSize/100},TextProperty.prototype.updateDocumentData=function(e,s){s=s===void 0?this.keysIndex:s;var i=this.copyData({},this.data.d.k[s].s);i=this.copyData(i,e),this.data.d.k[s].s=i,this.recalculate(s),this.setCurrentData(i),this.elem.addDynamicProperty(this)},TextProperty.prototype.recalculate=function(e){var s=this.data.d.k[e].s;s.__complete=!1,this.keysIndex=0,this._isFirstFrame=!0,this.getValue(s)},TextProperty.prototype.canResizeFont=function(e){this.canResize=e,this.recalculate(this.keysIndex),this.elem.addDynamicProperty(this)},TextProperty.prototype.setMinimumFontSize=function(e){this.minimumFontSize=Math.floor(e)||1,this.recalculate(this.keysIndex),this.elem.addDynamicProperty(this)};var TextSelectorProp=function(){var e=Math.max,s=Math.min,i=Math.floor;function a(c,h){this._currentTextLength=-1,this.k=!1,this.data=h,this.elem=c,this.comp=c.comp,this.finalS=0,this.finalE=0,this.initDynamicPropertyContainer(c),this.s=PropertyFactory.getProp(c,h.s||{k:0},0,0,this),"e"in h?this.e=PropertyFactory.getProp(c,h.e,0,0,this):this.e={v:100},this.o=PropertyFactory.getProp(c,h.o||{k:0},0,0,this),this.xe=PropertyFactory.getProp(c,h.xe||{k:0},0,0,this),this.ne=PropertyFactory.getProp(c,h.ne||{k:0},0,0,this),this.sm=PropertyFactory.getProp(c,h.sm||{k:100},0,0,this),this.a=PropertyFactory.getProp(c,h.a,0,.01,this),this.dynamicProperties.length||this.getValue()}a.prototype={getMult:function(h){this._currentTextLength!==this.elem.textProperty.currentData.l.length&&this.getValue();var d=0,g=0,b=1,_=1;this.ne.v>0?d=this.ne.v/100:g=-this.ne.v/100,this.xe.v>0?b=1-this.xe.v/100:_=1+this.xe.v/100;var $=BezierFactory.getBezierEasing(d,g,b,_).get,j=0,st=this.finalS,tt=this.finalE,nt=this.data.sh;if(nt===2)tt===st?j=h>=tt?1:0:j=e(0,s(.5/(tt-st)+(h-st)/(tt-st),1)),j=$(j);else if(nt===3)tt===st?j=h>=tt?0:1:j=1-e(0,s(.5/(tt-st)+(h-st)/(tt-st),1)),j=$(j);else if(nt===4)tt===st?j=0:(j=e(0,s(.5/(tt-st)+(h-st)/(tt-st),1)),j<.5?j*=2:j=1-2*(j-.5)),j=$(j);else if(nt===5){if(tt===st)j=0;else{var at=tt-st;h=s(e(0,h+.5-st),tt-st);var _e=-at/2+h,rt=at/2;j=Math.sqrt(1-_e*_e/(rt*rt))}j=$(j)}else nt===6?(tt===st?j=0:(h=s(e(0,h+.5-st),tt-st),j=(1+Math.cos(Math.PI+Math.PI*2*h/(tt-st)))/2),j=$(j)):(h>=i(st)&&(h-st<0?j=e(0,s(s(tt,1)-(st-h),1)):j=e(0,s(tt-h,1))),j=$(j));if(this.sm.v!==100){var et=this.sm.v*.01;et===0&&(et=1e-8);var it=.5-et*.5;j<it?j=0:(j=(j-it)/et,j>1&&(j=1))}return j*this.a.v},getValue:function(h){this.iterateDynamicProperties(),this._mdf=h||this._mdf,this._currentTextLength=this.elem.textProperty.currentData.l.length||0,h&&this.data.r===2&&(this.e.v=this._currentTextLength);var d=this.data.r===2?1:100/this.data.totalChars,g=this.o.v/d,b=this.s.v/d+g,_=this.e.v/d+g;if(b>_){var $=b;b=_,_=$}this.finalS=b,this.finalE=_}},extendPrototype([DynamicPropertyContainer],a);function o(c,h,d){return new a(c,h)}return{getTextSelectorProp:o}}();function TextAnimatorDataProperty(e,s,i){var a={propType:!1},o=PropertyFactory.getProp,c=s.a;this.a={r:c.r?o(e,c.r,0,degToRads,i):a,rx:c.rx?o(e,c.rx,0,degToRads,i):a,ry:c.ry?o(e,c.ry,0,degToRads,i):a,sk:c.sk?o(e,c.sk,0,degToRads,i):a,sa:c.sa?o(e,c.sa,0,degToRads,i):a,s:c.s?o(e,c.s,1,.01,i):a,a:c.a?o(e,c.a,1,0,i):a,o:c.o?o(e,c.o,0,.01,i):a,p:c.p?o(e,c.p,1,0,i):a,sw:c.sw?o(e,c.sw,0,0,i):a,sc:c.sc?o(e,c.sc,1,0,i):a,fc:c.fc?o(e,c.fc,1,0,i):a,fh:c.fh?o(e,c.fh,0,0,i):a,fs:c.fs?o(e,c.fs,0,.01,i):a,fb:c.fb?o(e,c.fb,0,.01,i):a,t:c.t?o(e,c.t,0,0,i):a},this.s=TextSelectorProp.getTextSelectorProp(e,s.s,i),this.s.t=s.s.t}function TextAnimatorProperty(e,s,i){this._isFirstFrame=!0,this._hasMaskedPath=!1,this._frameId=-1,this._textData=e,this._renderType=s,this._elem=i,this._animatorsData=createSizedArray(this._textData.a.length),this._pathData={},this._moreOptions={alignment:{}},this.renderedLetters=[],this.lettersChangedFlag=!1,this.initDynamicPropertyContainer(i)}TextAnimatorProperty.prototype.searchProperties=function(){var e,s=this._textData.a.length,i,a=PropertyFactory.getProp;for(e=0;e<s;e+=1)i=this._textData.a[e],this._animatorsData[e]=new TextAnimatorDataProperty(this._elem,i,this);this._textData.p&&"m"in this._textData.p?(this._pathData={a:a(this._elem,this._textData.p.a,0,0,this),f:a(this._elem,this._textData.p.f,0,0,this),l:a(this._elem,this._textData.p.l,0,0,this),r:a(this._elem,this._textData.p.r,0,0,this),p:a(this._elem,this._textData.p.p,0,0,this),m:this._elem.maskManager.getMaskProperty(this._textData.p.m)},this._hasMaskedPath=!0):this._hasMaskedPath=!1,this._moreOptions.alignment=a(this._elem,this._textData.m.a,1,0,this)},TextAnimatorProperty.prototype.getMeasures=function(e,s){if(this.lettersChangedFlag=s,!(!this._mdf&&!this._isFirstFrame&&!s&&(!this._hasMaskedPath||!this._pathData.m._mdf))){this._isFirstFrame=!1;var i=this._moreOptions.alignment.v,a=this._animatorsData,o=this._textData,c=this.mHelper,h=this._renderType,d=this.renderedLetters.length,g,b,_,$,j=e.l,st,tt,nt,at,_e,rt,et,it,ot,ut,ht,dt,mt,xt,St;if(this._hasMaskedPath){if(St=this._pathData.m,!this._pathData.n||this._pathData._mdf){var vt=St.v;this._pathData.r.v&&(vt=vt.reverse()),st={tLength:0,segments:[]},$=vt._length-1;var wt;for(dt=0,_=0;_<$;_+=1)wt=bez.buildBezierData(vt.v[_],vt.v[_+1],[vt.o[_][0]-vt.v[_][0],vt.o[_][1]-vt.v[_][1]],[vt.i[_+1][0]-vt.v[_+1][0],vt.i[_+1][1]-vt.v[_+1][1]]),st.tLength+=wt.segmentLength,st.segments.push(wt),dt+=wt.segmentLength;_=$,St.v.c&&(wt=bez.buildBezierData(vt.v[_],vt.v[0],[vt.o[_][0]-vt.v[_][0],vt.o[_][1]-vt.v[_][1]],[vt.i[0][0]-vt.v[0][0],vt.i[0][1]-vt.v[0][1]]),st.tLength+=wt.segmentLength,st.segments.push(wt),dt+=wt.segmentLength),this._pathData.pi=st}if(st=this._pathData.pi,tt=this._pathData.f.v,et=0,rt=1,at=0,_e=!0,ut=st.segments,tt<0&&St.v.c)for(st.tLength<Math.abs(tt)&&(tt=-Math.abs(tt)%st.tLength),et=ut.length-1,ot=ut[et].points,rt=ot.length-1;tt<0;)tt+=ot[rt].partialLength,rt-=1,rt<0&&(et-=1,ot=ut[et].points,rt=ot.length-1);ot=ut[et].points,it=ot[rt-1],nt=ot[rt],ht=nt.partialLength}$=j.length,g=0,b=0;var _t=e.finalSize*1.2*.714,bt=!0,ft,pt,lt,ct,yt;ct=a.length;var gt,Et=-1,Pt,Ct,At,jt=tt,It=et,Bt=rt,Gt=-1,Vt,Lt,$t,Mt,Tt,Ht,qt,kt,Rt="",Ft=this.defaultPropsArray,Ot;if(e.j===2||e.j===1){var Nt=0,Ut=0,zt=e.j===2?-.5:-1,Dt=0,Kt=!0;for(_=0;_<$;_+=1)if(j[_].n){for(Nt&&(Nt+=Ut);Dt<_;)j[Dt].animatorJustifyOffset=Nt,Dt+=1;Nt=0,Kt=!0}else{for(lt=0;lt<ct;lt+=1)ft=a[lt].a,ft.t.propType&&(Kt&&e.j===2&&(Ut+=ft.t.v*zt),pt=a[lt].s,gt=pt.getMult(j[_].anIndexes[lt],o.a[lt].s.totalChars),gt.length?Nt+=ft.t.v*gt[0]*zt:Nt+=ft.t.v*gt*zt);Kt=!1}for(Nt&&(Nt+=Ut);Dt<_;)j[Dt].animatorJustifyOffset=Nt,Dt+=1}for(_=0;_<$;_+=1){if(c.reset(),Vt=1,j[_].n)g=0,b+=e.yOffset,b+=bt?1:0,tt=jt,bt=!1,this._hasMaskedPath&&(et=It,rt=Bt,ot=ut[et].points,it=ot[rt-1],nt=ot[rt],ht=nt.partialLength,at=0),Rt="",kt="",Ht="",Ot="",Ft=this.defaultPropsArray;else{if(this._hasMaskedPath){if(Gt!==j[_].line){switch(e.j){case 1:tt+=dt-e.lineWidths[j[_].line];break;case 2:tt+=(dt-e.lineWidths[j[_].line])/2;break}Gt=j[_].line}Et!==j[_].ind&&(j[Et]&&(tt+=j[Et].extra),tt+=j[_].an/2,Et=j[_].ind),tt+=i[0]*j[_].an*.005;var Wt=0;for(lt=0;lt<ct;lt+=1)ft=a[lt].a,ft.p.propType&&(pt=a[lt].s,gt=pt.getMult(j[_].anIndexes[lt],o.a[lt].s.totalChars),gt.length?Wt+=ft.p.v[0]*gt[0]:Wt+=ft.p.v[0]*gt),ft.a.propType&&(pt=a[lt].s,gt=pt.getMult(j[_].anIndexes[lt],o.a[lt].s.totalChars),gt.length?Wt+=ft.a.v[0]*gt[0]:Wt+=ft.a.v[0]*gt);for(_e=!0,this._pathData.a.v&&(tt=j[0].an*.5+(dt-this._pathData.f.v-j[0].an*.5-j[j.length-1].an*.5)*Et/($-1),tt+=this._pathData.f.v);_e;)at+ht>=tt+Wt||!ot?(mt=(tt+Wt-at)/nt.partialLength,Ct=it.point[0]+(nt.point[0]-it.point[0])*mt,At=it.point[1]+(nt.point[1]-it.point[1])*mt,c.translate(-i[0]*j[_].an*.005,-(i[1]*_t)*.01),_e=!1):ot&&(at+=nt.partialLength,rt+=1,rt>=ot.length&&(rt=0,et+=1,ut[et]?ot=ut[et].points:St.v.c?(rt=0,et=0,ot=ut[et].points):(at-=nt.partialLength,ot=null)),ot&&(it=nt,nt=ot[rt],ht=nt.partialLength));Pt=j[_].an/2-j[_].add,c.translate(-Pt,0,0)}else Pt=j[_].an/2-j[_].add,c.translate(-Pt,0,0),c.translate(-i[0]*j[_].an*.005,-i[1]*_t*.01,0);for(lt=0;lt<ct;lt+=1)ft=a[lt].a,ft.t.propType&&(pt=a[lt].s,gt=pt.getMult(j[_].anIndexes[lt],o.a[lt].s.totalChars),(g!==0||e.j!==0)&&(this._hasMaskedPath?gt.length?tt+=ft.t.v*gt[0]:tt+=ft.t.v*gt:gt.length?g+=ft.t.v*gt[0]:g+=ft.t.v*gt));for(e.strokeWidthAnim&&($t=e.sw||0),e.strokeColorAnim&&(e.sc?Lt=[e.sc[0],e.sc[1],e.sc[2]]:Lt=[0,0,0]),e.fillColorAnim&&e.fc&&(Mt=[e.fc[0],e.fc[1],e.fc[2]]),lt=0;lt<ct;lt+=1)ft=a[lt].a,ft.a.propType&&(pt=a[lt].s,gt=pt.getMult(j[_].anIndexes[lt],o.a[lt].s.totalChars),gt.length?c.translate(-ft.a.v[0]*gt[0],-ft.a.v[1]*gt[1],ft.a.v[2]*gt[2]):c.translate(-ft.a.v[0]*gt,-ft.a.v[1]*gt,ft.a.v[2]*gt));for(lt=0;lt<ct;lt+=1)ft=a[lt].a,ft.s.propType&&(pt=a[lt].s,gt=pt.getMult(j[_].anIndexes[lt],o.a[lt].s.totalChars),gt.length?c.scale(1+(ft.s.v[0]-1)*gt[0],1+(ft.s.v[1]-1)*gt[1],1):c.scale(1+(ft.s.v[0]-1)*gt,1+(ft.s.v[1]-1)*gt,1));for(lt=0;lt<ct;lt+=1){if(ft=a[lt].a,pt=a[lt].s,gt=pt.getMult(j[_].anIndexes[lt],o.a[lt].s.totalChars),ft.sk.propType&&(gt.length?c.skewFromAxis(-ft.sk.v*gt[0],ft.sa.v*gt[1]):c.skewFromAxis(-ft.sk.v*gt,ft.sa.v*gt)),ft.r.propType&&(gt.length?c.rotateZ(-ft.r.v*gt[2]):c.rotateZ(-ft.r.v*gt)),ft.ry.propType&&(gt.length?c.rotateY(ft.ry.v*gt[1]):c.rotateY(ft.ry.v*gt)),ft.rx.propType&&(gt.length?c.rotateX(ft.rx.v*gt[0]):c.rotateX(ft.rx.v*gt)),ft.o.propType&&(gt.length?Vt+=(ft.o.v*gt[0]-Vt)*gt[0]:Vt+=(ft.o.v*gt-Vt)*gt),e.strokeWidthAnim&&ft.sw.propType&&(gt.length?$t+=ft.sw.v*gt[0]:$t+=ft.sw.v*gt),e.strokeColorAnim&&ft.sc.propType)for(Tt=0;Tt<3;Tt+=1)gt.length?Lt[Tt]+=(ft.sc.v[Tt]-Lt[Tt])*gt[0]:Lt[Tt]+=(ft.sc.v[Tt]-Lt[Tt])*gt;if(e.fillColorAnim&&e.fc){if(ft.fc.propType)for(Tt=0;Tt<3;Tt+=1)gt.length?Mt[Tt]+=(ft.fc.v[Tt]-Mt[Tt])*gt[0]:Mt[Tt]+=(ft.fc.v[Tt]-Mt[Tt])*gt;ft.fh.propType&&(gt.length?Mt=addHueToRGB(Mt,ft.fh.v*gt[0]):Mt=addHueToRGB(Mt,ft.fh.v*gt)),ft.fs.propType&&(gt.length?Mt=addSaturationToRGB(Mt,ft.fs.v*gt[0]):Mt=addSaturationToRGB(Mt,ft.fs.v*gt)),ft.fb.propType&&(gt.length?Mt=addBrightnessToRGB(Mt,ft.fb.v*gt[0]):Mt=addBrightnessToRGB(Mt,ft.fb.v*gt))}}for(lt=0;lt<ct;lt+=1)ft=a[lt].a,ft.p.propType&&(pt=a[lt].s,gt=pt.getMult(j[_].anIndexes[lt],o.a[lt].s.totalChars),this._hasMaskedPath?gt.length?c.translate(0,ft.p.v[1]*gt[0],-ft.p.v[2]*gt[1]):c.translate(0,ft.p.v[1]*gt,-ft.p.v[2]*gt):gt.length?c.translate(ft.p.v[0]*gt[0],ft.p.v[1]*gt[1],-ft.p.v[2]*gt[2]):c.translate(ft.p.v[0]*gt,ft.p.v[1]*gt,-ft.p.v[2]*gt));if(e.strokeWidthAnim&&(Ht=$t<0?0:$t),e.strokeColorAnim&&(qt="rgb("+Math.round(Lt[0]*255)+","+Math.round(Lt[1]*255)+","+Math.round(Lt[2]*255)+")"),e.fillColorAnim&&e.fc&&(kt="rgb("+Math.round(Mt[0]*255)+","+Math.round(Mt[1]*255)+","+Math.round(Mt[2]*255)+")"),this._hasMaskedPath){if(c.translate(0,-e.ls),c.translate(0,i[1]*_t*.01+b,0),this._pathData.p.v){xt=(nt.point[1]-it.point[1])/(nt.point[0]-it.point[0]);var Xt=Math.atan(xt)*180/Math.PI;nt.point[0]<it.point[0]&&(Xt+=180),c.rotate(-Xt*Math.PI/180)}c.translate(Ct,At,0),tt-=i[0]*j[_].an*.005,j[_+1]&&Et!==j[_+1].ind&&(tt+=j[_].an/2,tt+=e.tr*.001*e.finalSize)}else{switch(c.translate(g,b,0),e.ps&&c.translate(e.ps[0],e.ps[1]+e.ascent,0),e.j){case 1:c.translate(j[_].animatorJustifyOffset+e.justifyOffset+(e.boxWidth-e.lineWidths[j[_].line]),0,0);break;case 2:c.translate(j[_].animatorJustifyOffset+e.justifyOffset+(e.boxWidth-e.lineWidths[j[_].line])/2,0,0);break}c.translate(0,-e.ls),c.translate(Pt,0,0),c.translate(i[0]*j[_].an*.005,i[1]*_t*.01,0),g+=j[_].l+e.tr*.001*e.finalSize}h==="html"?Rt=c.toCSS():h==="svg"?Rt=c.to2dCSS():Ft=[c.props[0],c.props[1],c.props[2],c.props[3],c.props[4],c.props[5],c.props[6],c.props[7],c.props[8],c.props[9],c.props[10],c.props[11],c.props[12],c.props[13],c.props[14],c.props[15]],Ot=Vt}d<=_?(yt=new LetterProps(Ot,Ht,qt,kt,Rt,Ft),this.renderedLetters.push(yt),d+=1,this.lettersChangedFlag=!0):(yt=this.renderedLetters[_],this.lettersChangedFlag=yt.update(Ot,Ht,qt,kt,Rt,Ft)||this.lettersChangedFlag)}}},TextAnimatorProperty.prototype.getValue=function(){this._elem.globalData.frameId!==this._frameId&&(this._frameId=this._elem.globalData.frameId,this.iterateDynamicProperties())},TextAnimatorProperty.prototype.mHelper=new Matrix,TextAnimatorProperty.prototype.defaultPropsArray=[],extendPrototype([DynamicPropertyContainer],TextAnimatorProperty);function ITextElement(){}ITextElement.prototype.initElement=function(e,s,i){this.lettersChangedFlag=!0,this.initFrame(),this.initBaseData(e,s,i),this.textProperty=new TextProperty(this,e.t,this.dynamicProperties),this.textAnimator=new TextAnimatorProperty(e.t,this.renderType,this),this.initTransform(e,s,i),this.initHierarchy(),this.initRenderable(),this.initRendererElement(),this.createContainerElements(),this.createRenderableComponents(),this.createContent(),this.hide(),this.textAnimator.searchProperties(this.dynamicProperties)},ITextElement.prototype.prepareFrame=function(e){this._mdf=!1,this.prepareRenderableFrame(e),this.prepareProperties(e,this.isInRange)},ITextElement.prototype.createPathShape=function(e,s){var i,a=s.length,o,c="";for(i=0;i<a;i+=1)s[i].ty==="sh"&&(o=s[i].ks.k,c+=buildShapeString(o,o.i.length,!0,e));return c},ITextElement.prototype.updateDocumentData=function(e,s){this.textProperty.updateDocumentData(e,s)},ITextElement.prototype.canResizeFont=function(e){this.textProperty.canResizeFont(e)},ITextElement.prototype.setMinimumFontSize=function(e){this.textProperty.setMinimumFontSize(e)},ITextElement.prototype.applyTextPropertiesToMatrix=function(e,s,i,a,o){switch(e.ps&&s.translate(e.ps[0],e.ps[1]+e.ascent,0),s.translate(0,-e.ls,0),e.j){case 1:s.translate(e.justifyOffset+(e.boxWidth-e.lineWidths[i]),0,0);break;case 2:s.translate(e.justifyOffset+(e.boxWidth-e.lineWidths[i])/2,0,0);break}s.translate(a,o,0)},ITextElement.prototype.buildColor=function(e){return"rgb("+Math.round(e[0]*255)+","+Math.round(e[1]*255)+","+Math.round(e[2]*255)+")"},ITextElement.prototype.emptyProp=new LetterProps,ITextElement.prototype.destroy=function(){},ITextElement.prototype.validateText=function(){(this.textProperty._mdf||this.textProperty._isFirstFrame)&&(this.buildNewText(),this.textProperty._isFirstFrame=!1,this.textProperty._mdf=!1)};var emptyShapeData={shapes:[]};function SVGTextLottieElement(e,s,i){this.textSpans=[],this.renderType="svg",this.initElement(e,s,i)}extendPrototype([BaseElement,TransformElement,SVGBaseElement,HierarchyElement,FrameElement,RenderableDOMElement,ITextElement],SVGTextLottieElement),SVGTextLottieElement.prototype.createContent=function(){this.data.singleShape&&!this.globalData.fontManager.chars&&(this.textContainer=createNS("text"))},SVGTextLottieElement.prototype.buildTextContents=function(e){for(var s=0,i=e.length,a=[],o="";s<i;)e[s]==="\r"||e[s]===""?(a.push(o),o=""):o+=e[s],s+=1;return a.push(o),a},SVGTextLottieElement.prototype.buildShapeData=function(e,s){if(e.shapes&&e.shapes.length){var i=e.shapes[0];if(i.it){var a=i.it[i.it.length-1];a.s&&(a.s.k[0]=s,a.s.k[1]=s)}}return e},SVGTextLottieElement.prototype.buildNewText=function(){this.addDynamicProperty(this);var e,s,i=this.textProperty.currentData;this.renderedLetters=createSizedArray(i?i.l.length:0),i.fc?this.layerElement.setAttribute("fill",this.buildColor(i.fc)):this.layerElement.setAttribute("fill","rgba(0,0,0,0)"),i.sc&&(this.layerElement.setAttribute("stroke",this.buildColor(i.sc)),this.layerElement.setAttribute("stroke-width",i.sw)),this.layerElement.setAttribute("font-size",i.finalSize);var a=this.globalData.fontManager.getFontByName(i.f);if(a.fClass)this.layerElement.setAttribute("class",a.fClass);else{this.layerElement.setAttribute("font-family",a.fFamily);var o=i.fWeight,c=i.fStyle;this.layerElement.setAttribute("font-style",c),this.layerElement.setAttribute("font-weight",o)}this.layerElement.setAttribute("aria-label",i.t);var h=i.l||[],d=!!this.globalData.fontManager.chars;s=h.length;var g,b=this.mHelper,_="",$=this.data.singleShape,j=0,st=0,tt=!0,nt=i.tr*.001*i.finalSize;if($&&!d&&!i.sz){var at=this.textContainer,_e="start";switch(i.j){case 1:_e="end";break;case 2:_e="middle";break;default:_e="start";break}at.setAttribute("text-anchor",_e),at.setAttribute("letter-spacing",nt);var rt=this.buildTextContents(i.finalText);for(s=rt.length,st=i.ps?i.ps[1]+i.ascent:0,e=0;e<s;e+=1)g=this.textSpans[e].span||createNS("tspan"),g.textContent=rt[e],g.setAttribute("x",0),g.setAttribute("y",st),g.style.display="inherit",at.appendChild(g),this.textSpans[e]||(this.textSpans[e]={span:null,glyph:null}),this.textSpans[e].span=g,st+=i.finalLineHeight;this.layerElement.appendChild(at)}else{var et=this.textSpans.length,it;for(e=0;e<s;e+=1){if(this.textSpans[e]||(this.textSpans[e]={span:null,childSpan:null,glyph:null}),!d||!$||e===0){if(g=et>e?this.textSpans[e].span:createNS(d?"g":"text"),et<=e){if(g.setAttribute("stroke-linecap","butt"),g.setAttribute("stroke-linejoin","round"),g.setAttribute("stroke-miterlimit","4"),this.textSpans[e].span=g,d){var ot=createNS("g");g.appendChild(ot),this.textSpans[e].childSpan=ot}this.textSpans[e].span=g,this.layerElement.appendChild(g)}g.style.display="inherit"}if(b.reset(),$&&(h[e].n&&(j=-nt,st+=i.yOffset,st+=tt?1:0,tt=!1),this.applyTextPropertiesToMatrix(i,b,h[e].line,j,st),j+=h[e].l||0,j+=nt),d){it=this.globalData.fontManager.getCharData(i.finalText[e],a.fStyle,this.globalData.fontManager.getFontByName(i.f).fFamily);var ut;if(it.t===1)ut=new SVGCompElement(it.data,this.globalData,this);else{var ht=emptyShapeData;it.data&&it.data.shapes&&(ht=this.buildShapeData(it.data,i.finalSize)),ut=new SVGShapeElement(ht,this.globalData,this)}if(this.textSpans[e].glyph){var dt=this.textSpans[e].glyph;this.textSpans[e].childSpan.removeChild(dt.layerElement),dt.destroy()}this.textSpans[e].glyph=ut,ut._debug=!0,ut.prepareFrame(0),ut.renderFrame(),this.textSpans[e].childSpan.appendChild(ut.layerElement),it.t===1&&this.textSpans[e].childSpan.setAttribute("transform","scale("+i.finalSize/100+","+i.finalSize/100+")")}else $&&g.setAttribute("transform","translate("+b.props[12]+","+b.props[13]+")"),g.textContent=h[e].val,g.setAttributeNS("http://www.w3.org/XML/1998/namespace","xml:space","preserve")}$&&g&&g.setAttribute("d",_)}for(;e<this.textSpans.length;)this.textSpans[e].span.style.display="none",e+=1;this._sizeChanged=!0},SVGTextLottieElement.prototype.sourceRectAtTime=function(){if(this.prepareFrame(this.comp.renderedFrame-this.data.st),this.renderInnerContent(),this._sizeChanged){this._sizeChanged=!1;var e=this.layerElement.getBBox();this.bbox={top:e.y,left:e.x,width:e.width,height:e.height}}return this.bbox},SVGTextLottieElement.prototype.getValue=function(){var e,s=this.textSpans.length,i;for(this.renderedFrame=this.comp.renderedFrame,e=0;e<s;e+=1)i=this.textSpans[e].glyph,i&&(i.prepareFrame(this.comp.renderedFrame-this.data.st),i._mdf&&(this._mdf=!0))},SVGTextLottieElement.prototype.renderInnerContent=function(){if(this.validateText(),(!this.data.singleShape||this._mdf)&&(this.textAnimator.getMeasures(this.textProperty.currentData,this.lettersChangedFlag),this.lettersChangedFlag||this.textAnimator.lettersChangedFlag)){this._sizeChanged=!0;var e,s,i=this.textAnimator.renderedLetters,a=this.textProperty.currentData.l;s=a.length;var o,c,h;for(e=0;e<s;e+=1)a[e].n||(o=i[e],c=this.textSpans[e].span,h=this.textSpans[e].glyph,h&&h.renderFrame(),o._mdf.m&&c.setAttribute("transform",o.m),o._mdf.o&&c.setAttribute("opacity",o.o),o._mdf.sw&&c.setAttribute("stroke-width",o.sw),o._mdf.sc&&c.setAttribute("stroke",o.sc),o._mdf.fc&&c.setAttribute("fill",o.fc))}};function ISolidElement(e,s,i){this.initElement(e,s,i)}extendPrototype([IImageElement],ISolidElement),ISolidElement.prototype.createContent=function(){var e=createNS("rect");e.setAttribute("width",this.data.sw),e.setAttribute("height",this.data.sh),e.setAttribute("fill",this.data.sc),this.layerElement.appendChild(e)};function NullElement(e,s,i){this.initFrame(),this.initBaseData(e,s,i),this.initFrame(),this.initTransform(e,s,i),this.initHierarchy()}NullElement.prototype.prepareFrame=function(e){this.prepareProperties(e,!0)},NullElement.prototype.renderFrame=function(){},NullElement.prototype.getBaseElement=function(){return null},NullElement.prototype.destroy=function(){},NullElement.prototype.sourceRectAtTime=function(){},NullElement.prototype.hide=function(){},extendPrototype([BaseElement,TransformElement,HierarchyElement,FrameElement],NullElement);function SVGRendererBase(){}extendPrototype([BaseRenderer],SVGRendererBase),SVGRendererBase.prototype.createNull=function(e){return new NullElement(e,this.globalData,this)},SVGRendererBase.prototype.createShape=function(e){return new SVGShapeElement(e,this.globalData,this)},SVGRendererBase.prototype.createText=function(e){return new SVGTextLottieElement(e,this.globalData,this)},SVGRendererBase.prototype.createImage=function(e){return new IImageElement(e,this.globalData,this)},SVGRendererBase.prototype.createSolid=function(e){return new ISolidElement(e,this.globalData,this)},SVGRendererBase.prototype.configAnimation=function(e){this.svgElement.setAttribute("xmlns","http://www.w3.org/2000/svg"),this.svgElement.setAttribute("xmlns:xlink","http://www.w3.org/1999/xlink"),this.renderConfig.viewBoxSize?this.svgElement.setAttribute("viewBox",this.renderConfig.viewBoxSize):this.svgElement.setAttribute("viewBox","0 0 "+e.w+" "+e.h),this.renderConfig.viewBoxOnly||(this.svgElement.setAttribute("width",e.w),this.svgElement.setAttribute("height",e.h),this.svgElement.style.width="100%",this.svgElement.style.height="100%",this.svgElement.style.transform="translate3d(0,0,0)",this.svgElement.style.contentVisibility=this.renderConfig.contentVisibility),this.renderConfig.width&&this.svgElement.setAttribute("width",this.renderConfig.width),this.renderConfig.height&&this.svgElement.setAttribute("height",this.renderConfig.height),this.renderConfig.className&&this.svgElement.setAttribute("class",this.renderConfig.className),this.renderConfig.id&&this.svgElement.setAttribute("id",this.renderConfig.id),this.renderConfig.focusable!==void 0&&this.svgElement.setAttribute("focusable",this.renderConfig.focusable),this.svgElement.setAttribute("preserveAspectRatio",this.renderConfig.preserveAspectRatio),this.animationItem.wrapper.appendChild(this.svgElement);var s=this.globalData.defs;this.setupGlobalData(e,s),this.globalData.progressiveLoad=this.renderConfig.progressiveLoad,this.data=e;var i=createNS("clipPath"),a=createNS("rect");a.setAttribute("width",e.w),a.setAttribute("height",e.h),a.setAttribute("x",0),a.setAttribute("y",0);var o=createElementID();i.setAttribute("id",o),i.appendChild(a),this.layerElement.setAttribute("clip-path","url("+getLocationHref()+"#"+o+")"),s.appendChild(i),this.layers=e.layers,this.elements=createSizedArray(e.layers.length)},SVGRendererBase.prototype.destroy=function(){this.animationItem.wrapper&&(this.animationItem.wrapper.innerText=""),this.layerElement=null,this.globalData.defs=null;var e,s=this.layers?this.layers.length:0;for(e=0;e<s;e+=1)this.elements[e]&&this.elements[e].destroy&&this.elements[e].destroy();this.elements.length=0,this.destroyed=!0,this.animationItem=null},SVGRendererBase.prototype.updateContainerSize=function(){},SVGRendererBase.prototype.findIndexByInd=function(e){var s=0,i=this.layers.length;for(s=0;s<i;s+=1)if(this.layers[s].ind===e)return s;return-1},SVGRendererBase.prototype.buildItem=function(e){var s=this.elements;if(!(s[e]||this.layers[e].ty===99)){s[e]=!0;var i=this.createItem(this.layers[e]);if(s[e]=i,getExpressionsPlugin()&&(this.layers[e].ty===0&&this.globalData.projectInterface.registerComposition(i),i.initExpressions()),this.appendElementInPos(i,e),this.layers[e].tt){var a="tp"in this.layers[e]?this.findIndexByInd(this.layers[e].tp):e-1;if(a===-1)return;if(!this.elements[a]||this.elements[a]===!0)this.buildItem(a),this.addPendingElement(i);else{var o=s[a],c=o.getMatte(this.layers[e].tt);i.setMatte(c)}}}},SVGRendererBase.prototype.checkPendingElements=function(){for(;this.pendingElements.length;){var e=this.pendingElements.pop();if(e.checkParenting(),e.data.tt)for(var s=0,i=this.elements.length;s<i;){if(this.elements[s]===e){var a="tp"in e.data?this.findIndexByInd(e.data.tp):s-1,o=this.elements[a],c=o.getMatte(this.layers[s].tt);e.setMatte(c);break}s+=1}}},SVGRendererBase.prototype.renderFrame=function(e){if(!(this.renderedFrame===e||this.destroyed)){e===null?e=this.renderedFrame:this.renderedFrame=e,this.globalData.frameNum=e,this.globalData.frameId+=1,this.globalData.projectInterface.currentFrame=e,this.globalData._mdf=!1;var s,i=this.layers.length;for(this.completeLayers||this.checkLayers(e),s=i-1;s>=0;s-=1)(this.completeLayers||this.elements[s])&&this.elements[s].prepareFrame(e-this.layers[s].st);if(this.globalData._mdf)for(s=0;s<i;s+=1)(this.completeLayers||this.elements[s])&&this.elements[s].renderFrame()}},SVGRendererBase.prototype.appendElementInPos=function(e,s){var i=e.getBaseElement();if(i){for(var a=0,o;a<s;)this.elements[a]&&this.elements[a]!==!0&&this.elements[a].getBaseElement()&&(o=this.elements[a].getBaseElement()),a+=1;o?this.layerElement.insertBefore(i,o):this.layerElement.appendChild(i)}},SVGRendererBase.prototype.hide=function(){this.layerElement.style.display="none"},SVGRendererBase.prototype.show=function(){this.layerElement.style.display="block"};function ICompElement(){}extendPrototype([BaseElement,TransformElement,HierarchyElement,FrameElement,RenderableDOMElement],ICompElement),ICompElement.prototype.initElement=function(e,s,i){this.initFrame(),this.initBaseData(e,s,i),this.initTransform(e,s,i),this.initRenderable(),this.initHierarchy(),this.initRendererElement(),this.createContainerElements(),this.createRenderableComponents(),(this.data.xt||!s.progressiveLoad)&&this.buildAllItems(),this.hide()},ICompElement.prototype.prepareFrame=function(e){if(this._mdf=!1,this.prepareRenderableFrame(e),this.prepareProperties(e,this.isInRange),!(!this.isInRange&&!this.data.xt)){if(this.tm._placeholder)this.renderedFrame=e/this.data.sr;else{var s=this.tm.v;s===this.data.op&&(s=this.data.op-1),this.renderedFrame=s}var i,a=this.elements.length;for(this.completeLayers||this.checkLayers(this.renderedFrame),i=a-1;i>=0;i-=1)(this.completeLayers||this.elements[i])&&(this.elements[i].prepareFrame(this.renderedFrame-this.layers[i].st),this.elements[i]._mdf&&(this._mdf=!0))}},ICompElement.prototype.renderInnerContent=function(){var e,s=this.layers.length;for(e=0;e<s;e+=1)(this.completeLayers||this.elements[e])&&this.elements[e].renderFrame()},ICompElement.prototype.setElements=function(e){this.elements=e},ICompElement.prototype.getElements=function(){return this.elements},ICompElement.prototype.destroyElements=function(){var e,s=this.layers.length;for(e=0;e<s;e+=1)this.elements[e]&&this.elements[e].destroy()},ICompElement.prototype.destroy=function(){this.destroyElements(),this.destroyBaseElement()};function SVGCompElement(e,s,i){this.layers=e.layers,this.supports3d=!0,this.completeLayers=!1,this.pendingElements=[],this.elements=this.layers?createSizedArray(this.layers.length):[],this.initElement(e,s,i),this.tm=e.tm?PropertyFactory.getProp(this,e.tm,0,s.frameRate,this):{_placeholder:!0}}extendPrototype([SVGRendererBase,ICompElement,SVGBaseElement],SVGCompElement),SVGCompElement.prototype.createComp=function(e){return new SVGCompElement(e,this.globalData,this)};function SVGRenderer(e,s){this.animationItem=e,this.layers=null,this.renderedFrame=-1,this.svgElement=createNS("svg");var i="";if(s&&s.title){var a=createNS("title"),o=createElementID();a.setAttribute("id",o),a.textContent=s.title,this.svgElement.appendChild(a),i+=o}if(s&&s.description){var c=createNS("desc"),h=createElementID();c.setAttribute("id",h),c.textContent=s.description,this.svgElement.appendChild(c),i+=" "+h}i&&this.svgElement.setAttribute("aria-labelledby",i);var d=createNS("defs");this.svgElement.appendChild(d);var g=createNS("g");this.svgElement.appendChild(g),this.layerElement=g,this.renderConfig={preserveAspectRatio:s&&s.preserveAspectRatio||"xMidYMid meet",imagePreserveAspectRatio:s&&s.imagePreserveAspectRatio||"xMidYMid slice",contentVisibility:s&&s.contentVisibility||"visible",progressiveLoad:s&&s.progressiveLoad||!1,hideOnTransparent:!(s&&s.hideOnTransparent===!1),viewBoxOnly:s&&s.viewBoxOnly||!1,viewBoxSize:s&&s.viewBoxSize||!1,className:s&&s.className||"",id:s&&s.id||"",focusable:s&&s.focusable,filterSize:{width:s&&s.filterSize&&s.filterSize.width||"100%",height:s&&s.filterSize&&s.filterSize.height||"100%",x:s&&s.filterSize&&s.filterSize.x||"0%",y:s&&s.filterSize&&s.filterSize.y||"0%"},width:s&&s.width,height:s&&s.height,runExpressions:!s||s.runExpressions===void 0||s.runExpressions},this.globalData={_mdf:!1,frameNum:-1,defs:d,renderConfig:this.renderConfig},this.elements=[],this.pendingElements=[],this.destroyed=!1,this.rendererType="svg"}extendPrototype([SVGRendererBase],SVGRenderer),SVGRenderer.prototype.createComp=function(e){return new SVGCompElement(e,this.globalData,this)};function ShapeTransformManager(){this.sequences={},this.sequenceList=[],this.transform_key_count=0}ShapeTransformManager.prototype={addTransformSequence:function(s){var i,a=s.length,o="_";for(i=0;i<a;i+=1)o+=s[i].transform.key+"_";var c=this.sequences[o];return c||(c={transforms:[].concat(s),finalTransform:new Matrix,_mdf:!1},this.sequences[o]=c,this.sequenceList.push(c)),c},processSequence:function(s,i){for(var a=0,o=s.transforms.length,c=i;a<o&&!i;){if(s.transforms[a].transform.mProps._mdf){c=!0;break}a+=1}if(c)for(s.finalTransform.reset(),a=o-1;a>=0;a-=1)s.finalTransform.multiply(s.transforms[a].transform.mProps.v);s._mdf=c},processSequences:function(s){var i,a=this.sequenceList.length;for(i=0;i<a;i+=1)this.processSequence(this.sequenceList[i],s)},getNewKey:function(){return this.transform_key_count+=1,"_"+this.transform_key_count}};var lumaLoader=function(){var s="__lottie_element_luma_buffer",i=null,a=null,o=null;function c(){var g=createNS("svg"),b=createNS("filter"),_=createNS("feColorMatrix");return b.setAttribute("id",s),_.setAttribute("type","matrix"),_.setAttribute("color-interpolation-filters","sRGB"),_.setAttribute("values","0.3, 0.3, 0.3, 0, 0, 0.3, 0.3, 0.3, 0, 0, 0.3, 0.3, 0.3, 0, 0, 0.3, 0.3, 0.3, 0, 0"),b.appendChild(_),g.appendChild(b),g.setAttribute("id",s+"_svg"),featureSupport.svgLumaHidden&&(g.style.display="none"),g}function h(){i||(o=c(),document.body.appendChild(o),i=createTag("canvas"),a=i.getContext("2d"),a.filter="url(#"+s+")",a.fillStyle="rgba(0,0,0,0)",a.fillRect(0,0,1,1))}function d(g){return i||h(),i.width=g.width,i.height=g.height,a.filter="url(#"+s+")",i}return{load:h,get:d}};function createCanvas(e,s){if(featureSupport.offscreenCanvas)return new OffscreenCanvas(e,s);var i=createTag("canvas");return i.width=e,i.height=s,i}var assetLoader=function(){return{loadLumaCanvas:lumaLoader.load,getLumaCanvas:lumaLoader.get,createCanvas}}(),registeredEffects={};function CVEffects(e){var s,i=e.data.ef?e.data.ef.length:0;this.filters=[];var a;for(s=0;s<i;s+=1){a=null;var o=e.data.ef[s].ty;if(registeredEffects[o]){var c=registeredEffects[o].effect;a=new c(e.effectsManager.effectElements[s],e)}a&&this.filters.push(a)}this.filters.length&&e.addRenderableComponent(this)}CVEffects.prototype.renderFrame=function(e){var s,i=this.filters.length;for(s=0;s<i;s+=1)this.filters[s].renderFrame(e)},CVEffects.prototype.getEffects=function(e){var s,i=this.filters.length,a=[];for(s=0;s<i;s+=1)this.filters[s].type===e&&a.push(this.filters[s]);return a};function registerEffect(e,s){registeredEffects[e]={effect:s}}function CVMaskElement(e,s){this.data=e,this.element=s,this.masksProperties=this.data.masksProperties||[],this.viewData=createSizedArray(this.masksProperties.length);var i,a=this.masksProperties.length,o=!1;for(i=0;i<a;i+=1)this.masksProperties[i].mode!=="n"&&(o=!0),this.viewData[i]=ShapePropertyFactory.getShapeProp(this.element,this.masksProperties[i],3);this.hasMasks=o,o&&this.element.addRenderableComponent(this)}CVMaskElement.prototype.renderFrame=function(){if(this.hasMasks){var e=this.element.finalTransform.mat,s=this.element.canvasContext,i,a=this.masksProperties.length,o,c,h;for(s.beginPath(),i=0;i<a;i+=1)if(this.masksProperties[i].mode!=="n"){this.masksProperties[i].inv&&(s.moveTo(0,0),s.lineTo(this.element.globalData.compSize.w,0),s.lineTo(this.element.globalData.compSize.w,this.element.globalData.compSize.h),s.lineTo(0,this.element.globalData.compSize.h),s.lineTo(0,0)),h=this.viewData[i].v,o=e.applyToPointArray(h.v[0][0],h.v[0][1],0),s.moveTo(o[0],o[1]);var d,g=h._length;for(d=1;d<g;d+=1)c=e.applyToTriplePoints(h.o[d-1],h.i[d],h.v[d]),s.bezierCurveTo(c[0],c[1],c[2],c[3],c[4],c[5]);c=e.applyToTriplePoints(h.o[d-1],h.i[0],h.v[0]),s.bezierCurveTo(c[0],c[1],c[2],c[3],c[4],c[5])}this.element.globalData.renderer.save(!0),s.clip()}},CVMaskElement.prototype.getMaskProperty=MaskElement.prototype.getMaskProperty,CVMaskElement.prototype.destroy=function(){this.element=null};function CVBaseElement(){}var operationsMap={1:"source-in",2:"source-out",3:"source-in",4:"source-out"};CVBaseElement.prototype={createElements:function(){},initRendererElement:function(){},createContainerElements:function(){if(this.data.tt>=1){this.buffers=[];var s=this.globalData.canvasContext,i=assetLoader.createCanvas(s.canvas.width,s.canvas.height);this.buffers.push(i);var a=assetLoader.createCanvas(s.canvas.width,s.canvas.height);this.buffers.push(a),this.data.tt>=3&&!document._isProxy&&assetLoader.loadLumaCanvas()}this.canvasContext=this.globalData.canvasContext,this.transformCanvas=this.globalData.transformCanvas,this.renderableEffectsManager=new CVEffects(this),this.searchEffectTransforms()},createContent:function(){},setBlendMode:function(){var s=this.globalData;if(s.blendMode!==this.data.bm){s.blendMode=this.data.bm;var i=getBlendMode(this.data.bm);s.canvasContext.globalCompositeOperation=i}},createRenderableComponents:function(){this.maskManager=new CVMaskElement(this.data,this),this.transformEffects=this.renderableEffectsManager.getEffects(effectTypes.TRANSFORM_EFFECT)},hideElement:function(){!this.hidden&&(!this.isInRange||this.isTransparent)&&(this.hidden=!0)},showElement:function(){this.isInRange&&!this.isTransparent&&(this.hidden=!1,this._isFirstFrame=!0,this.maskManager._isFirstFrame=!0)},clearCanvas:function(s){s.clearRect(this.transformCanvas.tx,this.transformCanvas.ty,this.transformCanvas.w*this.transformCanvas.sx,this.transformCanvas.h*this.transformCanvas.sy)},prepareLayer:function(){if(this.data.tt>=1){var s=this.buffers[0],i=s.getContext("2d");this.clearCanvas(i),i.drawImage(this.canvasContext.canvas,0,0),this.currentTransform=this.canvasContext.getTransform(),this.canvasContext.setTransform(1,0,0,1,0,0),this.clearCanvas(this.canvasContext),this.canvasContext.setTransform(this.currentTransform)}},exitLayer:function(){if(this.data.tt>=1){var s=this.buffers[1],i=s.getContext("2d");this.clearCanvas(i),i.drawImage(this.canvasContext.canvas,0,0),this.canvasContext.setTransform(1,0,0,1,0,0),this.clearCanvas(this.canvasContext),this.canvasContext.setTransform(this.currentTransform);var a=this.comp.getElementById("tp"in this.data?this.data.tp:this.data.ind-1);if(a.renderFrame(!0),this.canvasContext.setTransform(1,0,0,1,0,0),this.data.tt>=3&&!document._isProxy){var o=assetLoader.getLumaCanvas(this.canvasContext.canvas),c=o.getContext("2d");c.drawImage(this.canvasContext.canvas,0,0),this.clearCanvas(this.canvasContext),this.canvasContext.drawImage(o,0,0)}this.canvasContext.globalCompositeOperation=operationsMap[this.data.tt],this.canvasContext.drawImage(s,0,0),this.canvasContext.globalCompositeOperation="destination-over",this.canvasContext.drawImage(this.buffers[0],0,0),this.canvasContext.setTransform(this.currentTransform),this.canvasContext.globalCompositeOperation="source-over"}},renderFrame:function(s){if(!(this.hidden||this.data.hd)&&!(this.data.td===1&&!s)){this.renderTransform(),this.renderRenderable(),this.renderLocalTransform(),this.setBlendMode();var i=this.data.ty===0;this.prepareLayer(),this.globalData.renderer.save(i),this.globalData.renderer.ctxTransform(this.finalTransform.localMat.props),this.globalData.renderer.ctxOpacity(this.finalTransform.localOpacity),this.renderInnerContent(),this.globalData.renderer.restore(i),this.exitLayer(),this.maskManager.hasMasks&&this.globalData.renderer.restore(!0),this._isFirstFrame&&(this._isFirstFrame=!1)}},destroy:function(){this.canvasContext=null,this.data=null,this.globalData=null,this.maskManager.destroy()},mHelper:new Matrix},CVBaseElement.prototype.hide=CVBaseElement.prototype.hideElement,CVBaseElement.prototype.show=CVBaseElement.prototype.showElement;function CVShapeData(e,s,i,a){this.styledShapes=[],this.tr=[0,0,0,0,0,0];var o=4;s.ty==="rc"?o=5:s.ty==="el"?o=6:s.ty==="sr"&&(o=7),this.sh=ShapePropertyFactory.getShapeProp(e,s,o,e);var c,h=i.length,d;for(c=0;c<h;c+=1)i[c].closed||(d={transforms:a.addTransformSequence(i[c].transforms),trNodes:[]},this.styledShapes.push(d),i[c].elements.push(d))}CVShapeData.prototype.setAsAnimated=SVGShapeData.prototype.setAsAnimated;function CVShapeElement(e,s,i){this.shapes=[],this.shapesData=e.shapes,this.stylesList=[],this.itemsData=[],this.prevViewData=[],this.shapeModifiers=[],this.processedElements=[],this.transformsManager=new ShapeTransformManager,this.initElement(e,s,i)}extendPrototype([BaseElement,TransformElement,CVBaseElement,IShapeElement,HierarchyElement,FrameElement,RenderableElement],CVShapeElement),CVShapeElement.prototype.initElement=RenderableDOMElement.prototype.initElement,CVShapeElement.prototype.transformHelper={opacity:1,_opMdf:!1},CVShapeElement.prototype.dashResetter=[],CVShapeElement.prototype.createContent=function(){this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,!0,[])},CVShapeElement.prototype.createStyleElement=function(e,s){var i={data:e,type:e.ty,preTransforms:this.transformsManager.addTransformSequence(s),transforms:[],elements:[],closed:e.hd===!0},a={};if(e.ty==="fl"||e.ty==="st"?(a.c=PropertyFactory.getProp(this,e.c,1,255,this),a.c.k||(i.co="rgb("+bmFloor(a.c.v[0])+","+bmFloor(a.c.v[1])+","+bmFloor(a.c.v[2])+")")):(e.ty==="gf"||e.ty==="gs")&&(a.s=PropertyFactory.getProp(this,e.s,1,null,this),a.e=PropertyFactory.getProp(this,e.e,1,null,this),a.h=PropertyFactory.getProp(this,e.h||{k:0},0,.01,this),a.a=PropertyFactory.getProp(this,e.a||{k:0},0,degToRads,this),a.g=new GradientProperty(this,e.g,this)),a.o=PropertyFactory.getProp(this,e.o,0,.01,this),e.ty==="st"||e.ty==="gs"){if(i.lc=lineCapEnum[e.lc||2],i.lj=lineJoinEnum[e.lj||2],e.lj==1&&(i.ml=e.ml),a.w=PropertyFactory.getProp(this,e.w,0,null,this),a.w.k||(i.wi=a.w.v),e.d){var o=new DashProperty(this,e.d,"canvas",this);a.d=o,a.d.k||(i.da=a.d.dashArray,i.do=a.d.dashoffset[0])}}else i.r=e.r===2?"evenodd":"nonzero";return this.stylesList.push(i),a.style=i,a},CVShapeElement.prototype.createGroupElement=function(){var e={it:[],prevViewData:[]};return e},CVShapeElement.prototype.createTransformElement=function(e){var s={transform:{opacity:1,_opMdf:!1,key:this.transformsManager.getNewKey(),op:PropertyFactory.getProp(this,e.o,0,.01,this),mProps:TransformPropertyFactory.getTransformProperty(this,e,this)}};return s},CVShapeElement.prototype.createShapeElement=function(e){var s=new CVShapeData(this,e,this.stylesList,this.transformsManager);return this.shapes.push(s),this.addShapeToModifiers(s),s},CVShapeElement.prototype.reloadShapes=function(){this._isFirstFrame=!0;var e,s=this.itemsData.length;for(e=0;e<s;e+=1)this.prevViewData[e]=this.itemsData[e];for(this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,!0,[]),s=this.dynamicProperties.length,e=0;e<s;e+=1)this.dynamicProperties[e].getValue();this.renderModifiers(),this.transformsManager.processSequences(this._isFirstFrame)},CVShapeElement.prototype.addTransformToStyleList=function(e){var s,i=this.stylesList.length;for(s=0;s<i;s+=1)this.stylesList[s].closed||this.stylesList[s].transforms.push(e)},CVShapeElement.prototype.removeTransformFromStyleList=function(){var e,s=this.stylesList.length;for(e=0;e<s;e+=1)this.stylesList[e].closed||this.stylesList[e].transforms.pop()},CVShapeElement.prototype.closeStyles=function(e){var s,i=e.length;for(s=0;s<i;s+=1)e[s].closed=!0},CVShapeElement.prototype.searchShapes=function(e,s,i,a,o){var c,h=e.length-1,d,g,b=[],_=[],$,j,st,tt=[].concat(o);for(c=h;c>=0;c-=1){if($=this.searchProcessedElement(e[c]),$?s[c]=i[$-1]:e[c]._shouldRender=a,e[c].ty==="fl"||e[c].ty==="st"||e[c].ty==="gf"||e[c].ty==="gs")$?s[c].style.closed=!1:s[c]=this.createStyleElement(e[c],tt),b.push(s[c].style);else if(e[c].ty==="gr"){if(!$)s[c]=this.createGroupElement(e[c]);else for(g=s[c].it.length,d=0;d<g;d+=1)s[c].prevViewData[d]=s[c].it[d];this.searchShapes(e[c].it,s[c].it,s[c].prevViewData,a,tt)}else e[c].ty==="tr"?($||(st=this.createTransformElement(e[c]),s[c]=st),tt.push(s[c]),this.addTransformToStyleList(s[c])):e[c].ty==="sh"||e[c].ty==="rc"||e[c].ty==="el"||e[c].ty==="sr"?$||(s[c]=this.createShapeElement(e[c])):e[c].ty==="tm"||e[c].ty==="rd"||e[c].ty==="pb"||e[c].ty==="zz"||e[c].ty==="op"?($?(j=s[c],j.closed=!1):(j=ShapeModifiers.getModifier(e[c].ty),j.init(this,e[c]),s[c]=j,this.shapeModifiers.push(j)),_.push(j)):e[c].ty==="rp"&&($?(j=s[c],j.closed=!0):(j=ShapeModifiers.getModifier(e[c].ty),s[c]=j,j.init(this,e,c,s),this.shapeModifiers.push(j),a=!1),_.push(j));this.addProcessedElement(e[c],c+1)}for(this.removeTransformFromStyleList(),this.closeStyles(b),h=_.length,c=0;c<h;c+=1)_[c].closed=!0},CVShapeElement.prototype.renderInnerContent=function(){this.transformHelper.opacity=1,this.transformHelper._opMdf=!1,this.renderModifiers(),this.transformsManager.processSequences(this._isFirstFrame),this.renderShape(this.transformHelper,this.shapesData,this.itemsData,!0)},CVShapeElement.prototype.renderShapeTransform=function(e,s){(e._opMdf||s.op._mdf||this._isFirstFrame)&&(s.opacity=e.opacity,s.opacity*=s.op.v,s._opMdf=!0)},CVShapeElement.prototype.drawLayer=function(){var e,s=this.stylesList.length,i,a,o,c,h,d,g=this.globalData.renderer,b=this.globalData.canvasContext,_,$;for(e=0;e<s;e+=1)if($=this.stylesList[e],_=$.type,!((_==="st"||_==="gs")&&$.wi===0||!$.data._shouldRender||$.coOp===0||this.globalData.currentGlobalAlpha===0)){for(g.save(),h=$.elements,_==="st"||_==="gs"?(g.ctxStrokeStyle(_==="st"?$.co:$.grd),g.ctxLineWidth($.wi),g.ctxLineCap($.lc),g.ctxLineJoin($.lj),g.ctxMiterLimit($.ml||0)):g.ctxFillStyle(_==="fl"?$.co:$.grd),g.ctxOpacity($.coOp),_!=="st"&&_!=="gs"&&b.beginPath(),g.ctxTransform($.preTransforms.finalTransform.props),a=h.length,i=0;i<a;i+=1){for((_==="st"||_==="gs")&&(b.beginPath(),$.da&&(b.setLineDash($.da),b.lineDashOffset=$.do)),d=h[i].trNodes,c=d.length,o=0;o<c;o+=1)d[o].t==="m"?b.moveTo(d[o].p[0],d[o].p[1]):d[o].t==="c"?b.bezierCurveTo(d[o].pts[0],d[o].pts[1],d[o].pts[2],d[o].pts[3],d[o].pts[4],d[o].pts[5]):b.closePath();(_==="st"||_==="gs")&&(g.ctxStroke(),$.da&&b.setLineDash(this.dashResetter))}_!=="st"&&_!=="gs"&&this.globalData.renderer.ctxFill($.r),g.restore()}},CVShapeElement.prototype.renderShape=function(e,s,i,a){var o,c=s.length-1,h;for(h=e,o=c;o>=0;o-=1)s[o].ty==="tr"?(h=i[o].transform,this.renderShapeTransform(e,h)):s[o].ty==="sh"||s[o].ty==="el"||s[o].ty==="rc"||s[o].ty==="sr"?this.renderPath(s[o],i[o]):s[o].ty==="fl"?this.renderFill(s[o],i[o],h):s[o].ty==="st"?this.renderStroke(s[o],i[o],h):s[o].ty==="gf"||s[o].ty==="gs"?this.renderGradientFill(s[o],i[o],h):s[o].ty==="gr"?this.renderShape(h,s[o].it,i[o].it):s[o].ty;a&&this.drawLayer()},CVShapeElement.prototype.renderStyledShape=function(e,s){if(this._isFirstFrame||s._mdf||e.transforms._mdf){var i=e.trNodes,a=s.paths,o,c,h,d=a._length;i.length=0;var g=e.transforms.finalTransform;for(h=0;h<d;h+=1){var b=a.shapes[h];if(b&&b.v){for(c=b._length,o=1;o<c;o+=1)o===1&&i.push({t:"m",p:g.applyToPointArray(b.v[0][0],b.v[0][1],0)}),i.push({t:"c",pts:g.applyToTriplePoints(b.o[o-1],b.i[o],b.v[o])});c===1&&i.push({t:"m",p:g.applyToPointArray(b.v[0][0],b.v[0][1],0)}),b.c&&c&&(i.push({t:"c",pts:g.applyToTriplePoints(b.o[o-1],b.i[0],b.v[0])}),i.push({t:"z"}))}}e.trNodes=i}},CVShapeElement.prototype.renderPath=function(e,s){if(e.hd!==!0&&e._shouldRender){var i,a=s.styledShapes.length;for(i=0;i<a;i+=1)this.renderStyledShape(s.styledShapes[i],s.sh)}},CVShapeElement.prototype.renderFill=function(e,s,i){var a=s.style;(s.c._mdf||this._isFirstFrame)&&(a.co="rgb("+bmFloor(s.c.v[0])+","+bmFloor(s.c.v[1])+","+bmFloor(s.c.v[2])+")"),(s.o._mdf||i._opMdf||this._isFirstFrame)&&(a.coOp=s.o.v*i.opacity)},CVShapeElement.prototype.renderGradientFill=function(e,s,i){var a=s.style,o;if(!a.grd||s.g._mdf||s.s._mdf||s.e._mdf||e.t!==1&&(s.h._mdf||s.a._mdf)){var c=this.globalData.canvasContext,h=s.s.v,d=s.e.v;if(e.t===1)o=c.createLinearGradient(h[0],h[1],d[0],d[1]);else{var g=Math.sqrt(Math.pow(h[0]-d[0],2)+Math.pow(h[1]-d[1],2)),b=Math.atan2(d[1]-h[1],d[0]-h[0]),_=s.h.v;_>=1?_=.99:_<=-1&&(_=-.99);var $=g*_,j=Math.cos(b+s.a.v)*$+h[0],st=Math.sin(b+s.a.v)*$+h[1];o=c.createRadialGradient(j,st,0,h[0],h[1],g)}var tt,nt=e.g.p,at=s.g.c,_e=1;for(tt=0;tt<nt;tt+=1)s.g._hasOpacity&&s.g._collapsable&&(_e=s.g.o[tt*2+1]),o.addColorStop(at[tt*4]/100,"rgba("+at[tt*4+1]+","+at[tt*4+2]+","+at[tt*4+3]+","+_e+")");a.grd=o}a.coOp=s.o.v*i.opacity},CVShapeElement.prototype.renderStroke=function(e,s,i){var a=s.style,o=s.d;o&&(o._mdf||this._isFirstFrame)&&(a.da=o.dashArray,a.do=o.dashoffset[0]),(s.c._mdf||this._isFirstFrame)&&(a.co="rgb("+bmFloor(s.c.v[0])+","+bmFloor(s.c.v[1])+","+bmFloor(s.c.v[2])+")"),(s.o._mdf||i._opMdf||this._isFirstFrame)&&(a.coOp=s.o.v*i.opacity),(s.w._mdf||this._isFirstFrame)&&(a.wi=s.w.v)},CVShapeElement.prototype.destroy=function(){this.shapesData=null,this.globalData=null,this.canvasContext=null,this.stylesList.length=0,this.itemsData.length=0};function CVTextElement(e,s,i){this.textSpans=[],this.yOffset=0,this.fillColorAnim=!1,this.strokeColorAnim=!1,this.strokeWidthAnim=!1,this.stroke=!1,this.fill=!1,this.justifyOffset=0,this.currentRender=null,this.renderType="canvas",this.values={fill:"rgba(0,0,0,0)",stroke:"rgba(0,0,0,0)",sWidth:0,fValue:""},this.initElement(e,s,i)}extendPrototype([BaseElement,TransformElement,CVBaseElement,HierarchyElement,FrameElement,RenderableElement,ITextElement],CVTextElement),CVTextElement.prototype.tHelper=createTag("canvas").getContext("2d"),CVTextElement.prototype.buildNewText=function(){var e=this.textProperty.currentData;this.renderedLetters=createSizedArray(e.l?e.l.length:0);var s=!1;e.fc?(s=!0,this.values.fill=this.buildColor(e.fc)):this.values.fill="rgba(0,0,0,0)",this.fill=s;var i=!1;e.sc&&(i=!0,this.values.stroke=this.buildColor(e.sc),this.values.sWidth=e.sw);var a=this.globalData.fontManager.getFontByName(e.f),o,c,h=e.l,d=this.mHelper;this.stroke=i,this.values.fValue=e.finalSize+"px "+this.globalData.fontManager.getFontByName(e.f).fFamily,c=e.finalText.length;var g,b,_,$,j,st,tt,nt,at,_e,rt=this.data.singleShape,et=e.tr*.001*e.finalSize,it=0,ot=0,ut=!0,ht=0;for(o=0;o<c;o+=1){g=this.globalData.fontManager.getCharData(e.finalText[o],a.fStyle,this.globalData.fontManager.getFontByName(e.f).fFamily),b=g&&g.data||{},d.reset(),rt&&h[o].n&&(it=-et,ot+=e.yOffset,ot+=ut?1:0,ut=!1),j=b.shapes?b.shapes[0].it:[],tt=j.length,d.scale(e.finalSize/100,e.finalSize/100),rt&&this.applyTextPropertiesToMatrix(e,d,h[o].line,it,ot),at=createSizedArray(tt-1);var dt=0;for(st=0;st<tt;st+=1)if(j[st].ty==="sh"){for($=j[st].ks.k.i.length,nt=j[st].ks.k,_e=[],_=1;_<$;_+=1)_===1&&_e.push(d.applyToX(nt.v[0][0],nt.v[0][1],0),d.applyToY(nt.v[0][0],nt.v[0][1],0)),_e.push(d.applyToX(nt.o[_-1][0],nt.o[_-1][1],0),d.applyToY(nt.o[_-1][0],nt.o[_-1][1],0),d.applyToX(nt.i[_][0],nt.i[_][1],0),d.applyToY(nt.i[_][0],nt.i[_][1],0),d.applyToX(nt.v[_][0],nt.v[_][1],0),d.applyToY(nt.v[_][0],nt.v[_][1],0));_e.push(d.applyToX(nt.o[_-1][0],nt.o[_-1][1],0),d.applyToY(nt.o[_-1][0],nt.o[_-1][1],0),d.applyToX(nt.i[0][0],nt.i[0][1],0),d.applyToY(nt.i[0][0],nt.i[0][1],0),d.applyToX(nt.v[0][0],nt.v[0][1],0),d.applyToY(nt.v[0][0],nt.v[0][1],0)),at[dt]=_e,dt+=1}rt&&(it+=h[o].l,it+=et),this.textSpans[ht]?this.textSpans[ht].elem=at:this.textSpans[ht]={elem:at},ht+=1}},CVTextElement.prototype.renderInnerContent=function(){this.validateText();var e=this.canvasContext;e.font=this.values.fValue,this.globalData.renderer.ctxLineCap("butt"),this.globalData.renderer.ctxLineJoin("miter"),this.globalData.renderer.ctxMiterLimit(4),this.data.singleShape||this.textAnimator.getMeasures(this.textProperty.currentData,this.lettersChangedFlag);var s,i,a,o,c,h,d=this.textAnimator.renderedLetters,g=this.textProperty.currentData.l;i=g.length;var b,_=null,$=null,j=null,st,tt,nt=this.globalData.renderer;for(s=0;s<i;s+=1)if(!g[s].n){if(b=d[s],b&&(nt.save(),nt.ctxTransform(b.p),nt.ctxOpacity(b.o)),this.fill){for(b&&b.fc?_!==b.fc&&(nt.ctxFillStyle(b.fc),_=b.fc):_!==this.values.fill&&(_=this.values.fill,nt.ctxFillStyle(this.values.fill)),st=this.textSpans[s].elem,o=st.length,this.globalData.canvasContext.beginPath(),a=0;a<o;a+=1)for(tt=st[a],h=tt.length,this.globalData.canvasContext.moveTo(tt[0],tt[1]),c=2;c<h;c+=6)this.globalData.canvasContext.bezierCurveTo(tt[c],tt[c+1],tt[c+2],tt[c+3],tt[c+4],tt[c+5]);this.globalData.canvasContext.closePath(),nt.ctxFill()}if(this.stroke){for(b&&b.sw?j!==b.sw&&(j=b.sw,nt.ctxLineWidth(b.sw)):j!==this.values.sWidth&&(j=this.values.sWidth,nt.ctxLineWidth(this.values.sWidth)),b&&b.sc?$!==b.sc&&($=b.sc,nt.ctxStrokeStyle(b.sc)):$!==this.values.stroke&&($=this.values.stroke,nt.ctxStrokeStyle(this.values.stroke)),st=this.textSpans[s].elem,o=st.length,this.globalData.canvasContext.beginPath(),a=0;a<o;a+=1)for(tt=st[a],h=tt.length,this.globalData.canvasContext.moveTo(tt[0],tt[1]),c=2;c<h;c+=6)this.globalData.canvasContext.bezierCurveTo(tt[c],tt[c+1],tt[c+2],tt[c+3],tt[c+4],tt[c+5]);this.globalData.canvasContext.closePath(),nt.ctxStroke()}b&&this.globalData.renderer.restore()}};function CVImageElement(e,s,i){this.assetData=s.getAssetData(e.refId),this.img=s.imageLoader.getAsset(this.assetData),this.initElement(e,s,i)}extendPrototype([BaseElement,TransformElement,CVBaseElement,HierarchyElement,FrameElement,RenderableElement],CVImageElement),CVImageElement.prototype.initElement=SVGShapeElement.prototype.initElement,CVImageElement.prototype.prepareFrame=IImageElement.prototype.prepareFrame,CVImageElement.prototype.createContent=function(){if(this.img.width&&(this.assetData.w!==this.img.width||this.assetData.h!==this.img.height)){var e=createTag("canvas");e.width=this.assetData.w,e.height=this.assetData.h;var s=e.getContext("2d"),i=this.img.width,a=this.img.height,o=i/a,c=this.assetData.w/this.assetData.h,h,d,g=this.assetData.pr||this.globalData.renderConfig.imagePreserveAspectRatio;o>c&&g==="xMidYMid slice"||o<c&&g!=="xMidYMid slice"?(d=a,h=d*c):(h=i,d=h/c),s.drawImage(this.img,(i-h)/2,(a-d)/2,h,d,0,0,this.assetData.w,this.assetData.h),this.img=e}},CVImageElement.prototype.renderInnerContent=function(){this.canvasContext.drawImage(this.img,0,0)},CVImageElement.prototype.destroy=function(){this.img=null};function CVSolidElement(e,s,i){this.initElement(e,s,i)}extendPrototype([BaseElement,TransformElement,CVBaseElement,HierarchyElement,FrameElement,RenderableElement],CVSolidElement),CVSolidElement.prototype.initElement=SVGShapeElement.prototype.initElement,CVSolidElement.prototype.prepareFrame=IImageElement.prototype.prepareFrame,CVSolidElement.prototype.renderInnerContent=function(){this.globalData.renderer.ctxFillStyle(this.data.sc),this.globalData.renderer.ctxFillRect(0,0,this.data.sw,this.data.sh)};function CanvasRendererBase(){}extendPrototype([BaseRenderer],CanvasRendererBase),CanvasRendererBase.prototype.createShape=function(e){return new CVShapeElement(e,this.globalData,this)},CanvasRendererBase.prototype.createText=function(e){return new CVTextElement(e,this.globalData,this)},CanvasRendererBase.prototype.createImage=function(e){return new CVImageElement(e,this.globalData,this)},CanvasRendererBase.prototype.createSolid=function(e){return new CVSolidElement(e,this.globalData,this)},CanvasRendererBase.prototype.createNull=SVGRenderer.prototype.createNull,CanvasRendererBase.prototype.ctxTransform=function(e){e[0]===1&&e[1]===0&&e[4]===0&&e[5]===1&&e[12]===0&&e[13]===0||this.canvasContext.transform(e[0],e[1],e[4],e[5],e[12],e[13])},CanvasRendererBase.prototype.ctxOpacity=function(e){this.canvasContext.globalAlpha*=e<0?0:e},CanvasRendererBase.prototype.ctxFillStyle=function(e){this.canvasContext.fillStyle=e},CanvasRendererBase.prototype.ctxStrokeStyle=function(e){this.canvasContext.strokeStyle=e},CanvasRendererBase.prototype.ctxLineWidth=function(e){this.canvasContext.lineWidth=e},CanvasRendererBase.prototype.ctxLineCap=function(e){this.canvasContext.lineCap=e},CanvasRendererBase.prototype.ctxLineJoin=function(e){this.canvasContext.lineJoin=e},CanvasRendererBase.prototype.ctxMiterLimit=function(e){this.canvasContext.miterLimit=e},CanvasRendererBase.prototype.ctxFill=function(e){this.canvasContext.fill(e)},CanvasRendererBase.prototype.ctxFillRect=function(e,s,i,a){this.canvasContext.fillRect(e,s,i,a)},CanvasRendererBase.prototype.ctxStroke=function(){this.canvasContext.stroke()},CanvasRendererBase.prototype.reset=function(){if(!this.renderConfig.clearCanvas){this.canvasContext.restore();return}this.contextData.reset()},CanvasRendererBase.prototype.save=function(){this.canvasContext.save()},CanvasRendererBase.prototype.restore=function(e){if(!this.renderConfig.clearCanvas){this.canvasContext.restore();return}e&&(this.globalData.blendMode="source-over"),this.contextData.restore(e)},CanvasRendererBase.prototype.configAnimation=function(e){if(this.animationItem.wrapper){this.animationItem.container=createTag("canvas");var s=this.animationItem.container.style;s.width="100%",s.height="100%";var i="0px 0px 0px";s.transformOrigin=i,s.mozTransformOrigin=i,s.webkitTransformOrigin=i,s["-webkit-transform"]=i,s.contentVisibility=this.renderConfig.contentVisibility,this.animationItem.wrapper.appendChild(this.animationItem.container),this.canvasContext=this.animationItem.container.getContext("2d"),this.renderConfig.className&&this.animationItem.container.setAttribute("class",this.renderConfig.className),this.renderConfig.id&&this.animationItem.container.setAttribute("id",this.renderConfig.id)}else this.canvasContext=this.renderConfig.context;this.contextData.setContext(this.canvasContext),this.data=e,this.layers=e.layers,this.transformCanvas={w:e.w,h:e.h,sx:0,sy:0,tx:0,ty:0},this.setupGlobalData(e,document.body),this.globalData.canvasContext=this.canvasContext,this.globalData.renderer=this,this.globalData.isDashed=!1,this.globalData.progressiveLoad=this.renderConfig.progressiveLoad,this.globalData.transformCanvas=this.transformCanvas,this.elements=createSizedArray(e.layers.length),this.updateContainerSize()},CanvasRendererBase.prototype.updateContainerSize=function(e,s){this.reset();var i,a;e?(i=e,a=s,this.canvasContext.canvas.width=i,this.canvasContext.canvas.height=a):(this.animationItem.wrapper&&this.animationItem.container?(i=this.animationItem.wrapper.offsetWidth,a=this.animationItem.wrapper.offsetHeight):(i=this.canvasContext.canvas.width,a=this.canvasContext.canvas.height),this.canvasContext.canvas.width=i*this.renderConfig.dpr,this.canvasContext.canvas.height=a*this.renderConfig.dpr);var o,c;if(this.renderConfig.preserveAspectRatio.indexOf("meet")!==-1||this.renderConfig.preserveAspectRatio.indexOf("slice")!==-1){var h=this.renderConfig.preserveAspectRatio.split(" "),d=h[1]||"meet",g=h[0]||"xMidYMid",b=g.substr(0,4),_=g.substr(4);o=i/a,c=this.transformCanvas.w/this.transformCanvas.h,c>o&&d==="meet"||c<o&&d==="slice"?(this.transformCanvas.sx=i/(this.transformCanvas.w/this.renderConfig.dpr),this.transformCanvas.sy=i/(this.transformCanvas.w/this.renderConfig.dpr)):(this.transformCanvas.sx=a/(this.transformCanvas.h/this.renderConfig.dpr),this.transformCanvas.sy=a/(this.transformCanvas.h/this.renderConfig.dpr)),b==="xMid"&&(c<o&&d==="meet"||c>o&&d==="slice")?this.transformCanvas.tx=(i-this.transformCanvas.w*(a/this.transformCanvas.h))/2*this.renderConfig.dpr:b==="xMax"&&(c<o&&d==="meet"||c>o&&d==="slice")?this.transformCanvas.tx=(i-this.transformCanvas.w*(a/this.transformCanvas.h))*this.renderConfig.dpr:this.transformCanvas.tx=0,_==="YMid"&&(c>o&&d==="meet"||c<o&&d==="slice")?this.transformCanvas.ty=(a-this.transformCanvas.h*(i/this.transformCanvas.w))/2*this.renderConfig.dpr:_==="YMax"&&(c>o&&d==="meet"||c<o&&d==="slice")?this.transformCanvas.ty=(a-this.transformCanvas.h*(i/this.transformCanvas.w))*this.renderConfig.dpr:this.transformCanvas.ty=0}else this.renderConfig.preserveAspectRatio==="none"?(this.transformCanvas.sx=i/(this.transformCanvas.w/this.renderConfig.dpr),this.transformCanvas.sy=a/(this.transformCanvas.h/this.renderConfig.dpr),this.transformCanvas.tx=0,this.transformCanvas.ty=0):(this.transformCanvas.sx=this.renderConfig.dpr,this.transformCanvas.sy=this.renderConfig.dpr,this.transformCanvas.tx=0,this.transformCanvas.ty=0);this.transformCanvas.props=[this.transformCanvas.sx,0,0,0,0,this.transformCanvas.sy,0,0,0,0,1,0,this.transformCanvas.tx,this.transformCanvas.ty,0,1],this.ctxTransform(this.transformCanvas.props),this.canvasContext.beginPath(),this.canvasContext.rect(0,0,this.transformCanvas.w,this.transformCanvas.h),this.canvasContext.closePath(),this.canvasContext.clip(),this.renderFrame(this.renderedFrame,!0)},CanvasRendererBase.prototype.destroy=function(){this.renderConfig.clearCanvas&&this.animationItem.wrapper&&(this.animationItem.wrapper.innerText="");var e,s=this.layers?this.layers.length:0;for(e=s-1;e>=0;e-=1)this.elements[e]&&this.elements[e].destroy&&this.elements[e].destroy();this.elements.length=0,this.globalData.canvasContext=null,this.animationItem.container=null,this.destroyed=!0},CanvasRendererBase.prototype.renderFrame=function(e,s){if(!(this.renderedFrame===e&&this.renderConfig.clearCanvas===!0&&!s||this.destroyed||e===-1)){this.renderedFrame=e,this.globalData.frameNum=e-this.animationItem._isFirstFrame,this.globalData.frameId+=1,this.globalData._mdf=!this.renderConfig.clearCanvas||s,this.globalData.projectInterface.currentFrame=e;var i,a=this.layers.length;for(this.completeLayers||this.checkLayers(e),i=a-1;i>=0;i-=1)(this.completeLayers||this.elements[i])&&this.elements[i].prepareFrame(e-this.layers[i].st);if(this.globalData._mdf){for(this.renderConfig.clearCanvas===!0?this.canvasContext.clearRect(0,0,this.transformCanvas.w,this.transformCanvas.h):this.save(),i=a-1;i>=0;i-=1)(this.completeLayers||this.elements[i])&&this.elements[i].renderFrame();this.renderConfig.clearCanvas!==!0&&this.restore()}}},CanvasRendererBase.prototype.buildItem=function(e){var s=this.elements;if(!(s[e]||this.layers[e].ty===99)){var i=this.createItem(this.layers[e],this,this.globalData);s[e]=i,i.initExpressions()}},CanvasRendererBase.prototype.checkPendingElements=function(){for(;this.pendingElements.length;){var e=this.pendingElements.pop();e.checkParenting()}},CanvasRendererBase.prototype.hide=function(){this.animationItem.container.style.display="none"},CanvasRendererBase.prototype.show=function(){this.animationItem.container.style.display="block"};function CanvasContext(){this.opacity=-1,this.transform=createTypedArray("float32",16),this.fillStyle="",this.strokeStyle="",this.lineWidth="",this.lineCap="",this.lineJoin="",this.miterLimit="",this.id=Math.random()}function CVContextData(){this.stack=[],this.cArrPos=0,this.cTr=new Matrix;var e,s=15;for(e=0;e<s;e+=1){var i=new CanvasContext;this.stack[e]=i}this._length=s,this.nativeContext=null,this.transformMat=new Matrix,this.currentOpacity=1,this.currentFillStyle="",this.appliedFillStyle="",this.currentStrokeStyle="",this.appliedStrokeStyle="",this.currentLineWidth="",this.appliedLineWidth="",this.currentLineCap="",this.appliedLineCap="",this.currentLineJoin="",this.appliedLineJoin="",this.appliedMiterLimit="",this.currentMiterLimit=""}CVContextData.prototype.duplicate=function(){var e=this._length*2,s=0;for(s=this._length;s<e;s+=1)this.stack[s]=new CanvasContext;this._length=e},CVContextData.prototype.reset=function(){this.cArrPos=0,this.cTr.reset(),this.stack[this.cArrPos].opacity=1},CVContextData.prototype.restore=function(e){this.cArrPos-=1;var s=this.stack[this.cArrPos],i=s.transform,a,o=this.cTr.props;for(a=0;a<16;a+=1)o[a]=i[a];if(e){this.nativeContext.restore();var c=this.stack[this.cArrPos+1];this.appliedFillStyle=c.fillStyle,this.appliedStrokeStyle=c.strokeStyle,this.appliedLineWidth=c.lineWidth,this.appliedLineCap=c.lineCap,this.appliedLineJoin=c.lineJoin,this.appliedMiterLimit=c.miterLimit}this.nativeContext.setTransform(i[0],i[1],i[4],i[5],i[12],i[13]),(e||s.opacity!==-1&&this.currentOpacity!==s.opacity)&&(this.nativeContext.globalAlpha=s.opacity,this.currentOpacity=s.opacity),this.currentFillStyle=s.fillStyle,this.currentStrokeStyle=s.strokeStyle,this.currentLineWidth=s.lineWidth,this.currentLineCap=s.lineCap,this.currentLineJoin=s.lineJoin,this.currentMiterLimit=s.miterLimit},CVContextData.prototype.save=function(e){e&&this.nativeContext.save();var s=this.cTr.props;this._length<=this.cArrPos&&this.duplicate();var i=this.stack[this.cArrPos],a;for(a=0;a<16;a+=1)i.transform[a]=s[a];this.cArrPos+=1;var o=this.stack[this.cArrPos];o.opacity=i.opacity,o.fillStyle=i.fillStyle,o.strokeStyle=i.strokeStyle,o.lineWidth=i.lineWidth,o.lineCap=i.lineCap,o.lineJoin=i.lineJoin,o.miterLimit=i.miterLimit},CVContextData.prototype.setOpacity=function(e){this.stack[this.cArrPos].opacity=e},CVContextData.prototype.setContext=function(e){this.nativeContext=e},CVContextData.prototype.fillStyle=function(e){this.stack[this.cArrPos].fillStyle!==e&&(this.currentFillStyle=e,this.stack[this.cArrPos].fillStyle=e)},CVContextData.prototype.strokeStyle=function(e){this.stack[this.cArrPos].strokeStyle!==e&&(this.currentStrokeStyle=e,this.stack[this.cArrPos].strokeStyle=e)},CVContextData.prototype.lineWidth=function(e){this.stack[this.cArrPos].lineWidth!==e&&(this.currentLineWidth=e,this.stack[this.cArrPos].lineWidth=e)},CVContextData.prototype.lineCap=function(e){this.stack[this.cArrPos].lineCap!==e&&(this.currentLineCap=e,this.stack[this.cArrPos].lineCap=e)},CVContextData.prototype.lineJoin=function(e){this.stack[this.cArrPos].lineJoin!==e&&(this.currentLineJoin=e,this.stack[this.cArrPos].lineJoin=e)},CVContextData.prototype.miterLimit=function(e){this.stack[this.cArrPos].miterLimit!==e&&(this.currentMiterLimit=e,this.stack[this.cArrPos].miterLimit=e)},CVContextData.prototype.transform=function(e){this.transformMat.cloneFromProps(e);var s=this.cTr;this.transformMat.multiply(s),s.cloneFromProps(this.transformMat.props);var i=s.props;this.nativeContext.setTransform(i[0],i[1],i[4],i[5],i[12],i[13])},CVContextData.prototype.opacity=function(e){var s=this.stack[this.cArrPos].opacity;s*=e<0?0:e,this.stack[this.cArrPos].opacity!==s&&(this.currentOpacity!==e&&(this.nativeContext.globalAlpha=e,this.currentOpacity=e),this.stack[this.cArrPos].opacity=s)},CVContextData.prototype.fill=function(e){this.appliedFillStyle!==this.currentFillStyle&&(this.appliedFillStyle=this.currentFillStyle,this.nativeContext.fillStyle=this.appliedFillStyle),this.nativeContext.fill(e)},CVContextData.prototype.fillRect=function(e,s,i,a){this.appliedFillStyle!==this.currentFillStyle&&(this.appliedFillStyle=this.currentFillStyle,this.nativeContext.fillStyle=this.appliedFillStyle),this.nativeContext.fillRect(e,s,i,a)},CVContextData.prototype.stroke=function(){this.appliedStrokeStyle!==this.currentStrokeStyle&&(this.appliedStrokeStyle=this.currentStrokeStyle,this.nativeContext.strokeStyle=this.appliedStrokeStyle),this.appliedLineWidth!==this.currentLineWidth&&(this.appliedLineWidth=this.currentLineWidth,this.nativeContext.lineWidth=this.appliedLineWidth),this.appliedLineCap!==this.currentLineCap&&(this.appliedLineCap=this.currentLineCap,this.nativeContext.lineCap=this.appliedLineCap),this.appliedLineJoin!==this.currentLineJoin&&(this.appliedLineJoin=this.currentLineJoin,this.nativeContext.lineJoin=this.appliedLineJoin),this.appliedMiterLimit!==this.currentMiterLimit&&(this.appliedMiterLimit=this.currentMiterLimit,this.nativeContext.miterLimit=this.appliedMiterLimit),this.nativeContext.stroke()};function CVCompElement(e,s,i){this.completeLayers=!1,this.layers=e.layers,this.pendingElements=[],this.elements=createSizedArray(this.layers.length),this.initElement(e,s,i),this.tm=e.tm?PropertyFactory.getProp(this,e.tm,0,s.frameRate,this):{_placeholder:!0}}extendPrototype([CanvasRendererBase,ICompElement,CVBaseElement],CVCompElement),CVCompElement.prototype.renderInnerContent=function(){var e=this.canvasContext;e.beginPath(),e.moveTo(0,0),e.lineTo(this.data.w,0),e.lineTo(this.data.w,this.data.h),e.lineTo(0,this.data.h),e.lineTo(0,0),e.clip();var s,i=this.layers.length;for(s=i-1;s>=0;s-=1)(this.completeLayers||this.elements[s])&&this.elements[s].renderFrame()},CVCompElement.prototype.destroy=function(){var e,s=this.layers.length;for(e=s-1;e>=0;e-=1)this.elements[e]&&this.elements[e].destroy();this.layers=null,this.elements=null},CVCompElement.prototype.createComp=function(e){return new CVCompElement(e,this.globalData,this)};function CanvasRenderer(e,s){this.animationItem=e,this.renderConfig={clearCanvas:s&&s.clearCanvas!==void 0?s.clearCanvas:!0,context:s&&s.context||null,progressiveLoad:s&&s.progressiveLoad||!1,preserveAspectRatio:s&&s.preserveAspectRatio||"xMidYMid meet",imagePreserveAspectRatio:s&&s.imagePreserveAspectRatio||"xMidYMid slice",contentVisibility:s&&s.contentVisibility||"visible",className:s&&s.className||"",id:s&&s.id||"",runExpressions:!s||s.runExpressions===void 0||s.runExpressions},this.renderConfig.dpr=s&&s.dpr||1,this.animationItem.wrapper&&(this.renderConfig.dpr=s&&s.dpr||window.devicePixelRatio||1),this.renderedFrame=-1,this.globalData={frameNum:-1,_mdf:!1,renderConfig:this.renderConfig,currentGlobalAlpha:-1},this.contextData=new CVContextData,this.elements=[],this.pendingElements=[],this.transformMat=new Matrix,this.completeLayers=!1,this.rendererType="canvas",this.renderConfig.clearCanvas&&(this.ctxTransform=this.contextData.transform.bind(this.contextData),this.ctxOpacity=this.contextData.opacity.bind(this.contextData),this.ctxFillStyle=this.contextData.fillStyle.bind(this.contextData),this.ctxStrokeStyle=this.contextData.strokeStyle.bind(this.contextData),this.ctxLineWidth=this.contextData.lineWidth.bind(this.contextData),this.ctxLineCap=this.contextData.lineCap.bind(this.contextData),this.ctxLineJoin=this.contextData.lineJoin.bind(this.contextData),this.ctxMiterLimit=this.contextData.miterLimit.bind(this.contextData),this.ctxFill=this.contextData.fill.bind(this.contextData),this.ctxFillRect=this.contextData.fillRect.bind(this.contextData),this.ctxStroke=this.contextData.stroke.bind(this.contextData),this.save=this.contextData.save.bind(this.contextData))}extendPrototype([CanvasRendererBase],CanvasRenderer),CanvasRenderer.prototype.createComp=function(e){return new CVCompElement(e,this.globalData,this)};function HBaseElement(){}HBaseElement.prototype={checkBlendMode:function(){},initRendererElement:function(){this.baseElement=createTag(this.data.tg||"div"),this.data.hasMask?(this.svgElement=createNS("svg"),this.layerElement=createNS("g"),this.maskedElement=this.layerElement,this.svgElement.appendChild(this.layerElement),this.baseElement.appendChild(this.svgElement)):this.layerElement=this.baseElement,styleDiv(this.baseElement)},createContainerElements:function(){this.renderableEffectsManager=new CVEffects(this),this.transformedElement=this.baseElement,this.maskedElement=this.layerElement,this.data.ln&&this.layerElement.setAttribute("id",this.data.ln),this.data.cl&&this.layerElement.setAttribute("class",this.data.cl),this.data.bm!==0&&this.setBlendMode()},renderElement:function(){var s=this.transformedElement?this.transformedElement.style:{};if(this.finalTransform._matMdf){var i=this.finalTransform.mat.toCSS();s.transform=i,s.webkitTransform=i}this.finalTransform._opMdf&&(s.opacity=this.finalTransform.mProp.o.v)},renderFrame:function(){this.data.hd||this.hidden||(this.renderTransform(),this.renderRenderable(),this.renderElement(),this.renderInnerContent(),this._isFirstFrame&&(this._isFirstFrame=!1))},destroy:function(){this.layerElement=null,this.transformedElement=null,this.matteElement&&(this.matteElement=null),this.maskManager&&(this.maskManager.destroy(),this.maskManager=null)},createRenderableComponents:function(){this.maskManager=new MaskElement(this.data,this,this.globalData)},addEffects:function(){},setMatte:function(){}},HBaseElement.prototype.getBaseElement=SVGBaseElement.prototype.getBaseElement,HBaseElement.prototype.destroyBaseElement=HBaseElement.prototype.destroy,HBaseElement.prototype.buildElementParenting=BaseRenderer.prototype.buildElementParenting;function HSolidElement(e,s,i){this.initElement(e,s,i)}extendPrototype([BaseElement,TransformElement,HBaseElement,HierarchyElement,FrameElement,RenderableDOMElement],HSolidElement),HSolidElement.prototype.createContent=function(){var e;this.data.hasMask?(e=createNS("rect"),e.setAttribute("width",this.data.sw),e.setAttribute("height",this.data.sh),e.setAttribute("fill",this.data.sc),this.svgElement.setAttribute("width",this.data.sw),this.svgElement.setAttribute("height",this.data.sh)):(e=createTag("div"),e.style.width=this.data.sw+"px",e.style.height=this.data.sh+"px",e.style.backgroundColor=this.data.sc),this.layerElement.appendChild(e)};function HShapeElement(e,s,i){this.shapes=[],this.shapesData=e.shapes,this.stylesList=[],this.shapeModifiers=[],this.itemsData=[],this.processedElements=[],this.animatedContents=[],this.shapesContainer=createNS("g"),this.initElement(e,s,i),this.prevViewData=[],this.currentBBox={x:999999,y:-999999,h:0,w:0}}extendPrototype([BaseElement,TransformElement,HSolidElement,SVGShapeElement,HBaseElement,HierarchyElement,FrameElement,RenderableElement],HShapeElement),HShapeElement.prototype._renderShapeFrame=HShapeElement.prototype.renderInnerContent,HShapeElement.prototype.createContent=function(){var e;if(this.baseElement.style.fontSize=0,this.data.hasMask)this.layerElement.appendChild(this.shapesContainer),e=this.svgElement;else{e=createNS("svg");var s=this.comp.data?this.comp.data:this.globalData.compSize;e.setAttribute("width",s.w),e.setAttribute("height",s.h),e.appendChild(this.shapesContainer),this.layerElement.appendChild(e)}this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,this.shapesContainer,0,[],!0),this.filterUniqueShapes(),this.shapeCont=e},HShapeElement.prototype.getTransformedPoint=function(e,s){var i,a=e.length;for(i=0;i<a;i+=1)s=e[i].mProps.v.applyToPointArray(s[0],s[1],0);return s},HShapeElement.prototype.calculateShapeBoundingBox=function(e,s){var i=e.sh.v,a=e.transformers,o,c=i._length,h,d,g,b;if(!(c<=1)){for(o=0;o<c-1;o+=1)h=this.getTransformedPoint(a,i.v[o]),d=this.getTransformedPoint(a,i.o[o]),g=this.getTransformedPoint(a,i.i[o+1]),b=this.getTransformedPoint(a,i.v[o+1]),this.checkBounds(h,d,g,b,s);i.c&&(h=this.getTransformedPoint(a,i.v[o]),d=this.getTransformedPoint(a,i.o[o]),g=this.getTransformedPoint(a,i.i[0]),b=this.getTransformedPoint(a,i.v[0]),this.checkBounds(h,d,g,b,s))}},HShapeElement.prototype.checkBounds=function(e,s,i,a,o){this.getBoundsOfCurve(e,s,i,a);var c=this.shapeBoundingBox;o.x=bmMin(c.left,o.x),o.xMax=bmMax(c.right,o.xMax),o.y=bmMin(c.top,o.y),o.yMax=bmMax(c.bottom,o.yMax)},HShapeElement.prototype.shapeBoundingBox={left:0,right:0,top:0,bottom:0},HShapeElement.prototype.tempBoundingBox={x:0,xMax:0,y:0,yMax:0,width:0,height:0},HShapeElement.prototype.getBoundsOfCurve=function(e,s,i,a){for(var o=[[e[0],a[0]],[e[1],a[1]]],c,h,d,g,b,_,$,j=0;j<2;++j)h=6*e[j]-12*s[j]+6*i[j],c=-3*e[j]+9*s[j]-9*i[j]+3*a[j],d=3*s[j]-3*e[j],h|=0,c|=0,d|=0,c===0&&h===0||(c===0?(g=-d/h,g>0&&g<1&&o[j].push(this.calculateF(g,e,s,i,a,j))):(b=h*h-4*d*c,b>=0&&(_=(-h+bmSqrt(b))/(2*c),_>0&&_<1&&o[j].push(this.calculateF(_,e,s,i,a,j)),$=(-h-bmSqrt(b))/(2*c),$>0&&$<1&&o[j].push(this.calculateF($,e,s,i,a,j)))));this.shapeBoundingBox.left=bmMin.apply(null,o[0]),this.shapeBoundingBox.top=bmMin.apply(null,o[1]),this.shapeBoundingBox.right=bmMax.apply(null,o[0]),this.shapeBoundingBox.bottom=bmMax.apply(null,o[1])},HShapeElement.prototype.calculateF=function(e,s,i,a,o,c){return bmPow(1-e,3)*s[c]+3*bmPow(1-e,2)*e*i[c]+3*(1-e)*bmPow(e,2)*a[c]+bmPow(e,3)*o[c]},HShapeElement.prototype.calculateBoundingBox=function(e,s){var i,a=e.length;for(i=0;i<a;i+=1)e[i]&&e[i].sh?this.calculateShapeBoundingBox(e[i],s):e[i]&&e[i].it?this.calculateBoundingBox(e[i].it,s):e[i]&&e[i].style&&e[i].w&&this.expandStrokeBoundingBox(e[i].w,s)},HShapeElement.prototype.expandStrokeBoundingBox=function(e,s){var i=0;if(e.keyframes){for(var a=0;a<e.keyframes.length;a+=1){var o=e.keyframes[a].s;o>i&&(i=o)}i*=e.mult}else i=e.v*e.mult;s.x-=i,s.xMax+=i,s.y-=i,s.yMax+=i},HShapeElement.prototype.currentBoxContains=function(e){return this.currentBBox.x<=e.x&&this.currentBBox.y<=e.y&&this.currentBBox.width+this.currentBBox.x>=e.x+e.width&&this.currentBBox.height+this.currentBBox.y>=e.y+e.height},HShapeElement.prototype.renderInnerContent=function(){if(this._renderShapeFrame(),!this.hidden&&(this._isFirstFrame||this._mdf)){var e=this.tempBoundingBox,s=999999;if(e.x=s,e.xMax=-s,e.y=s,e.yMax=-s,this.calculateBoundingBox(this.itemsData,e),e.width=e.xMax<e.x?0:e.xMax-e.x,e.height=e.yMax<e.y?0:e.yMax-e.y,this.currentBoxContains(e))return;var i=!1;if(this.currentBBox.w!==e.width&&(this.currentBBox.w=e.width,this.shapeCont.setAttribute("width",e.width),i=!0),this.currentBBox.h!==e.height&&(this.currentBBox.h=e.height,this.shapeCont.setAttribute("height",e.height),i=!0),i||this.currentBBox.x!==e.x||this.currentBBox.y!==e.y){this.currentBBox.w=e.width,this.currentBBox.h=e.height,this.currentBBox.x=e.x,this.currentBBox.y=e.y,this.shapeCont.setAttribute("viewBox",this.currentBBox.x+" "+this.currentBBox.y+" "+this.currentBBox.w+" "+this.currentBBox.h);var a=this.shapeCont.style,o="translate("+this.currentBBox.x+"px,"+this.currentBBox.y+"px)";a.transform=o,a.webkitTransform=o}}};function HTextElement(e,s,i){this.textSpans=[],this.textPaths=[],this.currentBBox={x:999999,y:-999999,h:0,w:0},this.renderType="svg",this.isMasked=!1,this.initElement(e,s,i)}extendPrototype([BaseElement,TransformElement,HBaseElement,HierarchyElement,FrameElement,RenderableDOMElement,ITextElement],HTextElement),HTextElement.prototype.createContent=function(){if(this.isMasked=this.checkMasks(),this.isMasked){this.renderType="svg",this.compW=this.comp.data.w,this.compH=this.comp.data.h,this.svgElement.setAttribute("width",this.compW),this.svgElement.setAttribute("height",this.compH);var e=createNS("g");this.maskedElement.appendChild(e),this.innerElem=e}else this.renderType="html",this.innerElem=this.layerElement;this.checkParenting()},HTextElement.prototype.buildNewText=function(){var e=this.textProperty.currentData;this.renderedLetters=createSizedArray(e.l?e.l.length:0);var s=this.innerElem.style,i=e.fc?this.buildColor(e.fc):"rgba(0,0,0,0)";s.fill=i,s.color=i,e.sc&&(s.stroke=this.buildColor(e.sc),s.strokeWidth=e.sw+"px");var a=this.globalData.fontManager.getFontByName(e.f);if(!this.globalData.fontManager.chars)if(s.fontSize=e.finalSize+"px",s.lineHeight=e.finalSize+"px",a.fClass)this.innerElem.className=a.fClass;else{s.fontFamily=a.fFamily;var o=e.fWeight,c=e.fStyle;s.fontStyle=c,s.fontWeight=o}var h,d,g=e.l;d=g.length;var b,_,$,j=this.mHelper,st,tt="",nt=0;for(h=0;h<d;h+=1){if(this.globalData.fontManager.chars?(this.textPaths[nt]?b=this.textPaths[nt]:(b=createNS("path"),b.setAttribute("stroke-linecap",lineCapEnum[1]),b.setAttribute("stroke-linejoin",lineJoinEnum[2]),b.setAttribute("stroke-miterlimit","4")),this.isMasked||(this.textSpans[nt]?(_=this.textSpans[nt],$=_.children[0]):(_=createTag("div"),_.style.lineHeight=0,$=createNS("svg"),$.appendChild(b),styleDiv(_)))):this.isMasked?b=this.textPaths[nt]?this.textPaths[nt]:createNS("text"):this.textSpans[nt]?(_=this.textSpans[nt],b=this.textPaths[nt]):(_=createTag("span"),styleDiv(_),b=createTag("span"),styleDiv(b),_.appendChild(b)),this.globalData.fontManager.chars){var at=this.globalData.fontManager.getCharData(e.finalText[h],a.fStyle,this.globalData.fontManager.getFontByName(e.f).fFamily),_e;if(at?_e=at.data:_e=null,j.reset(),_e&&_e.shapes&&_e.shapes.length&&(st=_e.shapes[0].it,j.scale(e.finalSize/100,e.finalSize/100),tt=this.createPathShape(j,st),b.setAttribute("d",tt)),this.isMasked)this.innerElem.appendChild(b);else{if(this.innerElem.appendChild(_),_e&&_e.shapes){document.body.appendChild($);var rt=$.getBBox();$.setAttribute("width",rt.width+2),$.setAttribute("height",rt.height+2),$.setAttribute("viewBox",rt.x-1+" "+(rt.y-1)+" "+(rt.width+2)+" "+(rt.height+2));var et=$.style,it="translate("+(rt.x-1)+"px,"+(rt.y-1)+"px)";et.transform=it,et.webkitTransform=it,g[h].yOffset=rt.y-1}else $.setAttribute("width",1),$.setAttribute("height",1);_.appendChild($)}}else if(b.textContent=g[h].val,b.setAttributeNS("http://www.w3.org/XML/1998/namespace","xml:space","preserve"),this.isMasked)this.innerElem.appendChild(b);else{this.innerElem.appendChild(_);var ot=b.style,ut="translate3d(0,"+-e.finalSize/1.2+"px,0)";ot.transform=ut,ot.webkitTransform=ut}this.isMasked?this.textSpans[nt]=b:this.textSpans[nt]=_,this.textSpans[nt].style.display="block",this.textPaths[nt]=b,nt+=1}for(;nt<this.textSpans.length;)this.textSpans[nt].style.display="none",nt+=1},HTextElement.prototype.renderInnerContent=function(){this.validateText();var e;if(this.data.singleShape){if(!this._isFirstFrame&&!this.lettersChangedFlag)return;if(this.isMasked&&this.finalTransform._matMdf){this.svgElement.setAttribute("viewBox",-this.finalTransform.mProp.p.v[0]+" "+-this.finalTransform.mProp.p.v[1]+" "+this.compW+" "+this.compH),e=this.svgElement.style;var s="translate("+-this.finalTransform.mProp.p.v[0]+"px,"+-this.finalTransform.mProp.p.v[1]+"px)";e.transform=s,e.webkitTransform=s}}if(this.textAnimator.getMeasures(this.textProperty.currentData,this.lettersChangedFlag),!(!this.lettersChangedFlag&&!this.textAnimator.lettersChangedFlag)){var i,a,o=0,c=this.textAnimator.renderedLetters,h=this.textProperty.currentData.l;a=h.length;var d,g,b;for(i=0;i<a;i+=1)h[i].n?o+=1:(g=this.textSpans[i],b=this.textPaths[i],d=c[o],o+=1,d._mdf.m&&(this.isMasked?g.setAttribute("transform",d.m):(g.style.webkitTransform=d.m,g.style.transform=d.m)),g.style.opacity=d.o,d.sw&&d._mdf.sw&&b.setAttribute("stroke-width",d.sw),d.sc&&d._mdf.sc&&b.setAttribute("stroke",d.sc),d.fc&&d._mdf.fc&&(b.setAttribute("fill",d.fc),b.style.color=d.fc));if(this.innerElem.getBBox&&!this.hidden&&(this._isFirstFrame||this._mdf)){var _=this.innerElem.getBBox();this.currentBBox.w!==_.width&&(this.currentBBox.w=_.width,this.svgElement.setAttribute("width",_.width)),this.currentBBox.h!==_.height&&(this.currentBBox.h=_.height,this.svgElement.setAttribute("height",_.height));var $=1;if(this.currentBBox.w!==_.width+$*2||this.currentBBox.h!==_.height+$*2||this.currentBBox.x!==_.x-$||this.currentBBox.y!==_.y-$){this.currentBBox.w=_.width+$*2,this.currentBBox.h=_.height+$*2,this.currentBBox.x=_.x-$,this.currentBBox.y=_.y-$,this.svgElement.setAttribute("viewBox",this.currentBBox.x+" "+this.currentBBox.y+" "+this.currentBBox.w+" "+this.currentBBox.h),e=this.svgElement.style;var j="translate("+this.currentBBox.x+"px,"+this.currentBBox.y+"px)";e.transform=j,e.webkitTransform=j}}}};function HCameraElement(e,s,i){this.initFrame(),this.initBaseData(e,s,i),this.initHierarchy();var a=PropertyFactory.getProp;if(this.pe=a(this,e.pe,0,0,this),e.ks.p.s?(this.px=a(this,e.ks.p.x,1,0,this),this.py=a(this,e.ks.p.y,1,0,this),this.pz=a(this,e.ks.p.z,1,0,this)):this.p=a(this,e.ks.p,1,0,this),e.ks.a&&(this.a=a(this,e.ks.a,1,0,this)),e.ks.or.k.length&&e.ks.or.k[0].to){var o,c=e.ks.or.k.length;for(o=0;o<c;o+=1)e.ks.or.k[o].to=null,e.ks.or.k[o].ti=null}this.or=a(this,e.ks.or,1,degToRads,this),this.or.sh=!0,this.rx=a(this,e.ks.rx,0,degToRads,this),this.ry=a(this,e.ks.ry,0,degToRads,this),this.rz=a(this,e.ks.rz,0,degToRads,this),this.mat=new Matrix,this._prevMat=new Matrix,this._isFirstFrame=!0,this.finalTransform={mProp:this}}extendPrototype([BaseElement,FrameElement,HierarchyElement],HCameraElement),HCameraElement.prototype.setup=function(){var e,s=this.comp.threeDElements.length,i,a,o;for(e=0;e<s;e+=1)if(i=this.comp.threeDElements[e],i.type==="3d"){a=i.perspectiveElem.style,o=i.container.style;var c=this.pe.v+"px",h="0px 0px 0px",d="matrix3d(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1)";a.perspective=c,a.webkitPerspective=c,o.transformOrigin=h,o.mozTransformOrigin=h,o.webkitTransformOrigin=h,a.transform=d,a.webkitTransform=d}},HCameraElement.prototype.createElements=function(){},HCameraElement.prototype.hide=function(){},HCameraElement.prototype.renderFrame=function(){var e=this._isFirstFrame,s,i;if(this.hierarchy)for(i=this.hierarchy.length,s=0;s<i;s+=1)e=this.hierarchy[s].finalTransform.mProp._mdf||e;if(e||this.pe._mdf||this.p&&this.p._mdf||this.px&&(this.px._mdf||this.py._mdf||this.pz._mdf)||this.rx._mdf||this.ry._mdf||this.rz._mdf||this.or._mdf||this.a&&this.a._mdf){if(this.mat.reset(),this.hierarchy)for(i=this.hierarchy.length-1,s=i;s>=0;s-=1){var a=this.hierarchy[s].finalTransform.mProp;this.mat.translate(-a.p.v[0],-a.p.v[1],a.p.v[2]),this.mat.rotateX(-a.or.v[0]).rotateY(-a.or.v[1]).rotateZ(a.or.v[2]),this.mat.rotateX(-a.rx.v).rotateY(-a.ry.v).rotateZ(a.rz.v),this.mat.scale(1/a.s.v[0],1/a.s.v[1],1/a.s.v[2]),this.mat.translate(a.a.v[0],a.a.v[1],a.a.v[2])}if(this.p?this.mat.translate(-this.p.v[0],-this.p.v[1],this.p.v[2]):this.mat.translate(-this.px.v,-this.py.v,this.pz.v),this.a){var o;this.p?o=[this.p.v[0]-this.a.v[0],this.p.v[1]-this.a.v[1],this.p.v[2]-this.a.v[2]]:o=[this.px.v-this.a.v[0],this.py.v-this.a.v[1],this.pz.v-this.a.v[2]];var c=Math.sqrt(Math.pow(o[0],2)+Math.pow(o[1],2)+Math.pow(o[2],2)),h=[o[0]/c,o[1]/c,o[2]/c],d=Math.sqrt(h[2]*h[2]+h[0]*h[0]),g=Math.atan2(h[1],d),b=Math.atan2(h[0],-h[2]);this.mat.rotateY(b).rotateX(-g)}this.mat.rotateX(-this.rx.v).rotateY(-this.ry.v).rotateZ(this.rz.v),this.mat.rotateX(-this.or.v[0]).rotateY(-this.or.v[1]).rotateZ(this.or.v[2]),this.mat.translate(this.globalData.compSize.w/2,this.globalData.compSize.h/2,0),this.mat.translate(0,0,this.pe.v);var _=!this._prevMat.equals(this.mat);if((_||this.pe._mdf)&&this.comp.threeDElements){i=this.comp.threeDElements.length;var $,j,st;for(s=0;s<i;s+=1)if($=this.comp.threeDElements[s],$.type==="3d"){if(_){var tt=this.mat.toCSS();st=$.container.style,st.transform=tt,st.webkitTransform=tt}this.pe._mdf&&(j=$.perspectiveElem.style,j.perspective=this.pe.v+"px",j.webkitPerspective=this.pe.v+"px")}this.mat.clone(this._prevMat)}}this._isFirstFrame=!1},HCameraElement.prototype.prepareFrame=function(e){this.prepareProperties(e,!0)},HCameraElement.prototype.destroy=function(){},HCameraElement.prototype.getBaseElement=function(){return null};function HImageElement(e,s,i){this.assetData=s.getAssetData(e.refId),this.initElement(e,s,i)}extendPrototype([BaseElement,TransformElement,HBaseElement,HSolidElement,HierarchyElement,FrameElement,RenderableElement],HImageElement),HImageElement.prototype.createContent=function(){var e=this.globalData.getAssetsPath(this.assetData),s=new Image;this.data.hasMask?(this.imageElem=createNS("image"),this.imageElem.setAttribute("width",this.assetData.w+"px"),this.imageElem.setAttribute("height",this.assetData.h+"px"),this.imageElem.setAttributeNS("http://www.w3.org/1999/xlink","href",e),this.layerElement.appendChild(this.imageElem),this.baseElement.setAttribute("width",this.assetData.w),this.baseElement.setAttribute("height",this.assetData.h)):this.layerElement.appendChild(s),s.crossOrigin="anonymous",s.src=e,this.data.ln&&this.baseElement.setAttribute("id",this.data.ln)};function HybridRendererBase(e,s){this.animationItem=e,this.layers=null,this.renderedFrame=-1,this.renderConfig={className:s&&s.className||"",imagePreserveAspectRatio:s&&s.imagePreserveAspectRatio||"xMidYMid slice",hideOnTransparent:!(s&&s.hideOnTransparent===!1),filterSize:{width:s&&s.filterSize&&s.filterSize.width||"400%",height:s&&s.filterSize&&s.filterSize.height||"400%",x:s&&s.filterSize&&s.filterSize.x||"-100%",y:s&&s.filterSize&&s.filterSize.y||"-100%"}},this.globalData={_mdf:!1,frameNum:-1,renderConfig:this.renderConfig},this.pendingElements=[],this.elements=[],this.threeDElements=[],this.destroyed=!1,this.camera=null,this.supports3d=!0,this.rendererType="html"}extendPrototype([BaseRenderer],HybridRendererBase),HybridRendererBase.prototype.buildItem=SVGRenderer.prototype.buildItem,HybridRendererBase.prototype.checkPendingElements=function(){for(;this.pendingElements.length;){var e=this.pendingElements.pop();e.checkParenting()}},HybridRendererBase.prototype.appendElementInPos=function(e,s){var i=e.getBaseElement();if(i){var a=this.layers[s];if(!a.ddd||!this.supports3d)if(this.threeDElements)this.addTo3dContainer(i,s);else{for(var o=0,c,h,d;o<s;)this.elements[o]&&this.elements[o]!==!0&&this.elements[o].getBaseElement&&(h=this.elements[o],d=this.layers[o].ddd?this.getThreeDContainerByPos(o):h.getBaseElement(),c=d||c),o+=1;c?(!a.ddd||!this.supports3d)&&this.layerElement.insertBefore(i,c):(!a.ddd||!this.supports3d)&&this.layerElement.appendChild(i)}else this.addTo3dContainer(i,s)}},HybridRendererBase.prototype.createShape=function(e){return this.supports3d?new HShapeElement(e,this.globalData,this):new SVGShapeElement(e,this.globalData,this)},HybridRendererBase.prototype.createText=function(e){return this.supports3d?new HTextElement(e,this.globalData,this):new SVGTextLottieElement(e,this.globalData,this)},HybridRendererBase.prototype.createCamera=function(e){return this.camera=new HCameraElement(e,this.globalData,this),this.camera},HybridRendererBase.prototype.createImage=function(e){return this.supports3d?new HImageElement(e,this.globalData,this):new IImageElement(e,this.globalData,this)},HybridRendererBase.prototype.createSolid=function(e){return this.supports3d?new HSolidElement(e,this.globalData,this):new ISolidElement(e,this.globalData,this)},HybridRendererBase.prototype.createNull=SVGRenderer.prototype.createNull,HybridRendererBase.prototype.getThreeDContainerByPos=function(e){for(var s=0,i=this.threeDElements.length;s<i;){if(this.threeDElements[s].startPos<=e&&this.threeDElements[s].endPos>=e)return this.threeDElements[s].perspectiveElem;s+=1}return null},HybridRendererBase.prototype.createThreeDContainer=function(e,s){var i=createTag("div"),a,o;styleDiv(i);var c=createTag("div");if(styleDiv(c),s==="3d"){a=i.style,a.width=this.globalData.compSize.w+"px",a.height=this.globalData.compSize.h+"px";var h="50% 50%";a.webkitTransformOrigin=h,a.mozTransformOrigin=h,a.transformOrigin=h,o=c.style;var d="matrix3d(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1)";o.transform=d,o.webkitTransform=d}i.appendChild(c);var g={container:c,perspectiveElem:i,startPos:e,endPos:e,type:s};return this.threeDElements.push(g),g},HybridRendererBase.prototype.build3dContainers=function(){var e,s=this.layers.length,i,a="";for(e=0;e<s;e+=1)this.layers[e].ddd&&this.layers[e].ty!==3?(a!=="3d"&&(a="3d",i=this.createThreeDContainer(e,"3d")),i.endPos=Math.max(i.endPos,e)):(a!=="2d"&&(a="2d",i=this.createThreeDContainer(e,"2d")),i.endPos=Math.max(i.endPos,e));for(s=this.threeDElements.length,e=s-1;e>=0;e-=1)this.resizerElem.appendChild(this.threeDElements[e].perspectiveElem)},HybridRendererBase.prototype.addTo3dContainer=function(e,s){for(var i=0,a=this.threeDElements.length;i<a;){if(s<=this.threeDElements[i].endPos){for(var o=this.threeDElements[i].startPos,c;o<s;)this.elements[o]&&this.elements[o].getBaseElement&&(c=this.elements[o].getBaseElement()),o+=1;c?this.threeDElements[i].container.insertBefore(e,c):this.threeDElements[i].container.appendChild(e);break}i+=1}},HybridRendererBase.prototype.configAnimation=function(e){var s=createTag("div"),i=this.animationItem.wrapper,a=s.style;a.width=e.w+"px",a.height=e.h+"px",this.resizerElem=s,styleDiv(s),a.transformStyle="flat",a.mozTransformStyle="flat",a.webkitTransformStyle="flat",this.renderConfig.className&&s.setAttribute("class",this.renderConfig.className),i.appendChild(s),a.overflow="hidden";var o=createNS("svg");o.setAttribute("width","1"),o.setAttribute("height","1"),styleDiv(o),this.resizerElem.appendChild(o);var c=createNS("defs");o.appendChild(c),this.data=e,this.setupGlobalData(e,o),this.globalData.defs=c,this.layers=e.layers,this.layerElement=this.resizerElem,this.build3dContainers(),this.updateContainerSize()},HybridRendererBase.prototype.destroy=function(){this.animationItem.wrapper&&(this.animationItem.wrapper.innerText=""),this.animationItem.container=null,this.globalData.defs=null;var e,s=this.layers?this.layers.length:0;for(e=0;e<s;e+=1)this.elements[e]&&this.elements[e].destroy&&this.elements[e].destroy();this.elements.length=0,this.destroyed=!0,this.animationItem=null},HybridRendererBase.prototype.updateContainerSize=function(){var e=this.animationItem.wrapper.offsetWidth,s=this.animationItem.wrapper.offsetHeight,i=e/s,a=this.globalData.compSize.w/this.globalData.compSize.h,o,c,h,d;a>i?(o=e/this.globalData.compSize.w,c=e/this.globalData.compSize.w,h=0,d=(s-this.globalData.compSize.h*(e/this.globalData.compSize.w))/2):(o=s/this.globalData.compSize.h,c=s/this.globalData.compSize.h,h=(e-this.globalData.compSize.w*(s/this.globalData.compSize.h))/2,d=0);var g=this.resizerElem.style;g.webkitTransform="matrix3d("+o+",0,0,0,0,"+c+",0,0,0,0,1,0,"+h+","+d+",0,1)",g.transform=g.webkitTransform},HybridRendererBase.prototype.renderFrame=SVGRenderer.prototype.renderFrame,HybridRendererBase.prototype.hide=function(){this.resizerElem.style.display="none"},HybridRendererBase.prototype.show=function(){this.resizerElem.style.display="block"},HybridRendererBase.prototype.initItems=function(){if(this.buildAllItems(),this.camera)this.camera.setup();else{var e=this.globalData.compSize.w,s=this.globalData.compSize.h,i,a=this.threeDElements.length;for(i=0;i<a;i+=1){var o=this.threeDElements[i].perspectiveElem.style;o.webkitPerspective=Math.sqrt(Math.pow(e,2)+Math.pow(s,2))+"px",o.perspective=o.webkitPerspective}}},HybridRendererBase.prototype.searchExtraCompositions=function(e){var s,i=e.length,a=createTag("div");for(s=0;s<i;s+=1)if(e[s].xt){var o=this.createComp(e[s],a,this.globalData.comp,null);o.initExpressions(),this.globalData.projectInterface.registerComposition(o)}};function HCompElement(e,s,i){this.layers=e.layers,this.supports3d=!e.hasMask,this.completeLayers=!1,this.pendingElements=[],this.elements=this.layers?createSizedArray(this.layers.length):[],this.initElement(e,s,i),this.tm=e.tm?PropertyFactory.getProp(this,e.tm,0,s.frameRate,this):{_placeholder:!0}}extendPrototype([HybridRendererBase,ICompElement,HBaseElement],HCompElement),HCompElement.prototype._createBaseContainerElements=HCompElement.prototype.createContainerElements,HCompElement.prototype.createContainerElements=function(){this._createBaseContainerElements(),this.data.hasMask?(this.svgElement.setAttribute("width",this.data.w),this.svgElement.setAttribute("height",this.data.h),this.transformedElement=this.baseElement):this.transformedElement=this.layerElement},HCompElement.prototype.addTo3dContainer=function(e,s){for(var i=0,a;i<s;)this.elements[i]&&this.elements[i].getBaseElement&&(a=this.elements[i].getBaseElement()),i+=1;a?this.layerElement.insertBefore(e,a):this.layerElement.appendChild(e)},HCompElement.prototype.createComp=function(e){return this.supports3d?new HCompElement(e,this.globalData,this):new SVGCompElement(e,this.globalData,this)};function HybridRenderer(e,s){this.animationItem=e,this.layers=null,this.renderedFrame=-1,this.renderConfig={className:s&&s.className||"",imagePreserveAspectRatio:s&&s.imagePreserveAspectRatio||"xMidYMid slice",hideOnTransparent:!(s&&s.hideOnTransparent===!1),filterSize:{width:s&&s.filterSize&&s.filterSize.width||"400%",height:s&&s.filterSize&&s.filterSize.height||"400%",x:s&&s.filterSize&&s.filterSize.x||"-100%",y:s&&s.filterSize&&s.filterSize.y||"-100%"},runExpressions:!s||s.runExpressions===void 0||s.runExpressions},this.globalData={_mdf:!1,frameNum:-1,renderConfig:this.renderConfig},this.pendingElements=[],this.elements=[],this.threeDElements=[],this.destroyed=!1,this.camera=null,this.supports3d=!0,this.rendererType="html"}extendPrototype([HybridRendererBase],HybridRenderer),HybridRenderer.prototype.createComp=function(e){return this.supports3d?new HCompElement(e,this.globalData,this):new SVGCompElement(e,this.globalData,this)};var CompExpressionInterface=function(){return function(e){function s(i){for(var a=0,o=e.layers.length;a<o;){if(e.layers[a].nm===i||e.layers[a].ind===i)return e.elements[a].layerInterface;a+=1}return null}return Object.defineProperty(s,"_name",{value:e.data.nm}),s.layer=s,s.pixelAspect=1,s.height=e.data.h||e.globalData.compSize.h,s.width=e.data.w||e.globalData.compSize.w,s.pixelAspect=1,s.frameDuration=1/e.globalData.frameRate,s.displayStartTime=0,s.numLayers=e.layers.length,s}}();function _typeof$2(e){"@babel/helpers - typeof";return _typeof$2=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(s){return typeof s}:function(s){return s&&typeof Symbol=="function"&&s.constructor===Symbol&&s!==Symbol.prototype?"symbol":typeof s},_typeof$2(e)}function seedRandom(e,s){var i=this,a=256,o=6,c=52,h="random",d=s.pow(a,o),g=s.pow(2,c),b=g*2,_=a-1,$;function j(et,it,ot){var ut=[];it=it===!0?{entropy:!0}:it||{};var ht=at(nt(it.entropy?[et,rt(e)]:et===null?_e():et,3),ut),dt=new st(ut),mt=function(){for(var St=dt.g(o),vt=d,wt=0;St<g;)St=(St+wt)*a,vt*=a,wt=dt.g(1);for(;St>=b;)St/=2,vt/=2,wt>>>=1;return(St+wt)/vt};return mt.int32=function(){return dt.g(4)|0},mt.quick=function(){return dt.g(4)/4294967296},mt.double=mt,at(rt(dt.S),e),(it.pass||ot||function(xt,St,vt,wt){return wt&&(wt.S&&tt(wt,dt),xt.state=function(){return tt(dt,{})}),vt?(s[h]=xt,St):xt})(mt,ht,"global"in it?it.global:this==s,it.state)}s["seed"+h]=j;function st(et){var it,ot=et.length,ut=this,ht=0,dt=ut.i=ut.j=0,mt=ut.S=[];for(ot||(et=[ot++]);ht<a;)mt[ht]=ht++;for(ht=0;ht<a;ht++)mt[ht]=mt[dt=_&dt+et[ht%ot]+(it=mt[ht])],mt[dt]=it;ut.g=function(xt){for(var St,vt=0,wt=ut.i,_t=ut.j,bt=ut.S;xt--;)St=bt[wt=_&wt+1],vt=vt*a+bt[_&(bt[wt]=bt[_t=_&_t+St])+(bt[_t]=St)];return ut.i=wt,ut.j=_t,vt}}function tt(et,it){return it.i=et.i,it.j=et.j,it.S=et.S.slice(),it}function nt(et,it){var ot=[],ut=_typeof$2(et),ht;if(it&&ut=="object")for(ht in et)try{ot.push(nt(et[ht],it-1))}catch{}return ot.length?ot:ut=="string"?et:et+"\0"}function at(et,it){for(var ot=et+"",ut,ht=0;ht<ot.length;)it[_&ht]=_&(ut^=it[_&ht]*19)+ot.charCodeAt(ht++);return rt(it)}function _e(){try{var et=new Uint8Array(a);return(i.crypto||i.msCrypto).getRandomValues(et),rt(et)}catch{var it=i.navigator,ot=it&&it.plugins;return[+new Date,i,ot,i.screen,rt(e)]}}function rt(et){return String.fromCharCode.apply(0,et)}at(s.random(),e)}function initialize$2(e){seedRandom([],e)}var propTypes={SHAPE:"shape"};function _typeof$1(e){"@babel/helpers - typeof";return _typeof$1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(s){return typeof s}:function(s){return s&&typeof Symbol=="function"&&s.constructor===Symbol&&s!==Symbol.prototype?"symbol":typeof s},_typeof$1(e)}var ExpressionManager=function(){var ob={},Math=BMMath,window=null,document=null,XMLHttpRequest=null,fetch=null,frames=null,_lottieGlobal={};initialize$2(BMMath);function resetFrame(){_lottieGlobal={}}function $bm_isInstanceOfArray(e){return e.constructor===Array||e.constructor===Float32Array}function isNumerable(e,s){return e==="number"||s instanceof Number||e==="boolean"||e==="string"}function $bm_neg(e){var s=_typeof$1(e);if(s==="number"||e instanceof Number||s==="boolean")return-e;if($bm_isInstanceOfArray(e)){var i,a=e.length,o=[];for(i=0;i<a;i+=1)o[i]=-e[i];return o}return e.propType?e.v:-e}var easeInBez=BezierFactory.getBezierEasing(.333,0,.833,.833,"easeIn").get,easeOutBez=BezierFactory.getBezierEasing(.167,.167,.667,1,"easeOut").get,easeInOutBez=BezierFactory.getBezierEasing(.33,0,.667,1,"easeInOut").get;function sum(e,s){var i=_typeof$1(e),a=_typeof$1(s);if(isNumerable(i,e)&&isNumerable(a,s)||i==="string"||a==="string")return e+s;if($bm_isInstanceOfArray(e)&&isNumerable(a,s))return e=e.slice(0),e[0]+=s,e;if(isNumerable(i,e)&&$bm_isInstanceOfArray(s))return s=s.slice(0),s[0]=e+s[0],s;if($bm_isInstanceOfArray(e)&&$bm_isInstanceOfArray(s)){for(var o=0,c=e.length,h=s.length,d=[];o<c||o<h;)(typeof e[o]=="number"||e[o]instanceof Number)&&(typeof s[o]=="number"||s[o]instanceof Number)?d[o]=e[o]+s[o]:d[o]=s[o]===void 0?e[o]:e[o]||s[o],o+=1;return d}return 0}var add=sum;function sub(e,s){var i=_typeof$1(e),a=_typeof$1(s);if(isNumerable(i,e)&&isNumerable(a,s))return i==="string"&&(e=parseInt(e,10)),a==="string"&&(s=parseInt(s,10)),e-s;if($bm_isInstanceOfArray(e)&&isNumerable(a,s))return e=e.slice(0),e[0]-=s,e;if(isNumerable(i,e)&&$bm_isInstanceOfArray(s))return s=s.slice(0),s[0]=e-s[0],s;if($bm_isInstanceOfArray(e)&&$bm_isInstanceOfArray(s)){for(var o=0,c=e.length,h=s.length,d=[];o<c||o<h;)(typeof e[o]=="number"||e[o]instanceof Number)&&(typeof s[o]=="number"||s[o]instanceof Number)?d[o]=e[o]-s[o]:d[o]=s[o]===void 0?e[o]:e[o]||s[o],o+=1;return d}return 0}function mul(e,s){var i=_typeof$1(e),a=_typeof$1(s),o;if(isNumerable(i,e)&&isNumerable(a,s))return e*s;var c,h;if($bm_isInstanceOfArray(e)&&isNumerable(a,s)){for(h=e.length,o=createTypedArray("float32",h),c=0;c<h;c+=1)o[c]=e[c]*s;return o}if(isNumerable(i,e)&&$bm_isInstanceOfArray(s)){for(h=s.length,o=createTypedArray("float32",h),c=0;c<h;c+=1)o[c]=e*s[c];return o}return 0}function div(e,s){var i=_typeof$1(e),a=_typeof$1(s),o;if(isNumerable(i,e)&&isNumerable(a,s))return e/s;var c,h;if($bm_isInstanceOfArray(e)&&isNumerable(a,s)){for(h=e.length,o=createTypedArray("float32",h),c=0;c<h;c+=1)o[c]=e[c]/s;return o}if(isNumerable(i,e)&&$bm_isInstanceOfArray(s)){for(h=s.length,o=createTypedArray("float32",h),c=0;c<h;c+=1)o[c]=e/s[c];return o}return 0}function mod(e,s){return typeof e=="string"&&(e=parseInt(e,10)),typeof s=="string"&&(s=parseInt(s,10)),e%s}var $bm_sum=sum,$bm_sub=sub,$bm_mul=mul,$bm_div=div,$bm_mod=mod;function clamp(e,s,i){if(s>i){var a=i;i=s,s=a}return Math.min(Math.max(e,s),i)}function radiansToDegrees(e){return e/degToRads}var radians_to_degrees=radiansToDegrees;function degreesToRadians(e){return e*degToRads}var degrees_to_radians=radiansToDegrees,helperLengthArray=[0,0,0,0,0,0];function length(e,s){if(typeof e=="number"||e instanceof Number)return s=s||0,Math.abs(e-s);s||(s=helperLengthArray);var i,a=Math.min(e.length,s.length),o=0;for(i=0;i<a;i+=1)o+=Math.pow(s[i]-e[i],2);return Math.sqrt(o)}function normalize(e){return div(e,length(e))}function rgbToHsl(e){var s=e[0],i=e[1],a=e[2],o=Math.max(s,i,a),c=Math.min(s,i,a),h,d,g=(o+c)/2;if(o===c)h=0,d=0;else{var b=o-c;switch(d=g>.5?b/(2-o-c):b/(o+c),o){case s:h=(i-a)/b+(i<a?6:0);break;case i:h=(a-s)/b+2;break;case a:h=(s-i)/b+4;break}h/=6}return[h,d,g,e[3]]}function hue2rgb(e,s,i){return i<0&&(i+=1),i>1&&(i-=1),i<1/6?e+(s-e)*6*i:i<1/2?s:i<2/3?e+(s-e)*(2/3-i)*6:e}function hslToRgb(e){var s=e[0],i=e[1],a=e[2],o,c,h;if(i===0)o=a,h=a,c=a;else{var d=a<.5?a*(1+i):a+i-a*i,g=2*a-d;o=hue2rgb(g,d,s+1/3),c=hue2rgb(g,d,s),h=hue2rgb(g,d,s-1/3)}return[o,c,h,e[3]]}function linear(e,s,i,a,o){if((a===void 0||o===void 0)&&(a=s,o=i,s=0,i=1),i<s){var c=i;i=s,s=c}if(e<=s)return a;if(e>=i)return o;var h=i===s?0:(e-s)/(i-s);if(!a.length)return a+(o-a)*h;var d,g=a.length,b=createTypedArray("float32",g);for(d=0;d<g;d+=1)b[d]=a[d]+(o[d]-a[d])*h;return b}function random(e,s){if(s===void 0&&(e===void 0?(e=0,s=1):(s=e,e=void 0)),s.length){var i,a=s.length;e||(e=createTypedArray("float32",a));var o=createTypedArray("float32",a),c=BMMath.random();for(i=0;i<a;i+=1)o[i]=e[i]+c*(s[i]-e[i]);return o}e===void 0&&(e=0);var h=BMMath.random();return e+h*(s-e)}function createPath(e,s,i,a){var o,c=e.length,h=shapePool.newElement();h.setPathData(!!a,c);var d=[0,0],g,b;for(o=0;o<c;o+=1)g=s&&s[o]?s[o]:d,b=i&&i[o]?i[o]:d,h.setTripleAt(e[o][0],e[o][1],b[0]+e[o][0],b[1]+e[o][1],g[0]+e[o][0],g[1]+e[o][1],o,!0);return h}function initiateExpression(elem,data,property){function noOp(e){return e}if(!elem.globalData.renderConfig.runExpressions)return noOp;var val=data.x,needsVelocity=/velocity(?![\w\d])/.test(val),_needsRandom=val.indexOf("random")!==-1,elemType=elem.data.ty,transform,$bm_transform,content,effect,thisProperty=property;thisProperty._name=elem.data.nm,thisProperty.valueAtTime=thisProperty.getValueAtTime,Object.defineProperty(thisProperty,"value",{get:function(){return thisProperty.v}}),elem.comp.frameDuration=1/elem.comp.globalData.frameRate,elem.comp.displayStartTime=0;var inPoint=elem.data.ip/elem.comp.globalData.frameRate,outPoint=elem.data.op/elem.comp.globalData.frameRate,width=elem.data.sw?elem.data.sw:0,height=elem.data.sh?elem.data.sh:0,name=elem.data.nm,loopIn,loop_in,loopOut,loop_out,smooth,toWorld,fromWorld,fromComp,toComp,fromCompToSurface,position,rotation,anchorPoint,scale,thisLayer,thisComp,mask,valueAtTime,velocityAtTime,scoped_bm_rt,expression_function=eval("[function _expression_function(){"+val+";scoped_bm_rt=$bm_rt}]")[0],numKeys=property.kf?data.k.length:0,active=!this.data||this.data.hd!==!0,wiggle=(function e(s,i){var a,o,c=this.pv.length?this.pv.length:1,h=createTypedArray("float32",c);s=5;var d=Math.floor(time*s);for(a=0,o=0;a<d;){for(o=0;o<c;o+=1)h[o]+=-i+i*2*BMMath.random();a+=1}var g=time*s,b=g-Math.floor(g),_=createTypedArray("float32",c);if(c>1){for(o=0;o<c;o+=1)_[o]=this.pv[o]+h[o]+(-i+i*2*BMMath.random())*b;return _}return this.pv+h[0]+(-i+i*2*BMMath.random())*b}).bind(this);thisProperty.loopIn&&(loopIn=thisProperty.loopIn.bind(thisProperty),loop_in=loopIn),thisProperty.loopOut&&(loopOut=thisProperty.loopOut.bind(thisProperty),loop_out=loopOut),thisProperty.smooth&&(smooth=thisProperty.smooth.bind(thisProperty));function loopInDuration(e,s){return loopIn(e,s,!0)}function loopOutDuration(e,s){return loopOut(e,s,!0)}this.getValueAtTime&&(valueAtTime=this.getValueAtTime.bind(this)),this.getVelocityAtTime&&(velocityAtTime=this.getVelocityAtTime.bind(this));var comp=elem.comp.globalData.projectInterface.bind(elem.comp.globalData.projectInterface);function lookAt(e,s){var i=[s[0]-e[0],s[1]-e[1],s[2]-e[2]],a=Math.atan2(i[0],Math.sqrt(i[1]*i[1]+i[2]*i[2]))/degToRads,o=-Math.atan2(i[1],i[2])/degToRads;return[o,a,0]}function easeOut(e,s,i,a,o){return applyEase(easeOutBez,e,s,i,a,o)}function easeIn(e,s,i,a,o){return applyEase(easeInBez,e,s,i,a,o)}function ease(e,s,i,a,o){return applyEase(easeInOutBez,e,s,i,a,o)}function applyEase(e,s,i,a,o,c){o===void 0?(o=i,c=a):s=(s-i)/(a-i),s>1?s=1:s<0&&(s=0);var h=e(s);if($bm_isInstanceOfArray(o)){var d,g=o.length,b=createTypedArray("float32",g);for(d=0;d<g;d+=1)b[d]=(c[d]-o[d])*h+o[d];return b}return(c-o)*h+o}function nearestKey(e){var s,i=data.k.length,a,o;if(!data.k.length||typeof data.k[0]=="number")a=0,o=0;else if(a=-1,e*=elem.comp.globalData.frameRate,e<data.k[0].t)a=1,o=data.k[0].t;else{for(s=0;s<i-1;s+=1)if(e===data.k[s].t){a=s+1,o=data.k[s].t;break}else if(e>data.k[s].t&&e<data.k[s+1].t){e-data.k[s].t>data.k[s+1].t-e?(a=s+2,o=data.k[s+1].t):(a=s+1,o=data.k[s].t);break}a===-1&&(a=s+1,o=data.k[s].t)}var c={};return c.index=a,c.time=o/elem.comp.globalData.frameRate,c}function key(e){var s,i,a;if(!data.k.length||typeof data.k[0]=="number")throw new Error("The property has no keyframe at index "+e);e-=1,s={time:data.k[e].t/elem.comp.globalData.frameRate,value:[]};var o=Object.prototype.hasOwnProperty.call(data.k[e],"s")?data.k[e].s:data.k[e-1].e;for(a=o.length,i=0;i<a;i+=1)s[i]=o[i],s.value[i]=o[i];return s}function framesToTime(e,s){return s||(s=elem.comp.globalData.frameRate),e/s}function timeToFrames(e,s){return!e&&e!==0&&(e=time),s||(s=elem.comp.globalData.frameRate),e*s}function seedRandom(e){BMMath.seedrandom(randSeed+e)}function sourceRectAtTime(){return elem.sourceRectAtTime()}function substring(e,s){return typeof value=="string"?s===void 0?value.substring(e):value.substring(e,s):""}function substr(e,s){return typeof value=="string"?s===void 0?value.substr(e):value.substr(e,s):""}function posterizeTime(e){time=e===0?0:Math.floor(time*e)/e,value=valueAtTime(time)}var time,velocity,value,text,textIndex,textTotal,selectorValue,index=elem.data.ind,hasParent=!!(elem.hierarchy&&elem.hierarchy.length),parent,randSeed=Math.floor(Math.random()*1e6),globalData=elem.globalData;function executeExpression(e){return value=e,this.frameExpressionId===elem.globalData.frameId&&this.propType!=="textSelector"?value:(this.propType==="textSelector"&&(textIndex=this.textIndex,textTotal=this.textTotal,selectorValue=this.selectorValue),thisLayer||(text=elem.layerInterface.text,thisLayer=elem.layerInterface,thisComp=elem.comp.compInterface,toWorld=thisLayer.toWorld.bind(thisLayer),fromWorld=thisLayer.fromWorld.bind(thisLayer),fromComp=thisLayer.fromComp.bind(thisLayer),toComp=thisLayer.toComp.bind(thisLayer),mask=thisLayer.mask?thisLayer.mask.bind(thisLayer):null,fromCompToSurface=fromComp),transform||(transform=elem.layerInterface("ADBE Transform Group"),$bm_transform=transform,transform&&(anchorPoint=transform.anchorPoint)),elemType===4&&!content&&(content=thisLayer("ADBE Root Vectors Group")),effect||(effect=thisLayer(4)),hasParent=!!(elem.hierarchy&&elem.hierarchy.length),hasParent&&!parent&&(parent=elem.hierarchy[0].layerInterface),time=this.comp.renderedFrame/this.comp.globalData.frameRate,_needsRandom&&seedRandom(randSeed+time),needsVelocity&&(velocity=velocityAtTime(time)),expression_function(),this.frameExpressionId=elem.globalData.frameId,scoped_bm_rt=scoped_bm_rt.propType===propTypes.SHAPE?scoped_bm_rt.v:scoped_bm_rt,scoped_bm_rt)}return executeExpression.__preventDeadCodeRemoval=[$bm_transform,anchorPoint,time,velocity,inPoint,outPoint,width,height,name,loop_in,loop_out,smooth,toComp,fromCompToSurface,toWorld,fromWorld,mask,position,rotation,scale,thisComp,numKeys,active,wiggle,loopInDuration,loopOutDuration,comp,lookAt,easeOut,easeIn,ease,nearestKey,key,text,textIndex,textTotal,selectorValue,framesToTime,timeToFrames,sourceRectAtTime,substring,substr,posterizeTime,index,globalData],executeExpression}return ob.initiateExpression=initiateExpression,ob.__preventDeadCodeRemoval=[window,document,XMLHttpRequest,fetch,frames,$bm_neg,add,$bm_sum,$bm_sub,$bm_mul,$bm_div,$bm_mod,clamp,radians_to_degrees,degreesToRadians,degrees_to_radians,normalize,rgbToHsl,hslToRgb,linear,random,createPath,_lottieGlobal],ob.resetFrame=resetFrame,ob}(),Expressions=function(){var e={};e.initExpressions=s,e.resetFrame=ExpressionManager.resetFrame;function s(i){var a=0,o=[];function c(){a+=1}function h(){a-=1,a===0&&g()}function d(b){o.indexOf(b)===-1&&o.push(b)}function g(){var b,_=o.length;for(b=0;b<_;b+=1)o[b].release();o.length=0}i.renderer.compInterface=CompExpressionInterface(i.renderer),i.renderer.globalData.projectInterface.registerComposition(i.renderer),i.renderer.globalData.pushExpression=c,i.renderer.globalData.popExpression=h,i.renderer.globalData.registerExpressionProperty=d}return e}(),MaskManagerInterface=function(){function e(i,a){this._mask=i,this._data=a}Object.defineProperty(e.prototype,"maskPath",{get:function(){return this._mask.prop.k&&this._mask.prop.getValue(),this._mask.prop}}),Object.defineProperty(e.prototype,"maskOpacity",{get:function(){return this._mask.op.k&&this._mask.op.getValue(),this._mask.op.v*100}});var s=function(a){var o=createSizedArray(a.viewData.length),c,h=a.viewData.length;for(c=0;c<h;c+=1)o[c]=new e(a.viewData[c],a.masksProperties[c]);var d=function(b){for(c=0;c<h;){if(a.masksProperties[c].nm===b)return o[c];c+=1}return null};return d};return s}(),ExpressionPropertyInterface=function(){var e={pv:0,v:0,mult:1},s={pv:[0,0,0],v:[0,0,0],mult:1};function i(h,d,g){Object.defineProperty(h,"velocity",{get:function(){return d.getVelocityAtTime(d.comp.currentFrame)}}),h.numKeys=d.keyframes?d.keyframes.length:0,h.key=function(b){if(!h.numKeys)return 0;var _="";"s"in d.keyframes[b-1]?_=d.keyframes[b-1].s:"e"in d.keyframes[b-2]?_=d.keyframes[b-2].e:_=d.keyframes[b-2].s;var $=g==="unidimensional"?new Number(_):Object.assign({},_);return $.time=d.keyframes[b-1].t/d.elem.comp.globalData.frameRate,$.value=g==="unidimensional"?_[0]:_,$},h.valueAtTime=d.getValueAtTime,h.speedAtTime=d.getSpeedAtTime,h.velocityAtTime=d.getVelocityAtTime,h.propertyGroup=d.propertyGroup}function a(h){(!h||!("pv"in h))&&(h=e);var d=1/h.mult,g=h.pv*d,b=new Number(g);return b.value=g,i(b,h,"unidimensional"),function(){return h.k&&h.getValue(),g=h.v*d,b.value!==g&&(b=new Number(g),b.value=g,b[0]=g,i(b,h,"unidimensional")),b}}function o(h){(!h||!("pv"in h))&&(h=s);var d=1/h.mult,g=h.data&&h.data.l||h.pv.length,b=createTypedArray("float32",g),_=createTypedArray("float32",g);return b.value=_,i(b,h,"multidimensional"),function(){h.k&&h.getValue();for(var $=0;$<g;$+=1)_[$]=h.v[$]*d,b[$]=_[$];return b}}function c(){return e}return function(h){return h?h.propType==="unidimensional"?a(h):o(h):c}}(),TransformExpressionInterface=function(){return function(e){function s(h){switch(h){case"scale":case"Scale":case"ADBE Scale":case 6:return s.scale;case"rotation":case"Rotation":case"ADBE Rotation":case"ADBE Rotate Z":case 10:return s.rotation;case"ADBE Rotate X":return s.xRotation;case"ADBE Rotate Y":return s.yRotation;case"position":case"Position":case"ADBE Position":case 2:return s.position;case"ADBE Position_0":return s.xPosition;case"ADBE Position_1":return s.yPosition;case"ADBE Position_2":return s.zPosition;case"anchorPoint":case"AnchorPoint":case"Anchor Point":case"ADBE AnchorPoint":case 1:return s.anchorPoint;case"opacity":case"Opacity":case 11:return s.opacity;default:return null}}Object.defineProperty(s,"rotation",{get:ExpressionPropertyInterface(e.r||e.rz)}),Object.defineProperty(s,"zRotation",{get:ExpressionPropertyInterface(e.rz||e.r)}),Object.defineProperty(s,"xRotation",{get:ExpressionPropertyInterface(e.rx)}),Object.defineProperty(s,"yRotation",{get:ExpressionPropertyInterface(e.ry)}),Object.defineProperty(s,"scale",{get:ExpressionPropertyInterface(e.s)});var i,a,o,c;return e.p?c=ExpressionPropertyInterface(e.p):(i=ExpressionPropertyInterface(e.px),a=ExpressionPropertyInterface(e.py),e.pz&&(o=ExpressionPropertyInterface(e.pz))),Object.defineProperty(s,"position",{get:function(){return e.p?c():[i(),a(),o?o():0]}}),Object.defineProperty(s,"xPosition",{get:ExpressionPropertyInterface(e.px)}),Object.defineProperty(s,"yPosition",{get:ExpressionPropertyInterface(e.py)}),Object.defineProperty(s,"zPosition",{get:ExpressionPropertyInterface(e.pz)}),Object.defineProperty(s,"anchorPoint",{get:ExpressionPropertyInterface(e.a)}),Object.defineProperty(s,"opacity",{get:ExpressionPropertyInterface(e.o)}),Object.defineProperty(s,"skew",{get:ExpressionPropertyInterface(e.sk)}),Object.defineProperty(s,"skewAxis",{get:ExpressionPropertyInterface(e.sa)}),Object.defineProperty(s,"orientation",{get:ExpressionPropertyInterface(e.or)}),s}}(),LayerExpressionInterface=function(){function e(b){var _=new Matrix;if(b!==void 0){var $=this._elem.finalTransform.mProp.getValueAtTime(b);$.clone(_)}else{var j=this._elem.finalTransform.mProp;j.applyToMatrix(_)}return _}function s(b,_){var $=this.getMatrix(_);return $.props[12]=0,$.props[13]=0,$.props[14]=0,this.applyPoint($,b)}function i(b,_){var $=this.getMatrix(_);return this.applyPoint($,b)}function a(b,_){var $=this.getMatrix(_);return $.props[12]=0,$.props[13]=0,$.props[14]=0,this.invertPoint($,b)}function o(b,_){var $=this.getMatrix(_);return this.invertPoint($,b)}function c(b,_){if(this._elem.hierarchy&&this._elem.hierarchy.length){var $,j=this._elem.hierarchy.length;for($=0;$<j;$+=1)this._elem.hierarchy[$].finalTransform.mProp.applyToMatrix(b)}return b.applyToPointArray(_[0],_[1],_[2]||0)}function h(b,_){if(this._elem.hierarchy&&this._elem.hierarchy.length){var $,j=this._elem.hierarchy.length;for($=0;$<j;$+=1)this._elem.hierarchy[$].finalTransform.mProp.applyToMatrix(b)}return b.inversePoint(_)}function d(b){var _=new Matrix;if(_.reset(),this._elem.finalTransform.mProp.applyToMatrix(_),this._elem.hierarchy&&this._elem.hierarchy.length){var $,j=this._elem.hierarchy.length;for($=0;$<j;$+=1)this._elem.hierarchy[$].finalTransform.mProp.applyToMatrix(_);return _.inversePoint(b)}return _.inversePoint(b)}function g(){return[1,1,1,1]}return function(b){var _;function $(nt){st.mask=new MaskManagerInterface(nt,b)}function j(nt){st.effect=nt}function st(nt){switch(nt){case"ADBE Root Vectors Group":case"Contents":case 2:return st.shapeInterface;case 1:case 6:case"Transform":case"transform":case"ADBE Transform Group":return _;case 4:case"ADBE Effect Parade":case"effects":case"Effects":return st.effect;case"ADBE Text Properties":return st.textInterface;default:return null}}st.getMatrix=e,st.invertPoint=h,st.applyPoint=c,st.toWorld=i,st.toWorldVec=s,st.fromWorld=o,st.fromWorldVec=a,st.toComp=i,st.fromComp=d,st.sampleImage=g,st.sourceRectAtTime=b.sourceRectAtTime.bind(b),st._elem=b,_=TransformExpressionInterface(b.finalTransform.mProp);var tt=getDescriptor(_,"anchorPoint");return Object.defineProperties(st,{hasParent:{get:function(){return b.hierarchy.length}},parent:{get:function(){return b.hierarchy[0].layerInterface}},rotation:getDescriptor(_,"rotation"),scale:getDescriptor(_,"scale"),position:getDescriptor(_,"position"),opacity:getDescriptor(_,"opacity"),anchorPoint:tt,anchor_point:tt,transform:{get:function(){return _}},active:{get:function(){return b.isInRange}}}),st.startTime=b.data.st,st.index=b.data.ind,st.source=b.data.refId,st.height=b.data.ty===0?b.data.h:100,st.width=b.data.ty===0?b.data.w:100,st.inPoint=b.data.ip/b.comp.globalData.frameRate,st.outPoint=b.data.op/b.comp.globalData.frameRate,st._name=b.data.nm,st.registerMaskInterface=$,st.registerEffectsInterface=j,st}}(),propertyGroupFactory=function(){return function(e,s){return function(i){return i=i===void 0?1:i,i<=0?e:s(i-1)}}}(),PropertyInterface=function(){return function(e,s){var i={_name:e};function a(o){return o=o===void 0?1:o,o<=0?i:s(o-1)}return a}}(),EffectsExpressionInterface=function(){var e={createEffectsInterface:s};function s(o,c){if(o.effectsManager){var h=[],d=o.data.ef,g,b=o.effectsManager.effectElements.length;for(g=0;g<b;g+=1)h.push(i(d[g],o.effectsManager.effectElements[g],c,o));var _=o.data.ef||[],$=function(st){for(g=0,b=_.length;g<b;){if(st===_[g].nm||st===_[g].mn||st===_[g].ix)return h[g];g+=1}return null};return Object.defineProperty($,"numProperties",{get:function(){return _.length}}),$}return null}function i(o,c,h,d){function g(st){for(var tt=o.ef,nt=0,at=tt.length;nt<at;){if(st===tt[nt].nm||st===tt[nt].mn||st===tt[nt].ix)return tt[nt].ty===5?_[nt]:_[nt]();nt+=1}throw new Error}var b=propertyGroupFactory(g,h),_=[],$,j=o.ef.length;for($=0;$<j;$+=1)o.ef[$].ty===5?_.push(i(o.ef[$],c.effectElements[$],c.effectElements[$].propertyGroup,d)):_.push(a(c.effectElements[$],o.ef[$].ty,d,b));return o.mn==="ADBE Color Control"&&Object.defineProperty(g,"color",{get:function(){return _[0]()}}),Object.defineProperties(g,{numProperties:{get:function(){return o.np}},_name:{value:o.nm},propertyGroup:{value:b}}),g.enabled=o.en!==0,g.active=g.enabled,g}function a(o,c,h,d){var g=ExpressionPropertyInterface(o.p);function b(){return c===10?h.comp.compInterface(o.p.v):g()}return o.p.setGroupProperty&&o.p.setGroupProperty(PropertyInterface("",d)),b}return e}(),ShapePathInterface=function(){return function(s,i,a){var o=i.sh;function c(d){return d==="Shape"||d==="shape"||d==="Path"||d==="path"||d==="ADBE Vector Shape"||d===2?c.path:null}var h=propertyGroupFactory(c,a);return o.setGroupProperty(PropertyInterface("Path",h)),Object.defineProperties(c,{path:{get:function(){return o.k&&o.getValue(),o}},shape:{get:function(){return o.k&&o.getValue(),o}},_name:{value:s.nm},ix:{value:s.ix},propertyIndex:{value:s.ix},mn:{value:s.mn},propertyGroup:{value:a}}),c}}(),ShapeExpressionInterface=function(){function e(tt,nt,at){var _e=[],rt,et=tt?tt.length:0;for(rt=0;rt<et;rt+=1)tt[rt].ty==="gr"?_e.push(i(tt[rt],nt[rt],at)):tt[rt].ty==="fl"?_e.push(a(tt[rt],nt[rt],at)):tt[rt].ty==="st"?_e.push(h(tt[rt],nt[rt],at)):tt[rt].ty==="tm"?_e.push(d(tt[rt],nt[rt],at)):tt[rt].ty==="tr"||(tt[rt].ty==="el"?_e.push(b(tt[rt],nt[rt],at)):tt[rt].ty==="sr"?_e.push(_(tt[rt],nt[rt],at)):tt[rt].ty==="sh"?_e.push(ShapePathInterface(tt[rt],nt[rt],at)):tt[rt].ty==="rc"?_e.push($(tt[rt],nt[rt],at)):tt[rt].ty==="rd"?_e.push(j(tt[rt],nt[rt],at)):tt[rt].ty==="rp"?_e.push(st(tt[rt],nt[rt],at)):tt[rt].ty==="gf"?_e.push(o(tt[rt],nt[rt],at)):_e.push(c(tt[rt],nt[rt])));return _e}function s(tt,nt,at){var _e,rt=function(ot){for(var ut=0,ht=_e.length;ut<ht;){if(_e[ut]._name===ot||_e[ut].mn===ot||_e[ut].propertyIndex===ot||_e[ut].ix===ot||_e[ut].ind===ot)return _e[ut];ut+=1}return typeof ot=="number"?_e[ot-1]:null};rt.propertyGroup=propertyGroupFactory(rt,at),_e=e(tt.it,nt.it,rt.propertyGroup),rt.numProperties=_e.length;var et=g(tt.it[tt.it.length-1],nt.it[nt.it.length-1],rt.propertyGroup);return rt.transform=et,rt.propertyIndex=tt.cix,rt._name=tt.nm,rt}function i(tt,nt,at){var _e=function(ot){switch(ot){case"ADBE Vectors Group":case"Contents":case 2:return _e.content;default:return _e.transform}};_e.propertyGroup=propertyGroupFactory(_e,at);var rt=s(tt,nt,_e.propertyGroup),et=g(tt.it[tt.it.length-1],nt.it[nt.it.length-1],_e.propertyGroup);return _e.content=rt,_e.transform=et,Object.defineProperty(_e,"_name",{get:function(){return tt.nm}}),_e.numProperties=tt.np,_e.propertyIndex=tt.ix,_e.nm=tt.nm,_e.mn=tt.mn,_e}function a(tt,nt,at){function _e(rt){return rt==="Color"||rt==="color"?_e.color:rt==="Opacity"||rt==="opacity"?_e.opacity:null}return Object.defineProperties(_e,{color:{get:ExpressionPropertyInterface(nt.c)},opacity:{get:ExpressionPropertyInterface(nt.o)},_name:{value:tt.nm},mn:{value:tt.mn}}),nt.c.setGroupProperty(PropertyInterface("Color",at)),nt.o.setGroupProperty(PropertyInterface("Opacity",at)),_e}function o(tt,nt,at){function _e(rt){return rt==="Start Point"||rt==="start point"?_e.startPoint:rt==="End Point"||rt==="end point"?_e.endPoint:rt==="Opacity"||rt==="opacity"?_e.opacity:null}return Object.defineProperties(_e,{startPoint:{get:ExpressionPropertyInterface(nt.s)},endPoint:{get:ExpressionPropertyInterface(nt.e)},opacity:{get:ExpressionPropertyInterface(nt.o)},type:{get:function(){return"a"}},_name:{value:tt.nm},mn:{value:tt.mn}}),nt.s.setGroupProperty(PropertyInterface("Start Point",at)),nt.e.setGroupProperty(PropertyInterface("End Point",at)),nt.o.setGroupProperty(PropertyInterface("Opacity",at)),_e}function c(){function tt(){return null}return tt}function h(tt,nt,at){var _e=propertyGroupFactory(ht,at),rt=propertyGroupFactory(ut,_e);function et(dt){Object.defineProperty(ut,tt.d[dt].nm,{get:ExpressionPropertyInterface(nt.d.dataProps[dt].p)})}var it,ot=tt.d?tt.d.length:0,ut={};for(it=0;it<ot;it+=1)et(it),nt.d.dataProps[it].p.setGroupProperty(rt);function ht(dt){return dt==="Color"||dt==="color"?ht.color:dt==="Opacity"||dt==="opacity"?ht.opacity:dt==="Stroke Width"||dt==="stroke width"?ht.strokeWidth:null}return Object.defineProperties(ht,{color:{get:ExpressionPropertyInterface(nt.c)},opacity:{get:ExpressionPropertyInterface(nt.o)},strokeWidth:{get:ExpressionPropertyInterface(nt.w)},dash:{get:function(){return ut}},_name:{value:tt.nm},mn:{value:tt.mn}}),nt.c.setGroupProperty(PropertyInterface("Color",_e)),nt.o.setGroupProperty(PropertyInterface("Opacity",_e)),nt.w.setGroupProperty(PropertyInterface("Stroke Width",_e)),ht}function d(tt,nt,at){function _e(et){return et===tt.e.ix||et==="End"||et==="end"?_e.end:et===tt.s.ix?_e.start:et===tt.o.ix?_e.offset:null}var rt=propertyGroupFactory(_e,at);return _e.propertyIndex=tt.ix,nt.s.setGroupProperty(PropertyInterface("Start",rt)),nt.e.setGroupProperty(PropertyInterface("End",rt)),nt.o.setGroupProperty(PropertyInterface("Offset",rt)),_e.propertyIndex=tt.ix,_e.propertyGroup=at,Object.defineProperties(_e,{start:{get:ExpressionPropertyInterface(nt.s)},end:{get:ExpressionPropertyInterface(nt.e)},offset:{get:ExpressionPropertyInterface(nt.o)},_name:{value:tt.nm}}),_e.mn=tt.mn,_e}function g(tt,nt,at){function _e(et){return tt.a.ix===et||et==="Anchor Point"?_e.anchorPoint:tt.o.ix===et||et==="Opacity"?_e.opacity:tt.p.ix===et||et==="Position"?_e.position:tt.r.ix===et||et==="Rotation"||et==="ADBE Vector Rotation"?_e.rotation:tt.s.ix===et||et==="Scale"?_e.scale:tt.sk&&tt.sk.ix===et||et==="Skew"?_e.skew:tt.sa&&tt.sa.ix===et||et==="Skew Axis"?_e.skewAxis:null}var rt=propertyGroupFactory(_e,at);return nt.transform.mProps.o.setGroupProperty(PropertyInterface("Opacity",rt)),nt.transform.mProps.p.setGroupProperty(PropertyInterface("Position",rt)),nt.transform.mProps.a.setGroupProperty(PropertyInterface("Anchor Point",rt)),nt.transform.mProps.s.setGroupProperty(PropertyInterface("Scale",rt)),nt.transform.mProps.r.setGroupProperty(PropertyInterface("Rotation",rt)),nt.transform.mProps.sk&&(nt.transform.mProps.sk.setGroupProperty(PropertyInterface("Skew",rt)),nt.transform.mProps.sa.setGroupProperty(PropertyInterface("Skew Angle",rt))),nt.transform.op.setGroupProperty(PropertyInterface("Opacity",rt)),Object.defineProperties(_e,{opacity:{get:ExpressionPropertyInterface(nt.transform.mProps.o)},position:{get:ExpressionPropertyInterface(nt.transform.mProps.p)},anchorPoint:{get:ExpressionPropertyInterface(nt.transform.mProps.a)},scale:{get:ExpressionPropertyInterface(nt.transform.mProps.s)},rotation:{get:ExpressionPropertyInterface(nt.transform.mProps.r)},skew:{get:ExpressionPropertyInterface(nt.transform.mProps.sk)},skewAxis:{get:ExpressionPropertyInterface(nt.transform.mProps.sa)},_name:{value:tt.nm}}),_e.ty="tr",_e.mn=tt.mn,_e.propertyGroup=at,_e}function b(tt,nt,at){function _e(it){return tt.p.ix===it?_e.position:tt.s.ix===it?_e.size:null}var rt=propertyGroupFactory(_e,at);_e.propertyIndex=tt.ix;var et=nt.sh.ty==="tm"?nt.sh.prop:nt.sh;return et.s.setGroupProperty(PropertyInterface("Size",rt)),et.p.setGroupProperty(PropertyInterface("Position",rt)),Object.defineProperties(_e,{size:{get:ExpressionPropertyInterface(et.s)},position:{get:ExpressionPropertyInterface(et.p)},_name:{value:tt.nm}}),_e.mn=tt.mn,_e}function _(tt,nt,at){function _e(it){return tt.p.ix===it?_e.position:tt.r.ix===it?_e.rotation:tt.pt.ix===it?_e.points:tt.or.ix===it||it==="ADBE Vector Star Outer Radius"?_e.outerRadius:tt.os.ix===it?_e.outerRoundness:tt.ir&&(tt.ir.ix===it||it==="ADBE Vector Star Inner Radius")?_e.innerRadius:tt.is&&tt.is.ix===it?_e.innerRoundness:null}var rt=propertyGroupFactory(_e,at),et=nt.sh.ty==="tm"?nt.sh.prop:nt.sh;return _e.propertyIndex=tt.ix,et.or.setGroupProperty(PropertyInterface("Outer Radius",rt)),et.os.setGroupProperty(PropertyInterface("Outer Roundness",rt)),et.pt.setGroupProperty(PropertyInterface("Points",rt)),et.p.setGroupProperty(PropertyInterface("Position",rt)),et.r.setGroupProperty(PropertyInterface("Rotation",rt)),tt.ir&&(et.ir.setGroupProperty(PropertyInterface("Inner Radius",rt)),et.is.setGroupProperty(PropertyInterface("Inner Roundness",rt))),Object.defineProperties(_e,{position:{get:ExpressionPropertyInterface(et.p)},rotation:{get:ExpressionPropertyInterface(et.r)},points:{get:ExpressionPropertyInterface(et.pt)},outerRadius:{get:ExpressionPropertyInterface(et.or)},outerRoundness:{get:ExpressionPropertyInterface(et.os)},innerRadius:{get:ExpressionPropertyInterface(et.ir)},innerRoundness:{get:ExpressionPropertyInterface(et.is)},_name:{value:tt.nm}}),_e.mn=tt.mn,_e}function $(tt,nt,at){function _e(it){return tt.p.ix===it?_e.position:tt.r.ix===it?_e.roundness:tt.s.ix===it||it==="Size"||it==="ADBE Vector Rect Size"?_e.size:null}var rt=propertyGroupFactory(_e,at),et=nt.sh.ty==="tm"?nt.sh.prop:nt.sh;return _e.propertyIndex=tt.ix,et.p.setGroupProperty(PropertyInterface("Position",rt)),et.s.setGroupProperty(PropertyInterface("Size",rt)),et.r.setGroupProperty(PropertyInterface("Rotation",rt)),Object.defineProperties(_e,{position:{get:ExpressionPropertyInterface(et.p)},roundness:{get:ExpressionPropertyInterface(et.r)},size:{get:ExpressionPropertyInterface(et.s)},_name:{value:tt.nm}}),_e.mn=tt.mn,_e}function j(tt,nt,at){function _e(it){return tt.r.ix===it||it==="Round Corners 1"?_e.radius:null}var rt=propertyGroupFactory(_e,at),et=nt;return _e.propertyIndex=tt.ix,et.rd.setGroupProperty(PropertyInterface("Radius",rt)),Object.defineProperties(_e,{radius:{get:ExpressionPropertyInterface(et.rd)},_name:{value:tt.nm}}),_e.mn=tt.mn,_e}function st(tt,nt,at){function _e(it){return tt.c.ix===it||it==="Copies"?_e.copies:tt.o.ix===it||it==="Offset"?_e.offset:null}var rt=propertyGroupFactory(_e,at),et=nt;return _e.propertyIndex=tt.ix,et.c.setGroupProperty(PropertyInterface("Copies",rt)),et.o.setGroupProperty(PropertyInterface("Offset",rt)),Object.defineProperties(_e,{copies:{get:ExpressionPropertyInterface(et.c)},offset:{get:ExpressionPropertyInterface(et.o)},_name:{value:tt.nm}}),_e.mn=tt.mn,_e}return function(tt,nt,at){var _e;function rt(it){if(typeof it=="number")return it=it===void 0?1:it,it===0?at:_e[it-1];for(var ot=0,ut=_e.length;ot<ut;){if(_e[ot]._name===it)return _e[ot];ot+=1}return null}function et(){return at}return rt.propertyGroup=propertyGroupFactory(rt,et),_e=e(tt,nt,rt.propertyGroup),rt.numProperties=_e.length,rt._name="Contents",rt}}(),TextExpressionInterface=function(){return function(e){var s;function i(a){switch(a){case"ADBE Text Document":return i.sourceText;default:return null}}return Object.defineProperty(i,"sourceText",{get:function(){e.textProperty.getValue();var o=e.textProperty.currentData.t;return(!s||o!==s.value)&&(s=new String(o),s.value=o||new String(o),Object.defineProperty(s,"style",{get:function(){return{fillColor:e.textProperty.currentData.fc}}})),s}}),i}}();function _typeof(e){"@babel/helpers - typeof";return _typeof=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(s){return typeof s}:function(s){return s&&typeof Symbol=="function"&&s.constructor===Symbol&&s!==Symbol.prototype?"symbol":typeof s},_typeof(e)}var FootageInterface=function(){var e=function(a){var o="",c=a.getFootageData();function h(){return o="",c=a.getFootageData(),d}function d(g){if(c[g])return o=g,c=c[g],_typeof(c)==="object"?d:c;var b=g.indexOf(o);if(b!==-1){var _=parseInt(g.substr(b+o.length),10);return c=c[_],_typeof(c)==="object"?d:c}return""}return h},s=function(a){function o(c){return c==="Outline"?o.outlineInterface():null}return o._name="Outline",o.outlineInterface=e(a),o};return function(i){function a(o){return o==="Data"?a.dataInterface:null}return a._name="Data",a.dataInterface=s(i),a}}(),interfaces={layer:LayerExpressionInterface,effects:EffectsExpressionInterface,comp:CompExpressionInterface,shape:ShapeExpressionInterface,text:TextExpressionInterface,footage:FootageInterface};function getInterface(e){return interfaces[e]||null}var expressionHelpers=function(){function e(h,d,g){d.x&&(g.k=!0,g.x=!0,g.initiateExpression=ExpressionManager.initiateExpression,g.effectsSequence.push(g.initiateExpression(h,d,g).bind(g)))}function s(h){return h*=this.elem.globalData.frameRate,h-=this.offsetTime,h!==this._cachingAtTime.lastFrame&&(this._cachingAtTime.lastIndex=this._cachingAtTime.lastFrame<h?this._cachingAtTime.lastIndex:0,this._cachingAtTime.value=this.interpolateValue(h,this._cachingAtTime),this._cachingAtTime.lastFrame=h),this._cachingAtTime.value}function i(h){var d=-.01,g=this.getValueAtTime(h),b=this.getValueAtTime(h+d),_=0;if(g.length){var $;for($=0;$<g.length;$+=1)_+=Math.pow(b[$]-g[$],2);_=Math.sqrt(_)*100}else _=0;return _}function a(h){if(this.vel!==void 0)return this.vel;var d=-.001,g=this.getValueAtTime(h),b=this.getValueAtTime(h+d),_;if(g.length){_=createTypedArray("float32",g.length);var $;for($=0;$<g.length;$+=1)_[$]=(b[$]-g[$])/d}else _=(b-g)/d;return _}function o(){return this.pv}function c(h){this.propertyGroup=h}return{searchExpressions:e,getSpeedAtTime:i,getVelocityAtTime:a,getValueAtTime:s,getStaticValueAtTime:o,setGroupProperty:c}}();function addPropertyDecorator(){function e(j,st,tt){if(!this.k||!this.keyframes)return this.pv;j=j?j.toLowerCase():"";var nt=this.comp.renderedFrame,at=this.keyframes,_e=at[at.length-1].t;if(nt<=_e)return this.pv;var rt,et;tt?(st?rt=Math.abs(_e-this.elem.comp.globalData.frameRate*st):rt=Math.max(0,_e-this.elem.data.ip),et=_e-rt):((!st||st>at.length-1)&&(st=at.length-1),et=at[at.length-1-st].t,rt=_e-et);var it,ot,ut;if(j==="pingpong"){var ht=Math.floor((nt-et)/rt);if(ht%2!==0)return this.getValueAtTime((rt-(nt-et)%rt+et)/this.comp.globalData.frameRate,0)}else if(j==="offset"){var dt=this.getValueAtTime(et/this.comp.globalData.frameRate,0),mt=this.getValueAtTime(_e/this.comp.globalData.frameRate,0),xt=this.getValueAtTime(((nt-et)%rt+et)/this.comp.globalData.frameRate,0),St=Math.floor((nt-et)/rt);if(this.pv.length){for(ut=new Array(dt.length),ot=ut.length,it=0;it<ot;it+=1)ut[it]=(mt[it]-dt[it])*St+xt[it];return ut}return(mt-dt)*St+xt}else if(j==="continue"){var vt=this.getValueAtTime(_e/this.comp.globalData.frameRate,0),wt=this.getValueAtTime((_e-.001)/this.comp.globalData.frameRate,0);if(this.pv.length){for(ut=new Array(vt.length),ot=ut.length,it=0;it<ot;it+=1)ut[it]=vt[it]+(vt[it]-wt[it])*((nt-_e)/this.comp.globalData.frameRate)/5e-4;return ut}return vt+(vt-wt)*((nt-_e)/.001)}return this.getValueAtTime(((nt-et)%rt+et)/this.comp.globalData.frameRate,0)}function s(j,st,tt){if(!this.k)return this.pv;j=j?j.toLowerCase():"";var nt=this.comp.renderedFrame,at=this.keyframes,_e=at[0].t;if(nt>=_e)return this.pv;var rt,et;tt?(st?rt=Math.abs(this.elem.comp.globalData.frameRate*st):rt=Math.max(0,this.elem.data.op-_e),et=_e+rt):((!st||st>at.length-1)&&(st=at.length-1),et=at[st].t,rt=et-_e);var it,ot,ut;if(j==="pingpong"){var ht=Math.floor((_e-nt)/rt);if(ht%2===0)return this.getValueAtTime(((_e-nt)%rt+_e)/this.comp.globalData.frameRate,0)}else if(j==="offset"){var dt=this.getValueAtTime(_e/this.comp.globalData.frameRate,0),mt=this.getValueAtTime(et/this.comp.globalData.frameRate,0),xt=this.getValueAtTime((rt-(_e-nt)%rt+_e)/this.comp.globalData.frameRate,0),St=Math.floor((_e-nt)/rt)+1;if(this.pv.length){for(ut=new Array(dt.length),ot=ut.length,it=0;it<ot;it+=1)ut[it]=xt[it]-(mt[it]-dt[it])*St;return ut}return xt-(mt-dt)*St}else if(j==="continue"){var vt=this.getValueAtTime(_e/this.comp.globalData.frameRate,0),wt=this.getValueAtTime((_e+.001)/this.comp.globalData.frameRate,0);if(this.pv.length){for(ut=new Array(vt.length),ot=ut.length,it=0;it<ot;it+=1)ut[it]=vt[it]+(vt[it]-wt[it])*(_e-nt)/.001;return ut}return vt+(vt-wt)*(_e-nt)/.001}return this.getValueAtTime((rt-((_e-nt)%rt+_e))/this.comp.globalData.frameRate,0)}function i(j,st){if(!this.k)return this.pv;if(j=(j||.4)*.5,st=Math.floor(st||5),st<=1)return this.pv;var tt=this.comp.renderedFrame/this.comp.globalData.frameRate,nt=tt-j,at=tt+j,_e=st>1?(at-nt)/(st-1):1,rt=0,et=0,it;this.pv.length?it=createTypedArray("float32",this.pv.length):it=0;for(var ot;rt<st;){if(ot=this.getValueAtTime(nt+rt*_e),this.pv.length)for(et=0;et<this.pv.length;et+=1)it[et]+=ot[et];else it+=ot;rt+=1}if(this.pv.length)for(et=0;et<this.pv.length;et+=1)it[et]/=st;else it/=st;return it}function a(j){this._transformCachingAtTime||(this._transformCachingAtTime={v:new Matrix});var st=this._transformCachingAtTime.v;if(st.cloneFromProps(this.pre.props),this.appliedTransformations<1){var tt=this.a.getValueAtTime(j);st.translate(-tt[0]*this.a.mult,-tt[1]*this.a.mult,tt[2]*this.a.mult)}if(this.appliedTransformations<2){var nt=this.s.getValueAtTime(j);st.scale(nt[0]*this.s.mult,nt[1]*this.s.mult,nt[2]*this.s.mult)}if(this.sk&&this.appliedTransformations<3){var at=this.sk.getValueAtTime(j),_e=this.sa.getValueAtTime(j);st.skewFromAxis(-at*this.sk.mult,_e*this.sa.mult)}if(this.r&&this.appliedTransformations<4){var rt=this.r.getValueAtTime(j);st.rotate(-rt*this.r.mult)}else if(!this.r&&this.appliedTransformations<4){var et=this.rz.getValueAtTime(j),it=this.ry.getValueAtTime(j),ot=this.rx.getValueAtTime(j),ut=this.or.getValueAtTime(j);st.rotateZ(-et*this.rz.mult).rotateY(it*this.ry.mult).rotateX(ot*this.rx.mult).rotateZ(-ut[2]*this.or.mult).rotateY(ut[1]*this.or.mult).rotateX(ut[0]*this.or.mult)}if(this.data.p&&this.data.p.s){var ht=this.px.getValueAtTime(j),dt=this.py.getValueAtTime(j);if(this.data.p.z){var mt=this.pz.getValueAtTime(j);st.translate(ht*this.px.mult,dt*this.py.mult,-mt*this.pz.mult)}else st.translate(ht*this.px.mult,dt*this.py.mult,0)}else{var xt=this.p.getValueAtTime(j);st.translate(xt[0]*this.p.mult,xt[1]*this.p.mult,-xt[2]*this.p.mult)}return st}function o(){return this.v.clone(new Matrix)}var c=TransformPropertyFactory.getTransformProperty;TransformPropertyFactory.getTransformProperty=function(j,st,tt){var nt=c(j,st,tt);return nt.dynamicProperties.length?nt.getValueAtTime=a.bind(nt):nt.getValueAtTime=o.bind(nt),nt.setGroupProperty=expressionHelpers.setGroupProperty,nt};var h=PropertyFactory.getProp;PropertyFactory.getProp=function(j,st,tt,nt,at){var _e=h(j,st,tt,nt,at);_e.kf?_e.getValueAtTime=expressionHelpers.getValueAtTime.bind(_e):_e.getValueAtTime=expressionHelpers.getStaticValueAtTime.bind(_e),_e.setGroupProperty=expressionHelpers.setGroupProperty,_e.loopOut=e,_e.loopIn=s,_e.smooth=i,_e.getVelocityAtTime=expressionHelpers.getVelocityAtTime.bind(_e),_e.getSpeedAtTime=expressionHelpers.getSpeedAtTime.bind(_e),_e.numKeys=st.a===1?st.k.length:0,_e.propertyIndex=st.ix;var rt=0;return tt!==0&&(rt=createTypedArray("float32",st.a===1?st.k[0].s.length:st.k.length)),_e._cachingAtTime={lastFrame:initialDefaultFrame,lastIndex:0,value:rt},expressionHelpers.searchExpressions(j,st,_e),_e.k&&at.addDynamicProperty(_e),_e};function d(j){return this._cachingAtTime||(this._cachingAtTime={shapeValue:shapePool.clone(this.pv),lastIndex:0,lastTime:initialDefaultFrame}),j*=this.elem.globalData.frameRate,j-=this.offsetTime,j!==this._cachingAtTime.lastTime&&(this._cachingAtTime.lastIndex=this._cachingAtTime.lastTime<j?this._caching.lastIndex:0,this._cachingAtTime.lastTime=j,this.interpolateShape(j,this._cachingAtTime.shapeValue,this._cachingAtTime)),this._cachingAtTime.shapeValue}var g=ShapePropertyFactory.getConstructorFunction(),b=ShapePropertyFactory.getKeyframedConstructorFunction();function _(){}_.prototype={vertices:function(st,tt){this.k&&this.getValue();var nt=this.v;tt!==void 0&&(nt=this.getValueAtTime(tt,0));var at,_e=nt._length,rt=nt[st],et=nt.v,it=createSizedArray(_e);for(at=0;at<_e;at+=1)st==="i"||st==="o"?it[at]=[rt[at][0]-et[at][0],rt[at][1]-et[at][1]]:it[at]=[rt[at][0],rt[at][1]];return it},points:function(st){return this.vertices("v",st)},inTangents:function(st){return this.vertices("i",st)},outTangents:function(st){return this.vertices("o",st)},isClosed:function(){return this.v.c},pointOnPath:function(st,tt){var nt=this.v;tt!==void 0&&(nt=this.getValueAtTime(tt,0)),this._segmentsLength||(this._segmentsLength=bez.getSegmentsLength(nt));for(var at=this._segmentsLength,_e=at.lengths,rt=at.totalLength*st,et=0,it=_e.length,ot=0,ut;et<it;){if(ot+_e[et].addedLength>rt){var ht=et,dt=nt.c&&et===it-1?0:et+1,mt=(rt-ot)/_e[et].addedLength;ut=bez.getPointInSegment(nt.v[ht],nt.v[dt],nt.o[ht],nt.i[dt],mt,_e[et]);break}else ot+=_e[et].addedLength;et+=1}return ut||(ut=nt.c?[nt.v[0][0],nt.v[0][1]]:[nt.v[nt._length-1][0],nt.v[nt._length-1][1]]),ut},vectorOnPath:function(st,tt,nt){st==1?st=this.v.c:st==0&&(st=.999);var at=this.pointOnPath(st,tt),_e=this.pointOnPath(st+.001,tt),rt=_e[0]-at[0],et=_e[1]-at[1],it=Math.sqrt(Math.pow(rt,2)+Math.pow(et,2));if(it===0)return[0,0];var ot=nt==="tangent"?[rt/it,et/it]:[-et/it,rt/it];return ot},tangentOnPath:function(st,tt){return this.vectorOnPath(st,tt,"tangent")},normalOnPath:function(st,tt){return this.vectorOnPath(st,tt,"normal")},setGroupProperty:expressionHelpers.setGroupProperty,getValueAtTime:expressionHelpers.getStaticValueAtTime},extendPrototype([_],g),extendPrototype([_],b),b.prototype.getValueAtTime=d,b.prototype.initiateExpression=ExpressionManager.initiateExpression;var $=ShapePropertyFactory.getShapeProp;ShapePropertyFactory.getShapeProp=function(j,st,tt,nt,at){var _e=$(j,st,tt,nt,at);return _e.propertyIndex=st.ix,_e.lock=!1,tt===3?expressionHelpers.searchExpressions(j,st.pt,_e):tt===4&&expressionHelpers.searchExpressions(j,st.ks,_e),_e.k&&j.addDynamicProperty(_e),_e}}function initialize$1(){addPropertyDecorator()}function addDecorator(){function e(){return this.data.d.x?(this.calculateExpression=ExpressionManager.initiateExpression.bind(this)(this.elem,this.data.d,this),this.addEffect(this.getExpressionValue.bind(this)),!0):null}TextProperty.prototype.getExpressionValue=function(s,i){var a=this.calculateExpression(i);if(s.t!==a){var o={};return this.copyData(o,s),o.t=a.toString(),o.__complete=!1,o}return s},TextProperty.prototype.searchProperty=function(){var s=this.searchKeyframes(),i=this.searchExpressions();return this.kf=s||i,this.kf},TextProperty.prototype.searchExpressions=e}function initialize(){addDecorator()}function SVGComposableEffect(){}SVGComposableEffect.prototype={createMergeNode:function e(s,i){var a=createNS("feMerge");a.setAttribute("result",s);var o,c;for(c=0;c<i.length;c+=1)o=createNS("feMergeNode"),o.setAttribute("in",i[c]),a.appendChild(o),a.appendChild(o);return a}};var linearFilterValue="0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0 0 0";function SVGTintFilter(e,s,i,a,o){this.filterManager=s;var c=createNS("feColorMatrix");c.setAttribute("type","matrix"),c.setAttribute("color-interpolation-filters","linearRGB"),c.setAttribute("values",linearFilterValue+" 1 0"),this.linearFilter=c,c.setAttribute("result",a+"_tint_1"),e.appendChild(c),c=createNS("feColorMatrix"),c.setAttribute("type","matrix"),c.setAttribute("color-interpolation-filters","sRGB"),c.setAttribute("values","1 0 0 0 0 0 1 0 0 0 0 0 1 0 0 0 0 0 1 0"),c.setAttribute("result",a+"_tint_2"),e.appendChild(c),this.matrixFilter=c;var h=this.createMergeNode(a,[o,a+"_tint_1",a+"_tint_2"]);e.appendChild(h)}extendPrototype([SVGComposableEffect],SVGTintFilter),SVGTintFilter.prototype.renderFrame=function(e){if(e||this.filterManager._mdf){var s=this.filterManager.effectElements[0].p.v,i=this.filterManager.effectElements[1].p.v,a=this.filterManager.effectElements[2].p.v/100;this.linearFilter.setAttribute("values",linearFilterValue+" "+a+" 0"),this.matrixFilter.setAttribute("values",i[0]-s[0]+" 0 0 0 "+s[0]+" "+(i[1]-s[1])+" 0 0 0 "+s[1]+" "+(i[2]-s[2])+" 0 0 0 "+s[2]+" 0 0 0 1 0")}};function SVGFillFilter(e,s,i,a){this.filterManager=s;var o=createNS("feColorMatrix");o.setAttribute("type","matrix"),o.setAttribute("color-interpolation-filters","sRGB"),o.setAttribute("values","1 0 0 0 0 0 1 0 0 0 0 0 1 0 0 0 0 0 1 0"),o.setAttribute("result",a),e.appendChild(o),this.matrixFilter=o}SVGFillFilter.prototype.renderFrame=function(e){if(e||this.filterManager._mdf){var s=this.filterManager.effectElements[2].p.v,i=this.filterManager.effectElements[6].p.v;this.matrixFilter.setAttribute("values","0 0 0 0 "+s[0]+" 0 0 0 0 "+s[1]+" 0 0 0 0 "+s[2]+" 0 0 0 "+i+" 0")}};function SVGStrokeEffect(e,s,i){this.initialized=!1,this.filterManager=s,this.elem=i,this.paths=[]}SVGStrokeEffect.prototype.initialize=function(){var e=this.elem.layerElement.children||this.elem.layerElement.childNodes,s,i,a,o;for(this.filterManager.effectElements[1].p.v===1?(o=this.elem.maskManager.masksProperties.length,a=0):(a=this.filterManager.effectElements[0].p.v-1,o=a+1),i=createNS("g"),i.setAttribute("fill","none"),i.setAttribute("stroke-linecap","round"),i.setAttribute("stroke-dashoffset",1),a;a<o;a+=1)s=createNS("path"),i.appendChild(s),this.paths.push({p:s,m:a});if(this.filterManager.effectElements[10].p.v===3){var c=createNS("mask"),h=createElementID();c.setAttribute("id",h),c.setAttribute("mask-type","alpha"),c.appendChild(i),this.elem.globalData.defs.appendChild(c);var d=createNS("g");for(d.setAttribute("mask","url("+getLocationHref()+"#"+h+")");e[0];)d.appendChild(e[0]);this.elem.layerElement.appendChild(d),this.masker=c,i.setAttribute("stroke","#fff")}else if(this.filterManager.effectElements[10].p.v===1||this.filterManager.effectElements[10].p.v===2){if(this.filterManager.effectElements[10].p.v===2)for(e=this.elem.layerElement.children||this.elem.layerElement.childNodes;e.length;)this.elem.layerElement.removeChild(e[0]);this.elem.layerElement.appendChild(i),this.elem.layerElement.removeAttribute("mask"),i.setAttribute("stroke","#fff")}this.initialized=!0,this.pathMasker=i},SVGStrokeEffect.prototype.renderFrame=function(e){this.initialized||this.initialize();var s,i=this.paths.length,a,o;for(s=0;s<i;s+=1)if(this.paths[s].m!==-1&&(a=this.elem.maskManager.viewData[this.paths[s].m],o=this.paths[s].p,(e||this.filterManager._mdf||a.prop._mdf)&&o.setAttribute("d",a.lastPath),e||this.filterManager.effectElements[9].p._mdf||this.filterManager.effectElements[4].p._mdf||this.filterManager.effectElements[7].p._mdf||this.filterManager.effectElements[8].p._mdf||a.prop._mdf)){var c;if(this.filterManager.effectElements[7].p.v!==0||this.filterManager.effectElements[8].p.v!==100){var h=Math.min(this.filterManager.effectElements[7].p.v,this.filterManager.effectElements[8].p.v)*.01,d=Math.max(this.filterManager.effectElements[7].p.v,this.filterManager.effectElements[8].p.v)*.01,g=o.getTotalLength();c="0 0 0 "+g*h+" ";var b=g*(d-h),_=1+this.filterManager.effectElements[4].p.v*2*this.filterManager.effectElements[9].p.v*.01,$=Math.floor(b/_),j;for(j=0;j<$;j+=1)c+="1 "+this.filterManager.effectElements[4].p.v*2*this.filterManager.effectElements[9].p.v*.01+" ";c+="0 "+g*10+" 0 0"}else c="1 "+this.filterManager.effectElements[4].p.v*2*this.filterManager.effectElements[9].p.v*.01;o.setAttribute("stroke-dasharray",c)}if((e||this.filterManager.effectElements[4].p._mdf)&&this.pathMasker.setAttribute("stroke-width",this.filterManager.effectElements[4].p.v*2),(e||this.filterManager.effectElements[6].p._mdf)&&this.pathMasker.setAttribute("opacity",this.filterManager.effectElements[6].p.v),(this.filterManager.effectElements[10].p.v===1||this.filterManager.effectElements[10].p.v===2)&&(e||this.filterManager.effectElements[3].p._mdf)){var st=this.filterManager.effectElements[3].p.v;this.pathMasker.setAttribute("stroke","rgb("+bmFloor(st[0]*255)+","+bmFloor(st[1]*255)+","+bmFloor(st[2]*255)+")")}};function SVGTritoneFilter(e,s,i,a){this.filterManager=s;var o=createNS("feColorMatrix");o.setAttribute("type","matrix"),o.setAttribute("color-interpolation-filters","linearRGB"),o.setAttribute("values","0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0 0 0 1 0"),e.appendChild(o);var c=createNS("feComponentTransfer");c.setAttribute("color-interpolation-filters","sRGB"),c.setAttribute("result",a),this.matrixFilter=c;var h=createNS("feFuncR");h.setAttribute("type","table"),c.appendChild(h),this.feFuncR=h;var d=createNS("feFuncG");d.setAttribute("type","table"),c.appendChild(d),this.feFuncG=d;var g=createNS("feFuncB");g.setAttribute("type","table"),c.appendChild(g),this.feFuncB=g,e.appendChild(c)}SVGTritoneFilter.prototype.renderFrame=function(e){if(e||this.filterManager._mdf){var s=this.filterManager.effectElements[0].p.v,i=this.filterManager.effectElements[1].p.v,a=this.filterManager.effectElements[2].p.v,o=a[0]+" "+i[0]+" "+s[0],c=a[1]+" "+i[1]+" "+s[1],h=a[2]+" "+i[2]+" "+s[2];this.feFuncR.setAttribute("tableValues",o),this.feFuncG.setAttribute("tableValues",c),this.feFuncB.setAttribute("tableValues",h)}};function SVGProLevelsFilter(e,s,i,a){this.filterManager=s;var o=this.filterManager.effectElements,c=createNS("feComponentTransfer");(o[10].p.k||o[10].p.v!==0||o[11].p.k||o[11].p.v!==1||o[12].p.k||o[12].p.v!==1||o[13].p.k||o[13].p.v!==0||o[14].p.k||o[14].p.v!==1)&&(this.feFuncR=this.createFeFunc("feFuncR",c)),(o[17].p.k||o[17].p.v!==0||o[18].p.k||o[18].p.v!==1||o[19].p.k||o[19].p.v!==1||o[20].p.k||o[20].p.v!==0||o[21].p.k||o[21].p.v!==1)&&(this.feFuncG=this.createFeFunc("feFuncG",c)),(o[24].p.k||o[24].p.v!==0||o[25].p.k||o[25].p.v!==1||o[26].p.k||o[26].p.v!==1||o[27].p.k||o[27].p.v!==0||o[28].p.k||o[28].p.v!==1)&&(this.feFuncB=this.createFeFunc("feFuncB",c)),(o[31].p.k||o[31].p.v!==0||o[32].p.k||o[32].p.v!==1||o[33].p.k||o[33].p.v!==1||o[34].p.k||o[34].p.v!==0||o[35].p.k||o[35].p.v!==1)&&(this.feFuncA=this.createFeFunc("feFuncA",c)),(this.feFuncR||this.feFuncG||this.feFuncB||this.feFuncA)&&(c.setAttribute("color-interpolation-filters","sRGB"),e.appendChild(c)),(o[3].p.k||o[3].p.v!==0||o[4].p.k||o[4].p.v!==1||o[5].p.k||o[5].p.v!==1||o[6].p.k||o[6].p.v!==0||o[7].p.k||o[7].p.v!==1)&&(c=createNS("feComponentTransfer"),c.setAttribute("color-interpolation-filters","sRGB"),c.setAttribute("result",a),e.appendChild(c),this.feFuncRComposed=this.createFeFunc("feFuncR",c),this.feFuncGComposed=this.createFeFunc("feFuncG",c),this.feFuncBComposed=this.createFeFunc("feFuncB",c))}SVGProLevelsFilter.prototype.createFeFunc=function(e,s){var i=createNS(e);return i.setAttribute("type","table"),s.appendChild(i),i},SVGProLevelsFilter.prototype.getTableValue=function(e,s,i,a,o){for(var c=0,h=256,d,g=Math.min(e,s),b=Math.max(e,s),_=Array.call(null,{length:h}),$,j=0,st=o-a,tt=s-e;c<=256;)d=c/256,d<=g?$=tt<0?o:a:d>=b?$=tt<0?a:o:$=a+st*Math.pow((d-e)/tt,1/i),_[j]=$,j+=1,c+=256/(h-1);return _.join(" ")},SVGProLevelsFilter.prototype.renderFrame=function(e){if(e||this.filterManager._mdf){var s,i=this.filterManager.effectElements;this.feFuncRComposed&&(e||i[3].p._mdf||i[4].p._mdf||i[5].p._mdf||i[6].p._mdf||i[7].p._mdf)&&(s=this.getTableValue(i[3].p.v,i[4].p.v,i[5].p.v,i[6].p.v,i[7].p.v),this.feFuncRComposed.setAttribute("tableValues",s),this.feFuncGComposed.setAttribute("tableValues",s),this.feFuncBComposed.setAttribute("tableValues",s)),this.feFuncR&&(e||i[10].p._mdf||i[11].p._mdf||i[12].p._mdf||i[13].p._mdf||i[14].p._mdf)&&(s=this.getTableValue(i[10].p.v,i[11].p.v,i[12].p.v,i[13].p.v,i[14].p.v),this.feFuncR.setAttribute("tableValues",s)),this.feFuncG&&(e||i[17].p._mdf||i[18].p._mdf||i[19].p._mdf||i[20].p._mdf||i[21].p._mdf)&&(s=this.getTableValue(i[17].p.v,i[18].p.v,i[19].p.v,i[20].p.v,i[21].p.v),this.feFuncG.setAttribute("tableValues",s)),this.feFuncB&&(e||i[24].p._mdf||i[25].p._mdf||i[26].p._mdf||i[27].p._mdf||i[28].p._mdf)&&(s=this.getTableValue(i[24].p.v,i[25].p.v,i[26].p.v,i[27].p.v,i[28].p.v),this.feFuncB.setAttribute("tableValues",s)),this.feFuncA&&(e||i[31].p._mdf||i[32].p._mdf||i[33].p._mdf||i[34].p._mdf||i[35].p._mdf)&&(s=this.getTableValue(i[31].p.v,i[32].p.v,i[33].p.v,i[34].p.v,i[35].p.v),this.feFuncA.setAttribute("tableValues",s))}};function SVGDropShadowEffect(e,s,i,a,o){var c=s.container.globalData.renderConfig.filterSize,h=s.data.fs||c;e.setAttribute("x",h.x||c.x),e.setAttribute("y",h.y||c.y),e.setAttribute("width",h.width||c.width),e.setAttribute("height",h.height||c.height),this.filterManager=s;var d=createNS("feGaussianBlur");d.setAttribute("in","SourceAlpha"),d.setAttribute("result",a+"_drop_shadow_1"),d.setAttribute("stdDeviation","0"),this.feGaussianBlur=d,e.appendChild(d);var g=createNS("feOffset");g.setAttribute("dx","25"),g.setAttribute("dy","0"),g.setAttribute("in",a+"_drop_shadow_1"),g.setAttribute("result",a+"_drop_shadow_2"),this.feOffset=g,e.appendChild(g);var b=createNS("feFlood");b.setAttribute("flood-color","#00ff00"),b.setAttribute("flood-opacity","1"),b.setAttribute("result",a+"_drop_shadow_3"),this.feFlood=b,e.appendChild(b);var _=createNS("feComposite");_.setAttribute("in",a+"_drop_shadow_3"),_.setAttribute("in2",a+"_drop_shadow_2"),_.setAttribute("operator","in"),_.setAttribute("result",a+"_drop_shadow_4"),e.appendChild(_);var $=this.createMergeNode(a,[a+"_drop_shadow_4",o]);e.appendChild($)}extendPrototype([SVGComposableEffect],SVGDropShadowEffect),SVGDropShadowEffect.prototype.renderFrame=function(e){if(e||this.filterManager._mdf){if((e||this.filterManager.effectElements[4].p._mdf)&&this.feGaussianBlur.setAttribute("stdDeviation",this.filterManager.effectElements[4].p.v/4),e||this.filterManager.effectElements[0].p._mdf){var s=this.filterManager.effectElements[0].p.v;this.feFlood.setAttribute("flood-color",rgbToHex(Math.round(s[0]*255),Math.round(s[1]*255),Math.round(s[2]*255)))}if((e||this.filterManager.effectElements[1].p._mdf)&&this.feFlood.setAttribute("flood-opacity",this.filterManager.effectElements[1].p.v/255),e||this.filterManager.effectElements[2].p._mdf||this.filterManager.effectElements[3].p._mdf){var i=this.filterManager.effectElements[3].p.v,a=(this.filterManager.effectElements[2].p.v-90)*degToRads,o=i*Math.cos(a),c=i*Math.sin(a);this.feOffset.setAttribute("dx",o),this.feOffset.setAttribute("dy",c)}}};var _svgMatteSymbols=[];function SVGMatte3Effect(e,s,i){this.initialized=!1,this.filterManager=s,this.filterElem=e,this.elem=i,i.matteElement=createNS("g"),i.matteElement.appendChild(i.layerElement),i.matteElement.appendChild(i.transformedElement),i.baseElement=i.matteElement}SVGMatte3Effect.prototype.findSymbol=function(e){for(var s=0,i=_svgMatteSymbols.length;s<i;){if(_svgMatteSymbols[s]===e)return _svgMatteSymbols[s];s+=1}return null},SVGMatte3Effect.prototype.replaceInParent=function(e,s){var i=e.layerElement.parentNode;if(i){for(var a=i.children,o=0,c=a.length;o<c&&a[o]!==e.layerElement;)o+=1;var h;o<=c-2&&(h=a[o+1]);var d=createNS("use");d.setAttribute("href","#"+s),h?i.insertBefore(d,h):i.appendChild(d)}},SVGMatte3Effect.prototype.setElementAsMask=function(e,s){if(!this.findSymbol(s)){var i=createElementID(),a=createNS("mask");a.setAttribute("id",s.layerId),a.setAttribute("mask-type","alpha"),_svgMatteSymbols.push(s);var o=e.globalData.defs;o.appendChild(a);var c=createNS("symbol");c.setAttribute("id",i),this.replaceInParent(s,i),c.appendChild(s.layerElement),o.appendChild(c);var h=createNS("use");h.setAttribute("href","#"+i),a.appendChild(h),s.data.hd=!1,s.show()}e.setMatte(s.layerId)},SVGMatte3Effect.prototype.initialize=function(){for(var e=this.filterManager.effectElements[0].p.v,s=this.elem.comp.elements,i=0,a=s.length;i<a;)s[i]&&s[i].data.ind===e&&this.setElementAsMask(this.elem,s[i]),i+=1;this.initialized=!0},SVGMatte3Effect.prototype.renderFrame=function(){this.initialized||this.initialize()};function SVGGaussianBlurEffect(e,s,i,a){e.setAttribute("x","-100%"),e.setAttribute("y","-100%"),e.setAttribute("width","300%"),e.setAttribute("height","300%"),this.filterManager=s;var o=createNS("feGaussianBlur");o.setAttribute("result",a),e.appendChild(o),this.feGaussianBlur=o}SVGGaussianBlurEffect.prototype.renderFrame=function(e){if(e||this.filterManager._mdf){var s=.3,i=this.filterManager.effectElements[0].p.v*s,a=this.filterManager.effectElements[1].p.v,o=a==3?0:i,c=a==2?0:i;this.feGaussianBlur.setAttribute("stdDeviation",o+" "+c);var h=this.filterManager.effectElements[2].p.v==1?"wrap":"duplicate";this.feGaussianBlur.setAttribute("edgeMode",h)}};function TransformEffect(){}TransformEffect.prototype.init=function(e){this.effectsManager=e,this.type=effectTypes.TRANSFORM_EFFECT,this.matrix=new Matrix,this.opacity=-1,this._mdf=!1,this._opMdf=!1},TransformEffect.prototype.renderFrame=function(e){if(this._opMdf=!1,this._mdf=!1,e||this.effectsManager._mdf){var s=this.effectsManager.effectElements,i=s[0].p.v,a=s[1].p.v,o=s[2].p.v===1,c=s[3].p.v,h=o?c:s[4].p.v,d=s[5].p.v,g=s[6].p.v,b=s[7].p.v;this.matrix.reset(),this.matrix.translate(-i[0],-i[1],i[2]),this.matrix.scale(h*.01,c*.01,1),this.matrix.rotate(-b*degToRads),this.matrix.skewFromAxis(-d*degToRads,(g+90)*degToRads),this.matrix.translate(a[0],a[1],0),this._mdf=!0,this.opacity!==s[8].p.v&&(this.opacity=s[8].p.v,this._opMdf=!0)}};function SVGTransformEffect(e,s){this.init(s)}extendPrototype([TransformEffect],SVGTransformEffect);function CVTransformEffect(e){this.init(e)}return extendPrototype([TransformEffect],CVTransformEffect),registerRenderer("canvas",CanvasRenderer),registerRenderer("html",HybridRenderer),registerRenderer("svg",SVGRenderer),ShapeModifiers.registerModifier("tm",TrimModifier),ShapeModifiers.registerModifier("pb",PuckerAndBloatModifier),ShapeModifiers.registerModifier("rp",RepeaterModifier),ShapeModifiers.registerModifier("rd",RoundCornersModifier),ShapeModifiers.registerModifier("zz",ZigZagModifier),ShapeModifiers.registerModifier("op",OffsetPathModifier),setExpressionsPlugin(Expressions),setExpressionInterfaces(getInterface),initialize$1(),initialize(),registerEffect$1(20,SVGTintFilter,!0),registerEffect$1(21,SVGFillFilter,!0),registerEffect$1(22,SVGStrokeEffect,!1),registerEffect$1(23,SVGTritoneFilter,!0),registerEffect$1(24,SVGProLevelsFilter,!0),registerEffect$1(25,SVGDropShadowEffect,!0),registerEffect$1(28,SVGMatte3Effect,!1),registerEffect$1(29,SVGGaussianBlurEffect,!0),registerEffect$1(35,SVGTransformEffect,!1),registerEffect(35,CVTransformEffect),lottie})})(lottie$1,lottie$1.exports);var lottieExports=lottie$1.exports;const lottie=getDefaultExportFromCjs(lottieExports);function _arrayLikeToArray(e,s){(s==null||s>e.length)&&(s=e.length);for(var i=0,a=Array(s);i<s;i++)a[i]=e[i];return a}function _arrayWithHoles(e){if(Array.isArray(e))return e}function _defineProperty(e,s,i){return(s=_toPropertyKey(s))in e?Object.defineProperty(e,s,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[s]=i,e}function _iterableToArrayLimit(e,s){var i=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(i!=null){var a,o,c,h,d=[],g=!0,b=!1;try{if(c=(i=i.call(e)).next,s!==0)for(;!(g=(a=c.call(i)).done)&&(d.push(a.value),d.length!==s);g=!0);}catch(_){b=!0,o=_}finally{try{if(!g&&i.return!=null&&(h=i.return(),Object(h)!==h))return}finally{if(b)throw o}}return d}}function _nonIterableRest(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ownKeys(e,s){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);s&&(a=a.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),i.push.apply(i,a)}return i}function _objectSpread2(e){for(var s=1;s<arguments.length;s++){var i=arguments[s]!=null?arguments[s]:{};s%2?ownKeys(Object(i),!0).forEach(function(a){_defineProperty(e,a,i[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):ownKeys(Object(i)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(i,a))})}return e}function _objectWithoutProperties(e,s){if(e==null)return{};var i,a,o=_objectWithoutPropertiesLoose(e,s);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(a=0;a<c.length;a++)i=c[a],s.includes(i)||{}.propertyIsEnumerable.call(e,i)&&(o[i]=e[i])}return o}function _objectWithoutPropertiesLoose(e,s){if(e==null)return{};var i={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(s.includes(a))continue;i[a]=e[a]}return i}function _slicedToArray(e,s){return _arrayWithHoles(e)||_iterableToArrayLimit(e,s)||_unsupportedIterableToArray(e,s)||_nonIterableRest()}function _toPrimitive(e,s){if(typeof e!="object"||!e)return e;var i=e[Symbol.toPrimitive];if(i!==void 0){var a=i.call(e,s||"default");if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(s==="string"?String:Number)(e)}function _toPropertyKey(e){var s=_toPrimitive(e,"string");return typeof s=="symbol"?s:s+""}function _unsupportedIterableToArray(e,s){if(e){if(typeof e=="string")return _arrayLikeToArray(e,s);var i={}.toString.call(e).slice(8,-1);return i==="Object"&&e.constructor&&(i=e.constructor.name),i==="Map"||i==="Set"?Array.from(e):i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?_arrayLikeToArray(e,s):void 0}}var _excluded$1=["animationData","loop","autoplay","initialSegment","onComplete","onLoopComplete","onEnterFrame","onSegmentStart","onConfigReady","onDataReady","onDataFailed","onLoadedImages","onDOMLoaded","onDestroy","lottieRef","renderer","name","assetsPath","rendererSettings"],useLottie=function e(s,i){var a=s.animationData,o=s.loop,c=s.autoplay,h=s.initialSegment,d=s.onComplete,g=s.onLoopComplete,b=s.onEnterFrame,_=s.onSegmentStart,$=s.onConfigReady,j=s.onDataReady,st=s.onDataFailed,tt=s.onLoadedImages,nt=s.onDOMLoaded,at=s.onDestroy;s.lottieRef,s.renderer,s.name,s.assetsPath,s.rendererSettings;var _e=_objectWithoutProperties(s,_excluded$1),rt=reactExports.useState(!1),et=_slicedToArray(rt,2),it=et[0],ot=et[1],ut=reactExports.useRef(),ht=reactExports.useRef(null),dt=function(){var Et;(Et=ut.current)===null||Et===void 0||Et.play()},mt=function(){var Et;(Et=ut.current)===null||Et===void 0||Et.stop()},xt=function(){var Et;(Et=ut.current)===null||Et===void 0||Et.pause()},St=function(Et){var Pt;(Pt=ut.current)===null||Pt===void 0||Pt.setSpeed(Et)},vt=function(Et,Pt){var Ct;(Ct=ut.current)===null||Ct===void 0||Ct.goToAndPlay(Et,Pt)},wt=function(Et,Pt){var Ct;(Ct=ut.current)===null||Ct===void 0||Ct.goToAndStop(Et,Pt)},_t=function(Et){var Pt;(Pt=ut.current)===null||Pt===void 0||Pt.setDirection(Et)},bt=function(Et,Pt){var Ct;(Ct=ut.current)===null||Ct===void 0||Ct.playSegments(Et,Pt)},ft=function(Et){var Pt;(Pt=ut.current)===null||Pt===void 0||Pt.setSubframe(Et)},pt=function(Et){var Pt;return(Pt=ut.current)===null||Pt===void 0?void 0:Pt.getDuration(Et)},lt=function(){var Et;(Et=ut.current)===null||Et===void 0||Et.destroy(),ut.current=void 0},ct=function(){var Et=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},Pt;if(ht.current){(Pt=ut.current)===null||Pt===void 0||Pt.destroy();var Ct=_objectSpread2(_objectSpread2(_objectSpread2({},s),Et),{},{container:ht.current});return ut.current=lottie.loadAnimation(Ct),ot(!!ut.current),function(){var At;(At=ut.current)===null||At===void 0||At.destroy(),ut.current=void 0}}};reactExports.useEffect(function(){var gt=ct();return function(){return gt==null?void 0:gt()}},[a,o]),reactExports.useEffect(function(){ut.current&&(ut.current.autoplay=!!c)},[c]),reactExports.useEffect(function(){if(ut.current){if(!h){ut.current.resetSegments(!0);return}!Array.isArray(h)||!h.length||((ut.current.currentRawFrame<h[0]||ut.current.currentRawFrame>h[1])&&(ut.current.currentRawFrame=h[0]),ut.current.setSegment(h[0],h[1]))}},[h]),reactExports.useEffect(function(){var gt=[{name:"complete",handler:d},{name:"loopComplete",handler:g},{name:"enterFrame",handler:b},{name:"segmentStart",handler:_},{name:"config_ready",handler:$},{name:"data_ready",handler:j},{name:"data_failed",handler:st},{name:"loaded_images",handler:tt},{name:"DOMLoaded",handler:nt},{name:"destroy",handler:at}],Et=gt.filter(function(Ct){return Ct.handler!=null});if(Et.length){var Pt=Et.map(function(Ct){var At;return(At=ut.current)===null||At===void 0||At.addEventListener(Ct.name,Ct.handler),function(){var jt;(jt=ut.current)===null||jt===void 0||jt.removeEventListener(Ct.name,Ct.handler)}});return function(){Pt.forEach(function(Ct){return Ct()})}}},[d,g,b,_,$,j,st,tt,nt,at]);var yt=React.createElement("div",_objectSpread2({style:i,ref:ht},_e));return{View:yt,play:dt,stop:mt,pause:xt,setSpeed:St,goToAndStop:wt,goToAndPlay:vt,setDirection:_t,playSegments:bt,setSubframe:ft,getDuration:pt,destroy:lt,animationContainerRef:ht,animationLoaded:it,animationItem:ut.current}};function getContainerVisibility(e){var s=e.getBoundingClientRect(),i=s.top,a=s.height,o=window.innerHeight-i,c=window.innerHeight+a;return o/c}function getContainerCursorPosition(e,s,i){var a=e.getBoundingClientRect(),o=a.top,c=a.left,h=a.width,d=a.height,g=(s-c)/h,b=(i-o)/d;return{x:g,y:b}}var useInitInteractivity=function e(s){var i=s.wrapperRef,a=s.animationItem,o=s.mode,c=s.actions;reactExports.useEffect(function(){var h=i.current;if(!(!h||!a||!c.length)){a.stop();var d=function(){var _=null,$=function(){var st=getContainerVisibility(h),tt=c.find(function(at){var _e=at.visibility;return _e&&st>=_e[0]&&st<=_e[1]});if(tt){if(tt.type==="seek"&&tt.visibility&&tt.frames.length===2){var nt=tt.frames[0]+Math.ceil((st-tt.visibility[0])/(tt.visibility[1]-tt.visibility[0])*tt.frames[1]);//! goToAndStop must be relative to the start of the current segment
a.goToAndStop(nt-a.firstFrame-1,!0)}tt.type==="loop"&&(_===null||_!==tt.frames||a.isPaused)&&(a.playSegments(tt.frames,!0),_=tt.frames),tt.type==="play"&&a.isPaused&&(a.resetSegments(!0),a.play()),tt.type==="stop"&&a.goToAndStop(tt.frames[0]-a.firstFrame-1,!0)}};return document.addEventListener("scroll",$),function(){document.removeEventListener("scroll",$)}},g=function(){var _=function(tt,nt){var at=tt,_e=nt;if(at!==-1&&_e!==-1){var rt=getContainerCursorPosition(h,at,_e);at=rt.x,_e=rt.y}var et=c.find(function(ut){var ht=ut.position;return ht&&Array.isArray(ht.x)&&Array.isArray(ht.y)?at>=ht.x[0]&&at<=ht.x[1]&&_e>=ht.y[0]&&_e<=ht.y[1]:ht&&!Number.isNaN(ht.x)&&!Number.isNaN(ht.y)?at===ht.x&&_e===ht.y:!1});if(et){if(et.type==="seek"&&et.position&&Array.isArray(et.position.x)&&Array.isArray(et.position.y)&&et.frames.length===2){var it=(at-et.position.x[0])/(et.position.x[1]-et.position.x[0]),ot=(_e-et.position.y[0])/(et.position.y[1]-et.position.y[0]);a.playSegments(et.frames,!0),a.goToAndStop(Math.ceil((it+ot)/2*(et.frames[1]-et.frames[0])),!0)}et.type==="loop"&&a.playSegments(et.frames,!0),et.type==="play"&&(a.isPaused&&a.resetSegments(!1),a.playSegments(et.frames)),et.type==="stop"&&a.goToAndStop(et.frames[0],!0)}},$=function(tt){_(tt.clientX,tt.clientY)},j=function(){_(-1,-1)};return h.addEventListener("mousemove",$),h.addEventListener("mouseout",j),function(){h.removeEventListener("mousemove",$),h.removeEventListener("mouseout",j)}};switch(o){case"scroll":return d();case"cursor":return g()}}},[o,a])},useLottieInteractivity=function e(s){var i=s.actions,a=s.mode,o=s.lottieObj,c=o.animationItem,h=o.View,d=o.animationContainerRef;return useInitInteractivity({actions:i,animationItem:c,mode:a,wrapperRef:d}),h},_excluded=["style","interactivity"],Lottie=function e(s){var i,a,o,c=s.style,h=s.interactivity,d=_objectWithoutProperties(s,_excluded),g=useLottie(d,c),b=g.View,_=g.play,$=g.stop,j=g.pause,st=g.setSpeed,tt=g.goToAndStop,nt=g.goToAndPlay,at=g.setDirection,_e=g.playSegments,rt=g.setSubframe,et=g.getDuration,it=g.destroy,ot=g.animationContainerRef,ut=g.animationLoaded,ht=g.animationItem;return reactExports.useEffect(function(){s.lottieRef&&(s.lottieRef.current={play:_,stop:$,pause:j,setSpeed:st,goToAndPlay:nt,goToAndStop:tt,setDirection:at,playSegments:_e,setSubframe:rt,getDuration:et,destroy:it,animationContainerRef:ot,animationLoaded:ut,animationItem:ht})},[(i=s.lottieRef)===null||i===void 0?void 0:i.current]),useLottieInteractivity({lottieObj:{View:b,play:_,stop:$,pause:j,setSpeed:st,goToAndStop:tt,goToAndPlay:nt,setDirection:at,playSegments:_e,setSubframe:rt,getDuration:et,destroy:it,animationContainerRef:ot,animationLoaded:ut,animationItem:ht},actions:(a=h==null?void 0:h.actions)!==null&&a!==void 0?a:[],mode:(o=h==null?void 0:h.mode)!==null&&o!==void 0?o:"scroll"})};const defaultLoadingAnimationUrl="https://assets5.lottiefiles.com/packages/lf20_usmfx6bp.json",LoadingAnimation=({text:e="Loading restaurants near you...",animationData:s})=>jsxRuntimeExports.jsxs(motion.div,{className:"flex flex-col items-center justify-center py-12 px-4",initial:{opacity:0},animate:{opacity:1},transition:{duration:.3},children:[jsxRuntimeExports.jsx("div",{className:"w-48 h-48 mb-4",children:jsxRuntimeExports.jsx(Lottie,{animationData:s,loop:!0,autoplay:!0,rendererSettings:{preserveAspectRatio:"xMidYMid slice"},src:s?void 0:defaultLoadingAnimationUrl})}),jsxRuntimeExports.jsx(motion.p,{className:"text-lg text-gray-600 font-medium text-center",initial:{y:10,opacity:0},animate:{y:0,opacity:1},transition:{delay:.2,duration:.3},children:e})]}),useCategories=e=>{const[s,i]=reactExports.useState([]),[a,o]=reactExports.useState(!0),[c,h]=reactExports.useState(null),d=async()=>{try{o(!0),h(null);const g=await RestaurantService.getMenuCategories(e);i(g)}catch(g){console.error("Error fetching categories:",g),h("Failed to load menu categories")}finally{o(!1)}};return reactExports.useEffect(()=>{d()},[e]),{categories:s,loading:a,error:c,refresh:d}},fetchProducts=async e=>{await new Promise(i=>setTimeout(i,1e3));const s=[{id:"p1",name:"Buffalo Wings",description:"Crispy chicken wings tossed in spicy buffalo sauce, served with celery and blue cheese dip",price:12.99,imageUrl:"https://images.pexels.com/photos/7290308/pexels-photo-7290308.jpeg",categoryId:"3",available:!0,hasCustomization:!0,tags:["chicken","spicy","popular"]},{id:"p2",name:"Mozzarella Sticks",description:"Golden fried mozzarella cheese sticks served with marinara sauce",price:9.99,imageUrl:"https://images.pexels.com/photos/4553031/pexels-photo-4553031.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=1",categoryId:"3",available:!0,hasCustomization:!0,tags:["cheese","fried","vegetarian"]},{id:"p3",name:"Loaded Nachos",description:"Tortilla chips topped with melted cheese, jalapeos, sour cream, and guacamole",price:11.99,imageUrl:"https://images.pexels.com/photos/1211887/pexels-photo-1211887.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=1",categoryId:"3",available:!0,hasCustomization:!0,tags:["mexican","shareable","vegetarian"]},{id:"p4",name:"Classic Cheeseburger",description:"Juicy beef patty topped with cheddar cheese, lettuce, tomato, and special sauce on a brioche bun",price:14.99,imageUrl:"https://images.pexels.com/photos/1639557/pexels-photo-1639557.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=1",categoryId:"4",available:!0,hasCustomization:!0,tags:["burger","popular","beef"]},{id:"p5",name:"BBQ Bacon Burger",description:"Beef patty with crispy bacon, BBQ sauce, onion rings, and cheddar cheese",price:16.99,imageUrl:"https://images.pexels.com/photos/3616956/pexels-photo-3616956.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=1",categoryId:"4",available:!0,hasCustomization:!0,tags:["burger","bacon","bbq"]},{id:"p6",name:"Veggie Burger",description:"Plant-based patty with avocado, lettuce, tomato, and herb mayo on a whole wheat bun",price:13.99,imageUrl:"https://images.pexels.com/photos/1199957/pexels-photo-1199957.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=1",categoryId:"4",available:!0,hasCustomization:!0,tags:["vegetarian","healthy","vegan"]},{id:"p7",name:"Margherita Pizza",description:"Classic pizza with fresh mozzarella, tomato sauce, and basil leaves",price:18.99,imageUrl:"https://images.pexels.com/photos/2147491/pexels-photo-2147491.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=1",categoryId:"5",available:!0,hasCustomization:!0,tags:["pizza","classic","vegetarian"]},{id:"p8",name:"Pepperoni Pizza",description:"Traditional pizza topped with pepperoni slices and mozzarella cheese",price:20.99,imageUrl:"https://images.pexels.com/photos/315755/pexels-photo-315755.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=1",categoryId:"5",available:!0,hasCustomization:!0,tags:["pizza","pepperoni","popular"]},{id:"p9",name:"Supreme Pizza",description:"Loaded with pepperoni, sausage, mushrooms, bell peppers, and onions",price:24.99,imageUrl:"https://images.pexels.com/photos/708587/pexels-photo-708587.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=1",categoryId:"5",available:!0,hasCustomization:!0,tags:["pizza","supreme","loaded"]},{id:"p10",name:"Fresh Lemonade",description:"House-made lemonade with fresh-squeezed lemons",price:4.99,imageUrl:"https://images.pexels.com/photos/2109099/pexels-photo-2109099.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=1",categoryId:"6",available:!0,hasCustomization:!0,tags:["refreshing","non-alcoholic","citrus"]},{id:"p11",name:"Cold Brew Coffee",description:"Smooth and bold coffee brewed cold for 24 hours",price:5.99,imageUrl:"https://images.pexels.com/photos/312418/pexels-photo-312418.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=1",categoryId:"6",available:!0,hasCustomization:!0,tags:["coffee","cold","caffeine"]},{id:"p12",name:"Strawberry Milkshake",description:"Creamy vanilla ice cream blended with fresh strawberries and milk",price:6.99,imageUrl:"https://images.pexels.com/photos/434295/pexels-photo-434295.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=1",categoryId:"6",available:!0,hasCustomization:!0,tags:["milkshake","strawberry","sweet"]}];return e?s.filter(i=>i.categoryId===e||i.categoryId.startsWith(`${e}-`)):s},useProducts=e=>{const[s,i]=reactExports.useState([]),[a,o]=reactExports.useState(!0),[c,h]=reactExports.useState(null);return reactExports.useEffect(()=>{(async()=>{try{o(!0);const g=await fetchProducts(e);i(g),h(null)}catch(g){h("Failed to load products"),console.error(g)}finally{o(!1)}})()},[e]),{products:s,loading:a,error:c}},fetchCustomizationOptions=async e=>{switch(await new Promise(s=>setTimeout(s,600)),e){case"p1":return[{id:"c1",name:"Wing Sauce",required:!0,multiSelect:!1,maxSelections:1,options:[{id:"c1-1",name:"Buffalo",priceAdjustment:0,default:!0},{id:"c1-2",name:"BBQ",priceAdjustment:0},{id:"c1-3",name:"Honey Garlic",priceAdjustment:.5},{id:"c1-4",name:"Extra Hot",priceAdjustment:.5}]},{id:"c2",name:"Quantity",required:!0,multiSelect:!1,maxSelections:1,options:[{id:"c2-1",name:"6 Wings",priceAdjustment:0,default:!0},{id:"c2-2",name:"12 Wings",priceAdjustment:6.99},{id:"c2-3",name:"24 Wings",priceAdjustment:12.99}]}];case"p2":return[{id:"c3",name:"Dipping Sauce",required:!0,multiSelect:!1,maxSelections:1,options:[{id:"c3-1",name:"Marinara",priceAdjustment:0,default:!0},{id:"c3-2",name:"Ranch",priceAdjustment:0},{id:"c3-3",name:"Garlic Aioli",priceAdjustment:.5}]}];case"p3":return[{id:"c4",name:"Protein Add-ons",required:!1,multiSelect:!0,minSelections:0,maxSelections:2,options:[{id:"c4-1",name:"Grilled Chicken",priceAdjustment:3.99},{id:"c4-2",name:"Ground Beef",priceAdjustment:4.99},{id:"c4-3",name:"Pulled Pork",priceAdjustment:4.99}]}];case"p4":case"p5":return[{id:"c5",name:"Doneness",required:!0,multiSelect:!1,maxSelections:1,options:[{id:"c5-1",name:"Medium Rare",priceAdjustment:0},{id:"c5-2",name:"Medium",priceAdjustment:0,default:!0},{id:"c5-3",name:"Well Done",priceAdjustment:0}]},{id:"c6",name:"Extra Toppings",required:!1,multiSelect:!0,minSelections:0,maxSelections:5,options:[{id:"c6-1",name:"Extra Cheese",priceAdjustment:1.5},{id:"c6-2",name:"Bacon",priceAdjustment:2.99},{id:"c6-3",name:"Avocado",priceAdjustment:2.49},{id:"c6-4",name:"Fried Egg",priceAdjustment:1.99},{id:"c6-5",name:"Mushrooms",priceAdjustment:1.49}]},{id:"c7",name:"Side",required:!0,multiSelect:!1,maxSelections:1,options:[{id:"c7-1",name:"French Fries",priceAdjustment:0,default:!0},{id:"c7-2",name:"Sweet Potato Fries",priceAdjustment:1.99},{id:"c7-3",name:"Onion Rings",priceAdjustment:2.49},{id:"c7-4",name:"Side Salad",priceAdjustment:1.49}]}];case"p6":return[{id:"c8",name:"Extra Toppings",required:!1,multiSelect:!0,minSelections:0,maxSelections:5,options:[{id:"c8-1",name:"Extra Avocado",priceAdjustment:1.99},{id:"c8-2",name:"Hummus",priceAdjustment:1.49},{id:"c8-3",name:"Sprouts",priceAdjustment:.99},{id:"c8-4",name:"Roasted Red Peppers",priceAdjustment:1.49}]},{id:"c9",name:"Side",required:!0,multiSelect:!1,maxSelections:1,options:[{id:"c9-1",name:"Sweet Potato Fries",priceAdjustment:0,default:!0},{id:"c9-2",name:"Side Salad",priceAdjustment:0},{id:"c9-3",name:"Fruit Cup",priceAdjustment:1.99}]}];case"p7":case"p8":case"p9":return[{id:"c10",name:"Size",required:!0,multiSelect:!1,maxSelections:1,options:[{id:"c10-1",name:'Small (10")',priceAdjustment:-3},{id:"c10-2",name:'Medium (12")',priceAdjustment:0,default:!0},{id:"c10-3",name:'Large (14")',priceAdjustment:4},{id:"c10-4",name:'Extra Large (16")',priceAdjustment:7}]},{id:"c11",name:"Crust Type",required:!0,multiSelect:!1,maxSelections:1,options:[{id:"c11-1",name:"Regular Crust",priceAdjustment:0,default:!0},{id:"c11-2",name:"Thin Crust",priceAdjustment:0},{id:"c11-3",name:"Thick Crust",priceAdjustment:1.99},{id:"c11-4",name:"Stuffed Crust",priceAdjustment:3.99}]},{id:"c12",name:"Extra Toppings",required:!1,multiSelect:!0,minSelections:0,maxSelections:8,options:[{id:"c12-1",name:"Extra Cheese",priceAdjustment:2.99},{id:"c12-2",name:"Pepperoni",priceAdjustment:2.49},{id:"c12-3",name:"Mushrooms",priceAdjustment:1.99},{id:"c12-4",name:"Bell Peppers",priceAdjustment:1.99},{id:"c12-5",name:"Italian Sausage",priceAdjustment:2.99},{id:"c12-6",name:"Olives",priceAdjustment:1.99},{id:"c12-7",name:"Pineapple",priceAdjustment:1.99},{id:"c12-8",name:"Jalapeos",priceAdjustment:1.49}]}];case"p10":return[{id:"c13",name:"Flavor",required:!1,multiSelect:!1,maxSelections:1,options:[{id:"c13-1",name:"Classic",priceAdjustment:0,default:!0},{id:"c13-2",name:"Strawberry",priceAdjustment:.99},{id:"c13-3",name:"Raspberry",priceAdjustment:.99},{id:"c13-4",name:"Mint",priceAdjustment:.99}]},{id:"c14",name:"Size",required:!0,multiSelect:!1,maxSelections:1,options:[{id:"c14-1",name:"Small",priceAdjustment:-1},{id:"c14-2",name:"Medium",priceAdjustment:0,default:!0},{id:"c14-3",name:"Large",priceAdjustment:1.5}]}];case"p11":return[{id:"c15",name:"Size",required:!0,multiSelect:!1,maxSelections:1,options:[{id:"c15-1",name:"Small",priceAdjustment:-1},{id:"c15-2",name:"Medium",priceAdjustment:0,default:!0},{id:"c15-3",name:"Large",priceAdjustment:1.5}]},{id:"c16",name:"Add-ons",required:!1,multiSelect:!0,minSelections:0,maxSelections:3,options:[{id:"c16-1",name:"Extra Shot",priceAdjustment:1.5},{id:"c16-2",name:"Vanilla Syrup",priceAdjustment:.75},{id:"c16-3",name:"Caramel Syrup",priceAdjustment:.75},{id:"c16-4",name:"Almond Milk",priceAdjustment:.6}]}];case"p12":return[{id:"c17",name:"Size",required:!0,multiSelect:!1,maxSelections:1,options:[{id:"c17-1",name:"Small",priceAdjustment:-1.5},{id:"c17-2",name:"Medium",priceAdjustment:0,default:!0},{id:"c17-3",name:"Large",priceAdjustment:2}]},{id:"c18",name:"Toppings",required:!1,multiSelect:!0,minSelections:0,maxSelections:3,options:[{id:"c18-1",name:"Whipped Cream",priceAdjustment:.99},{id:"c18-2",name:"Cherry",priceAdjustment:.5},{id:"c18-3",name:"Chocolate Chips",priceAdjustment:1.49},{id:"c18-4",name:"Extra Strawberries",priceAdjustment:1.99}]}];default:return[]}},useCustomization=e=>{const[s,i]=reactExports.useState([]),[a,o]=reactExports.useState(!0),[c,h]=reactExports.useState(null),[d,g]=reactExports.useState({productId:e,selections:{}});return reactExports.useEffect(()=>{(async()=>{if(e)try{o(!0);const nt=await fetchCustomizationOptions(e);i(nt);const at={};nt.forEach(_e=>{if(_e.multiSelect===!1){const rt=_e.options.find(et=>et.default);rt?at[_e.id]=rt.id:_e.required&&_e.options.length>0&&(at[_e.id]=_e.options[0].id)}else{const rt=_e.options.filter(et=>et.default).map(et=>et.id);rt.length>0?at[_e.id]=rt:_e.required&&_e.minSelections&&_e.minSelections>0?at[_e.id]=_e.options.slice(0,_e.minSelections).map(et=>et.id):at[_e.id]=[]}}),g({productId:e,selections:at}),h(null)}catch(nt){h("Failed to load customization options"),console.error(nt)}finally{o(!1)}})()},[e]),{options:s,loading:a,error:c,customization:d,updateSingleSelection:(tt,nt)=>{g(at=>({...at,selections:{...at.selections,[tt]:nt}}))},updateMultiSelection:(tt,nt,at)=>{g(_e=>{const rt=_e.selections[tt]||[];let et;return at?et=[...rt,nt]:et=rt.filter(it=>it!==nt),{..._e,selections:{..._e.selections,[tt]:et}}})},calculateTotalPrice:tt=>{if(!s.length)return tt;let nt=0;return Object.entries(d.selections).forEach(([at,_e])=>{const rt=s.find(et=>et.id===at);if(rt)if(!rt.multiSelect&&typeof _e=="string"){const et=rt.options.find(it=>it.id===_e);et&&(nt+=et.priceAdjustment)}else rt.multiSelect&&Array.isArray(_e)&&_e.forEach(et=>{const it=rt.options.find(ot=>ot.id===et);it&&(nt+=it.priceAdjustment)})}),tt+nt},validateSelections:()=>s.every(tt=>{const nt=d.selections[tt.id];return tt.required?tt.multiSelect?Array.isArray(nt)&&nt.length>=(tt.minSelections||0)&&nt.length<=(tt.maxSelections||1/0):typeof nt=="string"&&nt.length>0:!0}),updateSpecialInstructions:tt=>{g(nt=>({...nt,specialInstructions:tt}))}}},CartContext=reactExports.createContext(void 0),CartProvider=({children:e})=>{const[s,i]=reactExports.useState([]),a=s.reduce((_,$)=>_+$.quantity,0),o=s.reduce((_,$)=>_+$.totalPrice,0),c=(_,$)=>{if(!$||!$.selections)return _;let j=0;const st={"c1-1":0,"c1-2":0,"c1-3":.5,"c1-4":.5,"c2-1":0,"c2-2":6.99,"c2-3":12.99,"c3-1":0,"c3-2":0,"c3-3":.5,"c4-1":3.99,"c4-2":4.99,"c4-3":4.99,"c5-1":0,"c5-2":0,"c5-3":0,"c6-1":1.5,"c6-2":2.99,"c6-3":2.49,"c6-4":1.99,"c6-5":1.49,"c7-1":0,"c7-2":1.99,"c7-3":2.49,"c7-4":1.49,"c8-1":1.99,"c8-2":1.49,"c8-3":.99,"c8-4":1.49,"c9-1":0,"c9-2":0,"c9-3":1.99,"c10-1":-3,"c10-2":0,"c10-3":4,"c10-4":7,"c11-1":0,"c11-2":0,"c11-3":1.99,"c11-4":3.99,"c12-1":2.99,"c12-2":2.49,"c12-3":1.99,"c12-4":1.99,"c12-5":2.99,"c12-6":1.99,"c12-7":1.99,"c12-8":1.49,"c13-1":0,"c13-2":.99,"c13-3":.99,"c13-4":.99,"c14-1":-1,"c14-2":0,"c14-3":1.5,"c15-1":-1,"c15-2":0,"c15-3":1.5,"c17-1":-1.5,"c17-2":0,"c17-3":2,"c16-1":1.5,"c16-2":.75,"c16-3":.75,"c16-4":.6,"c18-1":.99,"c18-2":.5,"c18-3":1.49,"c18-4":1.99};return Object.entries($.selections).forEach(([tt,nt])=>{typeof nt=="string"?j+=st[nt]||0:Array.isArray(nt)&&nt.forEach(at=>{j+=st[at]||0})}),_+j},h=(_,$,j)=>{const st=`${_.id}_${Date.now()}`,tt=c(_.price,j),nt=tt*$,at={id:st,productId:_.id,name:_.name,price:tt,quantity:$,customization:j,totalPrice:nt};i(_e=>[..._e,at])},d=_=>{i($=>$.filter(j=>j.id!==_))},g=(_,$)=>{$<1||i(j=>j.map(st=>st.id===_?{...st,quantity:$,totalPrice:st.price*$}:st))},b=()=>{i([])};return jsxRuntimeExports.jsx(CartContext.Provider,{value:{items:s,addToCart:h,removeFromCart:d,updateQuantity:g,clearCart:b,totalItems:a,subtotal:o},children:e})},useCart=()=>{const e=reactExports.useContext(CartContext);if(e===void 0)throw new Error("useCart must be used within a CartProvider");return e};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var defaultAttributes={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const toKebabCase=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),createLucideIcon=(e,s)=>{const i=reactExports.forwardRef(({color:a="currentColor",size:o=24,strokeWidth:c=2,absoluteStrokeWidth:h,className:d="",children:g,...b},_)=>reactExports.createElement("svg",{ref:_,...defaultAttributes,width:o,height:o,stroke:a,strokeWidth:h?Number(c)*24/Number(o):c,className:["lucide",`lucide-${toKebabCase(e)}`,d].join(" "),...b},[...s.map(([$,j])=>reactExports.createElement($,j)),...Array.isArray(g)?g:[g]]));return i.displayName=`${e}`,i};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AlertCircle=createLucideIcon("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ArrowLeft=createLucideIcon("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Banknote=createLucideIcon("Banknote",[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"2",key:"9lu3g6"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}],["path",{d:"M6 12h.01M18 12h.01",key:"113zkx"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CheckCircle=createLucideIcon("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Check=createLucideIcon("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ChefHat=createLucideIcon("ChefHat",[["path",{d:"M6 13.87A4 4 0 0 1 7.41 6a5.11 5.11 0 0 1 1.05-1.54 5 5 0 0 1 7.08 0A5.11 5.11 0 0 1 16.59 6 4 4 0 0 1 18 13.87V21H6Z",key:"z3ra2g"}],["line",{x1:"6",x2:"18",y1:"17",y2:"17",key:"12q60k"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ChevronDown=createLucideIcon("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ChevronLeft=createLucideIcon("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ChevronRight=createLucideIcon("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ChevronUp=createLucideIcon("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Clock=createLucideIcon("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Coffee=createLucideIcon("Coffee",[["path",{d:"M17 8h1a4 4 0 1 1 0 8h-1",key:"jx4kbh"}],["path",{d:"M3 8h14v9a4 4 0 0 1-4 4H7a4 4 0 0 1-4-4Z",key:"1bxrl0"}],["line",{x1:"6",x2:"6",y1:"2",y2:"4",key:"1cr9l3"}],["line",{x1:"10",x2:"10",y1:"2",y2:"4",key:"170wym"}],["line",{x1:"14",x2:"14",y1:"2",y2:"4",key:"1c5f70"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CreditCard=createLucideIcon("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Grid3x3=createLucideIcon("Grid3x3",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Info=createLucideIcon("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const List=createLucideIcon("List",[["line",{x1:"8",x2:"21",y1:"6",y2:"6",key:"7ey8pc"}],["line",{x1:"8",x2:"21",y1:"12",y2:"12",key:"rjfblc"}],["line",{x1:"8",x2:"21",y1:"18",y2:"18",key:"c3b1m8"}],["line",{x1:"3",x2:"3.01",y1:"6",y2:"6",key:"1g7gq3"}],["line",{x1:"3",x2:"3.01",y1:"12",y2:"12",key:"1pjlvk"}],["line",{x1:"3",x2:"3.01",y1:"18",y2:"18",key:"28t2mc"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LogOut=createLucideIcon("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mail=createLucideIcon("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MapPin=createLucideIcon("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Minus=createLucideIcon("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Package=createLucideIcon("Package",[["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Phone=createLucideIcon("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pizza=createLucideIcon("Pizza",[["path",{d:"M15 11h.01",key:"rns66s"}],["path",{d:"M11 15h.01",key:"k85uqc"}],["path",{d:"M16 16h.01",key:"1f9h7w"}],["path",{d:"m2 16 20 6-6-20A20 20 0 0 0 2 16",key:"e4slt2"}],["path",{d:"M5.71 17.11a17.04 17.04 0 0 1 11.4-11.4",key:"rerf8f"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Plus=createLucideIcon("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Receipt=createLucideIcon("Receipt",[["path",{d:"M4 2v20l2-1 2 1 2-1 2 1 2-1 2 1 2-1 2 1V2l-2 1-2-1-2 1-2-1-2 1-2-1-2 1Z",key:"q3az6g"}],["path",{d:"M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8",key:"1h4pet"}],["path",{d:"M12 17.5v-11",key:"1jc1ny"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RefreshCw=createLucideIcon("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Salad=createLucideIcon("Salad",[["path",{d:"M7 21h10",key:"1b0cd5"}],["path",{d:"M12 21a9 9 0 0 0 9-9H3a9 9 0 0 0 9 9Z",key:"4rw317"}],["path",{d:"M11.38 12a2.4 2.4 0 0 1-.4-4.77 2.4 2.4 0 0 1 3.2-2.77 2.4 2.4 0 0 1 3.47-.63 2.4 2.4 0 0 1 3.37 3.37 2.4 2.4 0 0 1-1.1 3.7 2.51 2.51 0 0 1 .03 1.1",key:"10xrj0"}],["path",{d:"m13 12 4-4",key:"1hckqy"}],["path",{d:"M10.9 7.25A3.99 3.99 0 0 0 4 10c0 .73.2 1.41.54 2",key:"1p4srx"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sandwich=createLucideIcon("Sandwich",[["path",{d:"M3 11v3a1 1 0 0 0 1 1h16a1 1 0 0 0 1-1v-3",key:"34v9d7"}],["path",{d:"M12 19H4a1 1 0 0 1-1-1v-2a1 1 0 0 1 1-1h16a1 1 0 0 1 1 1v2a1 1 0 0 1-1 1h-3.83",key:"1k5vfb"}],["path",{d:"m3 11 7.77-6.04a2 2 0 0 1 2.46 0L21 11H3Z",key:"1oe7l6"}],["path",{d:"M12.97 19.77 7 15h12.5l-3.75 4.5a2 2 0 0 1-2.78.27Z",key:"1ts2ri"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Search=createLucideIcon("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ShoppingBag=createLucideIcon("ShoppingBag",[["path",{d:"M6 2 3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4Z",key:"hou9p0"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Star=createLucideIcon("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Trash2=createLucideIcon("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Truck=createLucideIcon("Truck",[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",key:"lysw3i"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const User=createLucideIcon("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X=createLucideIcon("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),getCategoryIcon=e=>{const s=e.toLowerCase();return s.includes("pizza")?Pizza:s.includes("burger")?Sandwich:s.includes("beverage")||s.includes("drink")?Coffee:s.includes("starter")||s.includes("appetizer")?Salad:ChefHat},CategoryTab=({category:e,isActive:s,onClick:i,className:a=""})=>{const o=getCategoryIcon(e.name);return jsxRuntimeExports.jsxs("button",{onClick:i,className:`
        flex flex-col items-center justify-center py-3 px-6 rounded-lg transition-all duration-200 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 min-w-[100px]
        ${s?"bg-blue-600 text-white shadow-lg transform scale-105":"bg-white text-gray-600 hover:bg-gray-50 hover:text-gray-800 border border-gray-200 hover:border-gray-300 hover:shadow-md"}
        ${a}
      `,"aria-selected":s,role:"tab",children:[jsxRuntimeExports.jsx("div",{className:`mb-2 ${s?"text-white":"text-gray-500"}`,children:jsxRuntimeExports.jsx(o,{className:"w-6 h-6"})}),jsxRuntimeExports.jsx("span",{className:`text-sm font-medium text-center leading-tight ${s?"text-white":"text-gray-700"}`,children:e.name})]})},CategoryNavigation=({categories:e,activeCategory:s,onSelectCategory:i,loading:a=!1,className:o=""})=>{var tt,nt;const c=reactExports.useRef(null),[h,d]=React.useState(!1),[g,b]=React.useState(!1),[_,$]=React.useState("");reactExports.useEffect(()=>{const at=()=>{const rt=c.current;rt&&(d(rt.scrollLeft>0),b(rt.scrollLeft<rt.scrollWidth-rt.clientWidth-10))},_e=c.current;if(_e)return at(),_e.addEventListener("scroll",at),window.addEventListener("resize",at),()=>{_e.removeEventListener("scroll",at),window.removeEventListener("resize",at)}},[e]);const j=()=>{const at=c.current;at&&at.scrollBy({left:-200,behavior:"smooth"})},st=()=>{const at=c.current;at&&at.scrollBy({left:200,behavior:"smooth"})};return jsxRuntimeExports.jsxs("div",{className:`relative bg-white border-b border-gray-200 ${o}`,children:[jsxRuntimeExports.jsx("div",{className:"px-4 py-2 border-b border-gray-200",children:jsxRuntimeExports.jsxs("div",{className:"relative",children:[jsxRuntimeExports.jsx("div",{className:"absolute inset-y-0 left-0 flex items-center pl-3 pointer-events-none",children:jsxRuntimeExports.jsx(Search,{size:18,className:"text-gray-400"})}),jsxRuntimeExports.jsx("input",{type:"search",className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500 text-sm",placeholder:"Search categories...",value:_,onChange:at=>$(at.target.value),"aria-label":"Search categories"})]})}),jsxRuntimeExports.jsxs("div",{className:"relative",children:[h&&jsxRuntimeExports.jsx("button",{onClick:j,className:"absolute left-0 inset-y-0 z-10 flex items-center justify-center w-8 bg-gradient-to-r from-white to-transparent","aria-label":"Scroll left",children:jsxRuntimeExports.jsx(ChevronLeft,{size:24,className:"text-gray-500"})}),jsxRuntimeExports.jsx("div",{ref:c,className:"flex overflow-x-auto scrollbar-hide scroll-smooth py-2 px-4",role:"tablist",children:a?Array.from({length:5}).map((at,_e)=>jsxRuntimeExports.jsxs("div",{className:"flex flex-col items-center mr-6 animate-pulse","aria-hidden":"true",children:[jsxRuntimeExports.jsx("div",{className:"w-12 h-12 bg-gray-200 rounded-full mb-1"}),jsxRuntimeExports.jsx("div",{className:"h-4 bg-gray-200 rounded w-16"})]},_e)):e.length>0?e.filter(at=>at.name.toLowerCase().includes(_.toLowerCase())).map(at=>jsxRuntimeExports.jsx(CategoryTab,{category:at,isActive:s===at.id,onClick:()=>i(at.id),className:"mr-6 shrink-0"},at.id)):jsxRuntimeExports.jsx("div",{className:"py-4 text-center text-gray-500 w-full",children:_?"No categories found matching your search":"No categories found"})}),g&&jsxRuntimeExports.jsx("button",{onClick:st,className:"absolute right-0 inset-y-0 z-10 flex items-center justify-center w-8 bg-gradient-to-l from-white to-transparent","aria-label":"Scroll right",children:jsxRuntimeExports.jsx(ChevronRight,{size:24,className:"text-gray-500"})})]}),s&&jsxRuntimeExports.jsx("div",{className:"px-4 py-2 flex overflow-x-auto scrollbar-hide",children:(nt=(tt=e.find(at=>at.id===s))==null?void 0:tt.subcategories)==null?void 0:nt.map(at=>jsxRuntimeExports.jsx("button",{onClick:()=>i(at.id),className:`
                  px-3 py-1 mr-2 text-sm rounded-full whitespace-nowrap
                  ${s===at.id?"bg-blue-100 text-blue-800 font-medium":"bg-gray-100 text-gray-800 hover:bg-gray-200"}
                `,children:at.name},at.id))})]})},Badge=({text:e,variant:s="default",className:i=""})=>{const a="inline-flex items-center rounded-full px-2 py-1 text-xs font-medium",o={default:"bg-blue-100 text-blue-800",success:"bg-green-100 text-green-800",warning:"bg-yellow-100 text-yellow-800",error:"bg-red-100 text-red-800"};return jsxRuntimeExports.jsx("span",{className:`${a} ${o[s]} ${i}`,children:e})},Button=({children:e,variant:s="primary",size:i="md",fullWidth:a=!1,disabled:o=!1,loading:c=!1,className:h="",onClick:d,type:g="button",ariaLabel:b})=>{const _="inline-flex items-center justify-center font-medium rounded-md transition-colors focus:outline-none focus:ring-2 focus:ring-offset-2",$={primary:"bg-blue-600 hover:bg-blue-700 text-white focus:ring-blue-500",secondary:"bg-teal-600 hover:bg-teal-700 text-white focus:ring-teal-500",outline:"bg-transparent border border-gray-300 text-gray-700 hover:bg-gray-50 focus:ring-blue-500",text:"bg-transparent text-blue-600 hover:bg-blue-50 hover:text-blue-700 focus:ring-blue-500"},j={sm:"text-xs px-2.5 py-1.5",md:"text-sm px-4 py-2",lg:"text-base px-6 py-3"},st=o?"opacity-50 cursor-not-allowed":"cursor-pointer",tt=a?"w-full":"";return jsxRuntimeExports.jsxs("button",{type:g,className:`
        ${_}
        ${$[s]}
        ${j[i]}
        ${st}
        ${tt}
        ${h}
      `,onClick:d,disabled:o||c,"aria-label":b,"aria-busy":c,children:[c&&jsxRuntimeExports.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-current",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[jsxRuntimeExports.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),jsxRuntimeExports.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),e]})},QuantitySelector=({quantity:e,onIncrease:s,onDecrease:i,min:a=1,max:o=99,size:c="md",className:h=""})=>{const d=()=>{e>a&&i()},g=()=>{e<o&&s()},b={sm:"h-6 w-6",md:"h-8 w-8",lg:"h-10 w-10"},_={sm:"text-sm",md:"text-base",lg:"text-lg"},$={sm:16,md:18,lg:20};return jsxRuntimeExports.jsxs("div",{className:`flex items-center ${h}`,children:[jsxRuntimeExports.jsx("button",{type:"button",onClick:d,disabled:e<=a,className:`${b[c]} flex items-center justify-center rounded-full border border-gray-300 bg-white text-gray-500 transition-colors hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed`,"aria-label":"Decrease quantity",children:jsxRuntimeExports.jsx(Minus,{size:$[c],className:"stroke-current"})}),jsxRuntimeExports.jsx("span",{className:`mx-3 ${_[c]} font-medium text-gray-900 tabular-nums`,children:e}),jsxRuntimeExports.jsx("button",{type:"button",onClick:g,disabled:e>=o,className:`${b[c]} flex items-center justify-center rounded-full border border-gray-300 bg-white text-gray-500 transition-colors hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed`,"aria-label":"Increase quantity",children:jsxRuntimeExports.jsx(Plus,{size:$[c],className:"stroke-current"})})]})},ProductCard=({product:e,onSelect:s,className:i="",viewType:a="grid"})=>{const o=a==="grid",{items:c,addToCart:h,updateQuantity:d,removeFromCart:g}=useCart(),b=new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(e.price),_=c.filter(tt=>tt.productId===e.id).reduce((tt,nt)=>tt+nt.quantity,0),$=()=>{e.hasCustomization?s(e):h(e,1)},j=()=>{if(_===0)h(e,1);else{const tt=c.filter(nt=>nt.productId===e.id).sort((nt,at)=>parseInt(at.id.split("_")[1])-parseInt(nt.id.split("_")[1]))[0];tt&&d(tt.id,tt.quantity+1)}},st=()=>{if(_>0){const tt=c.filter(nt=>nt.productId===e.id).sort((nt,at)=>parseInt(at.id.split("_")[1])-parseInt(nt.id.split("_")[1]))[0];tt&&(tt.quantity>1?d(tt.id,tt.quantity-1):g(tt.id))}};return jsxRuntimeExports.jsxs("div",{className:`
        bg-white border border-gray-200 rounded-lg overflow-hidden transition-shadow hover:shadow-md
        ${o?"flex flex-col":"flex flex-row"}
        ${i}
      `,children:[jsxRuntimeExports.jsxs("div",{className:`
          relative overflow-hidden bg-gray-100
          ${o?"w-full aspect-[4/3]":"w-24 h-24 sm:w-32 sm:h-32"}
        `,children:[jsxRuntimeExports.jsx("img",{src:e.imageUrl,alt:e.name,className:"w-full h-full object-cover",loading:"lazy",onError:tt=>{const nt=tt.target;nt.onerror=null,nt.src="https://placehold.co/400x300/e2e8f0/64748b?text=Food"}}),!e.available&&jsxRuntimeExports.jsx("div",{className:"absolute top-0 right-0 m-2",children:jsxRuntimeExports.jsx(Badge,{text:"Sold Out",variant:"error"})})]}),jsxRuntimeExports.jsxs("div",{className:`flex-1 p-4 ${o?"":"flex flex-col justify-between"}`,children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-start mb-1",children:[jsxRuntimeExports.jsx("h3",{className:"text-lg font-medium text-gray-900 line-clamp-1",children:e.name}),e.hasCustomization&&jsxRuntimeExports.jsx("span",{className:"text-blue-600 ml-2",title:"Customizable",children:jsxRuntimeExports.jsx(AlertCircle,{size:16})})]}),jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-500 mb-2 line-clamp-2",children:e.description}),e.tags&&e.tags.length>0&&jsxRuntimeExports.jsx("div",{className:"mb-3 flex flex-wrap gap-1",children:e.tags.slice(0,3).map(tt=>jsxRuntimeExports.jsx(Badge,{text:tt,variant:"default",className:"text-xs"},tt))})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between mt-auto",children:[jsxRuntimeExports.jsx("span",{className:"text-lg font-medium text-gray-900",children:b}),jsxRuntimeExports.jsx("div",{className:"flex items-center gap-2",children:_>0&&!e.hasCustomization?jsxRuntimeExports.jsx(QuantitySelector,{quantity:_,onIncrease:j,onDecrease:st,size:"sm",min:0}):jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsxs(Button,{variant:"primary",size:"sm",onClick:$,disabled:!e.available,className:"flex items-center",children:[e.hasCustomization?"Customize":"Add",e.hasCustomization&&jsxRuntimeExports.jsx(ChevronRight,{size:16,className:"ml-1"})]}),_>0&&jsxRuntimeExports.jsx("div",{className:"bg-red-500 text-white text-xs rounded-full h-5 w-5 flex items-center justify-center font-medium",children:_})]})})]})]})]})},ProductSkeleton=({count:e=4,viewType:s="grid",className:i=""})=>{const a=s==="grid";return jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:Array.from({length:e}).map((o,c)=>jsxRuntimeExports.jsxs("div",{className:`
            bg-white border border-gray-200 rounded-lg overflow-hidden animate-pulse
            ${a?"flex flex-col":"flex flex-row"}
            ${i}
          `,"aria-hidden":"true",children:[jsxRuntimeExports.jsx("div",{className:`
              bg-gray-200
              ${a?"w-full aspect-[4/3]":"w-24 h-24 sm:w-32 sm:h-32"}
            `}),jsxRuntimeExports.jsxs("div",{className:`flex-1 p-4 ${a?"":"flex flex-col justify-between"}`,children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("div",{className:"h-6 bg-gray-200 rounded w-3/4 mb-2"}),jsxRuntimeExports.jsx("div",{className:"h-4 bg-gray-200 rounded w-full mb-1"}),jsxRuntimeExports.jsx("div",{className:"h-4 bg-gray-200 rounded w-2/3 mb-3"}),jsxRuntimeExports.jsxs("div",{className:"flex gap-1 mb-3",children:[jsxRuntimeExports.jsx("div",{className:"h-5 bg-gray-200 rounded-full w-16"}),jsxRuntimeExports.jsx("div",{className:"h-5 bg-gray-200 rounded-full w-12"})]})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between mt-auto",children:[jsxRuntimeExports.jsx("div",{className:"h-6 bg-gray-200 rounded w-16"}),jsxRuntimeExports.jsx("div",{className:"h-8 bg-gray-200 rounded w-20"})]})]})]},c))})},ProductGrid=({products:e,onSelectProduct:s,loading:i=!1,error:a=null,viewType:o="grid",onToggleView:c,className:h=""})=>{const d=o==="grid";return jsxRuntimeExports.jsxs("div",{className:`bg-gray-50 ${h}`,children:[jsxRuntimeExports.jsxs("div",{className:"sticky top-0 z-10 flex items-center justify-between bg-white px-4 py-2 border-b border-gray-200",children:[jsxRuntimeExports.jsxs("h2",{className:"text-lg font-medium text-gray-900",children:[e.length," ",e.length===1?"item":"items"]}),c&&jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-2",children:[jsxRuntimeExports.jsx("button",{onClick:()=>c("grid"),className:`p-2 rounded-md ${d?"bg-gray-100 text-blue-600":"text-gray-500"}`,"aria-label":"Grid view","aria-pressed":d,children:jsxRuntimeExports.jsx(Grid3x3,{size:20})}),jsxRuntimeExports.jsx("button",{onClick:()=>c("list"),className:`p-2 rounded-md ${d?"text-gray-500":"bg-gray-100 text-blue-600"}`,"aria-label":"List view","aria-pressed":!d,children:jsxRuntimeExports.jsx(List,{size:20})})]})]}),a&&jsxRuntimeExports.jsxs("div",{className:"p-6 flex flex-col items-center justify-center text-center",children:[jsxRuntimeExports.jsx(AlertCircle,{size:48,className:"text-red-500 mb-4"}),jsxRuntimeExports.jsx("p",{className:"text-lg font-medium text-gray-900 mb-2",children:"Something went wrong"}),jsxRuntimeExports.jsx("p",{className:"text-gray-500",children:a})]}),!i&&!a&&e.length===0&&jsxRuntimeExports.jsxs("div",{className:"p-6 flex flex-col items-center justify-center text-center",children:[jsxRuntimeExports.jsx(AlertCircle,{size:48,className:"text-gray-400 mb-4"}),jsxRuntimeExports.jsx("p",{className:"text-lg font-medium text-gray-900 mb-2",children:"No products found"}),jsxRuntimeExports.jsx("p",{className:"text-gray-500",children:"Try selecting a different category"})]}),jsxRuntimeExports.jsx("div",{className:`
          p-4 grid gap-4
          ${d?"grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4":"grid-cols-1"}
        `,children:i?jsxRuntimeExports.jsx(ProductSkeleton,{count:d?8:4,viewType:o}):e.map(g=>jsxRuntimeExports.jsx(ProductCard,{product:g,onSelect:s,viewType:o},g.id))})]})},ProductCustomizationModal=({product:e,options:s,initialCustomization:i,onUpdateSingleSelection:a,onUpdateMultiSelection:o,onUpdateSpecialInstructions:c,calculateTotalPrice:h,isValid:d,onClose:g,onAddToCart:b,loading:_=!1})=>{const[$,j]=reactExports.useState(1),[st,tt]=reactExports.useState(i.specialInstructions||""),nt=h(e.price)*$,at=new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(nt),_e=ot=>{const ut=ot.target.value;tt(ut),c(ut)},rt=()=>j(ot=>ot+1),et=()=>j(ot=>Math.max(1,ot-1)),it=()=>{b($)};return jsxRuntimeExports.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black bg-opacity-50",children:jsxRuntimeExports.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-md max-h-[90vh] flex flex-col",children:[jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-center p-4 border-b border-gray-200",children:[jsxRuntimeExports.jsx("h3",{className:"text-xl font-semibold text-gray-900",children:e.name}),jsxRuntimeExports.jsx("button",{onClick:g,className:"text-gray-400 hover:text-gray-500 focus:outline-none","aria-label":"Close",children:jsxRuntimeExports.jsx(X,{size:24})})]}),jsxRuntimeExports.jsx("div",{className:"flex-1 overflow-y-auto p-4",children:_?jsxRuntimeExports.jsxs("div",{className:"flex flex-col space-y-4 animate-pulse",children:[jsxRuntimeExports.jsx("div",{className:"h-6 bg-gray-200 rounded w-1/2"}),jsxRuntimeExports.jsx("div",{className:"h-4 bg-gray-200 rounded w-3/4"}),jsxRuntimeExports.jsx("div",{className:"h-10 bg-gray-200 rounded w-full"}),jsxRuntimeExports.jsx("div",{className:"h-10 bg-gray-200 rounded w-full"}),jsxRuntimeExports.jsx("div",{className:"h-6 bg-gray-200 rounded w-1/2 mt-4"}),jsxRuntimeExports.jsx("div",{className:"h-10 bg-gray-200 rounded w-full"})]}):jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx("div",{className:"w-full h-48 mb-4 rounded-lg overflow-hidden",children:jsxRuntimeExports.jsx("img",{src:e.imageUrl,alt:e.name,className:"w-full h-full object-cover"})}),jsxRuntimeExports.jsx("p",{className:"text-gray-500 mb-6",children:e.description}),s.map(ot=>jsxRuntimeExports.jsxs("div",{className:"mb-6",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center mb-2",children:[jsxRuntimeExports.jsx("h4",{className:"text-lg font-medium text-gray-900",children:ot.name}),ot.required&&jsxRuntimeExports.jsx("span",{className:"ml-2 text-xs text-red-600 font-medium",children:"Required"})]}),ot.multiSelect?jsxRuntimeExports.jsx("div",{className:"space-y-2",children:ot.options.map(ut=>{const dt=(i.selections[ot.id]||[]).includes(ut.id);return jsxRuntimeExports.jsxs("label",{className:`
                              flex items-center justify-between p-3 border rounded-lg cursor-pointer transition-colors
                              ${dt?"border-blue-500 bg-blue-50":"border-gray-200 hover:bg-gray-50"}
                            `,children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center",children:[jsxRuntimeExports.jsx("input",{type:"checkbox",name:ot.id,value:ut.id,checked:dt,onChange:mt=>o(ot.id,ut.id,mt.target.checked),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),jsxRuntimeExports.jsx("span",{className:"ml-3 text-gray-900",children:ut.name})]}),ut.priceAdjustment>0&&jsxRuntimeExports.jsxs("span",{className:"text-gray-500",children:["+",new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(ut.priceAdjustment)]})]},ut.id)})}):jsxRuntimeExports.jsx("div",{className:"space-y-2",children:ot.options.map(ut=>{const ht=i.selections[ot.id]===ut.id;return jsxRuntimeExports.jsxs("label",{className:`
                              flex items-center justify-between p-3 border rounded-lg cursor-pointer transition-colors
                              ${ht?"border-blue-500 bg-blue-50":"border-gray-200 hover:bg-gray-50"}
                            `,children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center",children:[jsxRuntimeExports.jsx("input",{type:"radio",name:ot.id,value:ut.id,checked:ht,onChange:()=>a(ot.id,ut.id),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300"}),jsxRuntimeExports.jsx("span",{className:"ml-3 text-gray-900",children:ut.name})]}),ut.priceAdjustment>0&&jsxRuntimeExports.jsxs("span",{className:"text-gray-500",children:["+",new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(ut.priceAdjustment)]})]},ut.id)})})]},ot.id)),jsxRuntimeExports.jsxs("div",{className:"mb-6",children:[jsxRuntimeExports.jsx("label",{htmlFor:"special-instructions",className:"block text-lg font-medium text-gray-900 mb-2",children:"Special Instructions"}),jsxRuntimeExports.jsx("textarea",{id:"special-instructions",className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500",rows:3,placeholder:"Any special requests or allergies? Let us know!",value:st,onChange:_e})]})]})}),jsxRuntimeExports.jsxs("div",{className:"border-t border-gray-200 p-4",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between mb-4",children:[jsxRuntimeExports.jsx("span",{className:"text-gray-700 font-medium",children:"Quantity"}),jsxRuntimeExports.jsx(QuantitySelector,{quantity:$,onIncrease:rt,onDecrease:et,min:1,max:10})]}),!d&&jsxRuntimeExports.jsxs("div",{className:"mb-4 p-3 bg-red-50 border border-red-200 rounded-lg flex items-start",children:[jsxRuntimeExports.jsx(Info,{size:20,className:"text-red-500 mr-2 flex-shrink-0 mt-0.5"}),jsxRuntimeExports.jsx("p",{className:"text-sm text-red-700",children:"Please make all required selections before adding to cart."})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center",children:[jsxRuntimeExports.jsx("span",{className:"text-xl font-bold text-gray-900 mr-4",children:at}),jsxRuntimeExports.jsx(Button,{variant:"primary",fullWidth:!0,disabled:!d||_,loading:_,onClick:it,children:"Add to Cart"})]})]})]})})},CartButton=({onClick:e})=>{const{totalItems:s}=useCart();return jsxRuntimeExports.jsxs(motion.button,{className:"relative p-2 text-gray-700 hover:text-blue-600 focus:outline-none focus:ring-2 focus:ring-blue-500 rounded-full",onClick:e,whileHover:{scale:1.1},whileTap:{scale:.95},"aria-label":`View cart with ${s} items`,children:[jsxRuntimeExports.jsx(ShoppingBag,{size:24}),jsxRuntimeExports.jsx(AnimatePresence,{children:s>0&&jsxRuntimeExports.jsx(motion.span,{initial:{scale:0},animate:{scale:1},exit:{scale:0},className:"absolute -top-1 -right-1 bg-blue-600 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:s})})]})},MOCK_API_BASE_URL="https://mpebb4a821df73b62188.free.beeceptor.com",calculateStaticFees=e=>{const{subtotal:s}=e,i=.13,a=.08,o=.05,c=s*a,h=s*o,d=c+h,g=2.99,b=1.5,_=1.99,$=g+b+_,j=1.49,st=s<15?2.99:0,tt=s+d+$+j+st;return{success:!0,data:{subtotal:s,tax:{amount:d,rate:i*100,breakdown:{stateTax:c,localTax:h}},deliveryFee:{amount:$,baseFee:g,distanceFee:b,serviceFee:_},fees:{platformFee:j,...st>0&&{smallOrderFee:st}},total:tt,estimatedDeliveryTime:"25-35 min"}}},calculateCartTotals=async e=>{try{console.log(" Calculating cart totals via API...",e);const s=await axiosInstance.post(`${MOCK_API_BASE_URL}/api/cart/calculate`,e);if(s.data.success)return console.log(" Cart calculation successful from API"),s.data;throw new Error("API returned unsuccessful response")}catch(s){return console.warn(" Cart calculation API failed, using static calculation:",s),calculateStaticFees(e)}},sendCheckoutOTP=async e=>{try{return(await axiosInstance.post("/customer/send-checkout-otp/",{phone:e})).data}catch(s){throw console.error("Error sending OTP:",s),s}},verifyCheckoutOTP=async(e,s)=>{try{return(await axiosInstance.post("/customer/verify-checkout-otp/",{phone:e,otp:s})).data}catch(i){throw console.error("Error verifying OTP:",i),i}},useCartCalculation=({subtotal:e,deliveryAddress:s,restaurantId:i,addressId:a,autoCalculate:o=!0})=>{var at,_e,rt,et,it,ot,ut,ht,dt;const[c,h]=reactExports.useState(null),[d,g]=reactExports.useState(!1),[b,_]=reactExports.useState(null),$=async mt=>{const xt=mt??e;if(xt<=0){h(null);return}try{g(!0),_(null);const vt=await calculateCartTotals({subtotal:xt,deliveryAddress:s,restaurantId:i,addressId:a});h(vt)}catch(St){_("Failed to calculate cart totals"),console.error("Cart calculation error:",St)}finally{g(!1)}};reactExports.useEffect(()=>{o&&e>0&&$()},[e,s,i,a,o]);const j=()=>{$()},st=()=>{if(!(c!=null&&c.data))return null;const{data:mt}=c;return{subtotal:{label:"Subtotal",amount:mt.subtotal,formatted:`$${mt.subtotal.toFixed(2)}`},tax:{label:`Tax (${mt.tax.rate.toFixed(1)}%)`,amount:mt.tax.amount,formatted:`$${mt.tax.amount.toFixed(2)}`,breakdown:[{label:"State Tax",amount:mt.tax.breakdown.stateTax,formatted:`$${mt.tax.breakdown.stateTax.toFixed(2)}`},{label:"Local Tax",amount:mt.tax.breakdown.localTax,formatted:`$${mt.tax.breakdown.localTax.toFixed(2)}`}]},deliveryFee:{label:"Delivery Fee",amount:mt.deliveryFee.amount,formatted:`$${mt.deliveryFee.amount.toFixed(2)}`,breakdown:[{label:"Base Fee",amount:mt.deliveryFee.baseFee,formatted:`$${mt.deliveryFee.baseFee.toFixed(2)}`},{label:"Distance Fee",amount:mt.deliveryFee.distanceFee,formatted:`$${mt.deliveryFee.distanceFee.toFixed(2)}`},{label:"Service Fee",amount:mt.deliveryFee.serviceFee,formatted:`$${mt.deliveryFee.serviceFee.toFixed(2)}`}]},fees:{label:"Fees & Charges",amount:mt.fees.platformFee+(mt.fees.smallOrderFee||0),formatted:`$${(mt.fees.platformFee+(mt.fees.smallOrderFee||0)).toFixed(2)}`,breakdown:[{label:"Platform Fee",amount:mt.fees.platformFee,formatted:`$${mt.fees.platformFee.toFixed(2)}`},...mt.fees.smallOrderFee?[{label:"Small Order Fee",amount:mt.fees.smallOrderFee,formatted:`$${mt.fees.smallOrderFee.toFixed(2)}`}]:[]]},total:{label:"Total",amount:mt.total,formatted:`$${mt.total.toFixed(2)}`},estimatedDeliveryTime:mt.estimatedDeliveryTime}},tt=((_e=(at=c==null?void 0:c.data)==null?void 0:at.fees)==null?void 0:_e.smallOrderFee)&&c.data.fees.smallOrderFee>0;return{calculation:c,loading:d,error:b,recalculate:j,calculateTotals:$,formattedBreakdown:st(),hasSmallOrderFee:tt,smallOrderThreshold:15,subtotal:((rt=c==null?void 0:c.data)==null?void 0:rt.subtotal)||0,tax:((it=(et=c==null?void 0:c.data)==null?void 0:et.tax)==null?void 0:it.amount)||0,deliveryFee:((ut=(ot=c==null?void 0:c.data)==null?void 0:ot.deliveryFee)==null?void 0:ut.amount)||0,total:((ht=c==null?void 0:c.data)==null?void 0:ht.total)||0,estimatedDeliveryTime:((dt=c==null?void 0:c.data)==null?void 0:dt.estimatedDeliveryTime)||"25-35 min"}},scriptRel="modulepreload",assetsURL=function(e){return"/"+e},seen={},__vitePreload=function e(s,i,a){let o=Promise.resolve();if(i&&i.length>0){document.getElementsByTagName("link");const h=document.querySelector("meta[property=csp-nonce]"),d=(h==null?void 0:h.nonce)||(h==null?void 0:h.getAttribute("nonce"));o=Promise.allSettled(i.map(g=>{if(g=assetsURL(g),g in seen)return;seen[g]=!0;const b=g.endsWith(".css"),_=b?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${g}"]${_}`))return;const $=document.createElement("link");if($.rel=b?"stylesheet":scriptRel,b||($.as="script"),$.crossOrigin="",$.href=g,d&&$.setAttribute("nonce",d),document.head.appendChild($),b)return new Promise((j,st)=>{$.addEventListener("load",j),$.addEventListener("error",()=>st(new Error(`Unable to preload CSS for ${g}`)))})}))}function c(h){const d=new Event("vite:preloadError",{cancelable:!0});if(d.payload=h,window.dispatchEvent(d),!d.defaultPrevented)throw h}return o.then(h=>{for(const d of h||[])d.status==="rejected"&&c(d.reason);return s().catch(c)})},resolveFetch$3=e=>{let s;return e?s=e:typeof fetch>"u"?s=(...i)=>__vitePreload(async()=>{const{default:a}=await Promise.resolve().then(()=>browser);return{default:a}},void 0).then(({default:a})=>a(...i)):s=fetch,(...i)=>s(...i)};class FunctionsError extends Error{constructor(s,i="FunctionsError",a){super(s),this.name=i,this.context=a}}class FunctionsFetchError extends FunctionsError{constructor(s){super("Failed to send a request to the Edge Function","FunctionsFetchError",s)}}class FunctionsRelayError extends FunctionsError{constructor(s){super("Relay Error invoking the Edge Function","FunctionsRelayError",s)}}class FunctionsHttpError extends FunctionsError{constructor(s){super("Edge Function returned a non-2xx status code","FunctionsHttpError",s)}}var FunctionRegion;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(FunctionRegion||(FunctionRegion={}));var __awaiter$7=function(e,s,i,a){function o(c){return c instanceof i?c:new i(function(h){h(c)})}return new(i||(i=Promise))(function(c,h){function d(_){try{b(a.next(_))}catch($){h($)}}function g(_){try{b(a.throw(_))}catch($){h($)}}function b(_){_.done?c(_.value):o(_.value).then(d,g)}b((a=a.apply(e,s||[])).next())})};class FunctionsClient{constructor(s,{headers:i={},customFetch:a,region:o=FunctionRegion.Any}={}){this.url=s,this.headers=i,this.region=o,this.fetch=resolveFetch$3(a)}setAuth(s){this.headers.Authorization=`Bearer ${s}`}invoke(s,i={}){var a;return __awaiter$7(this,void 0,void 0,function*(){try{const{headers:o,method:c,body:h}=i;let d={},{region:g}=i;g||(g=this.region),g&&g!=="any"&&(d["x-region"]=g);let b;h&&(o&&!Object.prototype.hasOwnProperty.call(o,"Content-Type")||!o)&&(typeof Blob<"u"&&h instanceof Blob||h instanceof ArrayBuffer?(d["Content-Type"]="application/octet-stream",b=h):typeof h=="string"?(d["Content-Type"]="text/plain",b=h):typeof FormData<"u"&&h instanceof FormData?b=h:(d["Content-Type"]="application/json",b=JSON.stringify(h)));const _=yield this.fetch(`${this.url}/${s}`,{method:c||"POST",headers:Object.assign(Object.assign(Object.assign({},d),this.headers),o),body:b}).catch(tt=>{throw new FunctionsFetchError(tt)}),$=_.headers.get("x-relay-error");if($&&$==="true")throw new FunctionsRelayError(_);if(!_.ok)throw new FunctionsHttpError(_);let j=((a=_.headers.get("Content-Type"))!==null&&a!==void 0?a:"text/plain").split(";")[0].trim(),st;return j==="application/json"?st=yield _.json():j==="application/octet-stream"?st=yield _.blob():j==="text/event-stream"?st=_:j==="multipart/form-data"?st=yield _.formData():st=yield _.text(),{data:st,error:null}}catch(o){return{data:null,error:o}}})}}var cjs={},PostgrestClient$2={},PostgrestQueryBuilder$2={},PostgrestFilterBuilder$2={},PostgrestTransformBuilder$2={},PostgrestBuilder$2={},getGlobal=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},globalObject=getGlobal();const fetch$1=globalObject.fetch,nodeFetch=globalObject.fetch.bind(globalObject),Headers$1=globalObject.Headers,Request$1=globalObject.Request,Response$1=globalObject.Response,browser=Object.freeze(Object.defineProperty({__proto__:null,Headers:Headers$1,Request:Request$1,Response:Response$1,default:nodeFetch,fetch:fetch$1},Symbol.toStringTag,{value:"Module"})),require$$0=getAugmentedNamespace(browser);var PostgrestError$2={};Object.defineProperty(PostgrestError$2,"__esModule",{value:!0});let PostgrestError$1=class extends Error{constructor(s){super(s.message),this.name="PostgrestError",this.details=s.details,this.hint=s.hint,this.code=s.code}};PostgrestError$2.default=PostgrestError$1;var __importDefault$5=commonjsGlobal&&commonjsGlobal.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(PostgrestBuilder$2,"__esModule",{value:!0});const node_fetch_1=__importDefault$5(require$$0),PostgrestError_1$1=__importDefault$5(PostgrestError$2);let PostgrestBuilder$1=class{constructor(s){this.shouldThrowOnError=!1,this.method=s.method,this.url=s.url,this.headers=s.headers,this.schema=s.schema,this.body=s.body,this.shouldThrowOnError=s.shouldThrowOnError,this.signal=s.signal,this.isMaybeSingle=s.isMaybeSingle,s.fetch?this.fetch=s.fetch:typeof fetch>"u"?this.fetch=node_fetch_1.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(s,i){return this.headers=Object.assign({},this.headers),this.headers[s]=i,this}then(s,i){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const a=this.fetch;let o=a(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async c=>{var h,d,g;let b=null,_=null,$=null,j=c.status,st=c.statusText;if(c.ok){if(this.method!=="HEAD"){const _e=await c.text();_e===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?_=_e:_=JSON.parse(_e))}const nt=(h=this.headers.Prefer)===null||h===void 0?void 0:h.match(/count=(exact|planned|estimated)/),at=(d=c.headers.get("content-range"))===null||d===void 0?void 0:d.split("/");nt&&at&&at.length>1&&($=parseInt(at[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(_)&&(_.length>1?(b={code:"PGRST116",details:`Results contain ${_.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},_=null,$=null,j=406,st="Not Acceptable"):_.length===1?_=_[0]:_=null)}else{const nt=await c.text();try{b=JSON.parse(nt),Array.isArray(b)&&c.status===404&&(_=[],b=null,j=200,st="OK")}catch{c.status===404&&nt===""?(j=204,st="No Content"):b={message:nt}}if(b&&this.isMaybeSingle&&(!((g=b==null?void 0:b.details)===null||g===void 0)&&g.includes("0 rows"))&&(b=null,j=200,st="OK"),b&&this.shouldThrowOnError)throw new PostgrestError_1$1.default(b)}return{error:b,data:_,count:$,status:j,statusText:st}});return this.shouldThrowOnError||(o=o.catch(c=>{var h,d,g;return{error:{message:`${(h=c==null?void 0:c.name)!==null&&h!==void 0?h:"FetchError"}: ${c==null?void 0:c.message}`,details:`${(d=c==null?void 0:c.stack)!==null&&d!==void 0?d:""}`,hint:"",code:`${(g=c==null?void 0:c.code)!==null&&g!==void 0?g:""}`},data:null,count:null,status:0,statusText:""}})),o.then(s,i)}returns(){return this}overrideTypes(){return this}};PostgrestBuilder$2.default=PostgrestBuilder$1;var __importDefault$4=commonjsGlobal&&commonjsGlobal.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(PostgrestTransformBuilder$2,"__esModule",{value:!0});const PostgrestBuilder_1$1=__importDefault$4(PostgrestBuilder$2);let PostgrestTransformBuilder$1=class extends PostgrestBuilder_1$1.default{select(s){let i=!1;const a=(s??"*").split("").map(o=>/\s/.test(o)&&!i?"":(o==='"'&&(i=!i),o)).join("");return this.url.searchParams.set("select",a),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(s,{ascending:i=!0,nullsFirst:a,foreignTable:o,referencedTable:c=o}={}){const h=c?`${c}.order`:"order",d=this.url.searchParams.get(h);return this.url.searchParams.set(h,`${d?`${d},`:""}${s}.${i?"asc":"desc"}${a===void 0?"":a?".nullsfirst":".nullslast"}`),this}limit(s,{foreignTable:i,referencedTable:a=i}={}){const o=typeof a>"u"?"limit":`${a}.limit`;return this.url.searchParams.set(o,`${s}`),this}range(s,i,{foreignTable:a,referencedTable:o=a}={}){const c=typeof o>"u"?"offset":`${o}.offset`,h=typeof o>"u"?"limit":`${o}.limit`;return this.url.searchParams.set(c,`${s}`),this.url.searchParams.set(h,`${i-s+1}`),this}abortSignal(s){return this.signal=s,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:s=!1,verbose:i=!1,settings:a=!1,buffers:o=!1,wal:c=!1,format:h="text"}={}){var d;const g=[s?"analyze":null,i?"verbose":null,a?"settings":null,o?"buffers":null,c?"wal":null].filter(Boolean).join("|"),b=(d=this.headers.Accept)!==null&&d!==void 0?d:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${h}; for="${b}"; options=${g};`,h==="json"?this:this}rollback(){var s;return((s=this.headers.Prefer)!==null&&s!==void 0?s:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}};PostgrestTransformBuilder$2.default=PostgrestTransformBuilder$1;var __importDefault$3=commonjsGlobal&&commonjsGlobal.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(PostgrestFilterBuilder$2,"__esModule",{value:!0});const PostgrestTransformBuilder_1$1=__importDefault$3(PostgrestTransformBuilder$2);let PostgrestFilterBuilder$1=class extends PostgrestTransformBuilder_1$1.default{eq(s,i){return this.url.searchParams.append(s,`eq.${i}`),this}neq(s,i){return this.url.searchParams.append(s,`neq.${i}`),this}gt(s,i){return this.url.searchParams.append(s,`gt.${i}`),this}gte(s,i){return this.url.searchParams.append(s,`gte.${i}`),this}lt(s,i){return this.url.searchParams.append(s,`lt.${i}`),this}lte(s,i){return this.url.searchParams.append(s,`lte.${i}`),this}like(s,i){return this.url.searchParams.append(s,`like.${i}`),this}likeAllOf(s,i){return this.url.searchParams.append(s,`like(all).{${i.join(",")}}`),this}likeAnyOf(s,i){return this.url.searchParams.append(s,`like(any).{${i.join(",")}}`),this}ilike(s,i){return this.url.searchParams.append(s,`ilike.${i}`),this}ilikeAllOf(s,i){return this.url.searchParams.append(s,`ilike(all).{${i.join(",")}}`),this}ilikeAnyOf(s,i){return this.url.searchParams.append(s,`ilike(any).{${i.join(",")}}`),this}is(s,i){return this.url.searchParams.append(s,`is.${i}`),this}in(s,i){const a=Array.from(new Set(i)).map(o=>typeof o=="string"&&new RegExp("[,()]").test(o)?`"${o}"`:`${o}`).join(",");return this.url.searchParams.append(s,`in.(${a})`),this}contains(s,i){return typeof i=="string"?this.url.searchParams.append(s,`cs.${i}`):Array.isArray(i)?this.url.searchParams.append(s,`cs.{${i.join(",")}}`):this.url.searchParams.append(s,`cs.${JSON.stringify(i)}`),this}containedBy(s,i){return typeof i=="string"?this.url.searchParams.append(s,`cd.${i}`):Array.isArray(i)?this.url.searchParams.append(s,`cd.{${i.join(",")}}`):this.url.searchParams.append(s,`cd.${JSON.stringify(i)}`),this}rangeGt(s,i){return this.url.searchParams.append(s,`sr.${i}`),this}rangeGte(s,i){return this.url.searchParams.append(s,`nxl.${i}`),this}rangeLt(s,i){return this.url.searchParams.append(s,`sl.${i}`),this}rangeLte(s,i){return this.url.searchParams.append(s,`nxr.${i}`),this}rangeAdjacent(s,i){return this.url.searchParams.append(s,`adj.${i}`),this}overlaps(s,i){return typeof i=="string"?this.url.searchParams.append(s,`ov.${i}`):this.url.searchParams.append(s,`ov.{${i.join(",")}}`),this}textSearch(s,i,{config:a,type:o}={}){let c="";o==="plain"?c="pl":o==="phrase"?c="ph":o==="websearch"&&(c="w");const h=a===void 0?"":`(${a})`;return this.url.searchParams.append(s,`${c}fts${h}.${i}`),this}match(s){return Object.entries(s).forEach(([i,a])=>{this.url.searchParams.append(i,`eq.${a}`)}),this}not(s,i,a){return this.url.searchParams.append(s,`not.${i}.${a}`),this}or(s,{foreignTable:i,referencedTable:a=i}={}){const o=a?`${a}.or`:"or";return this.url.searchParams.append(o,`(${s})`),this}filter(s,i,a){return this.url.searchParams.append(s,`${i}.${a}`),this}};PostgrestFilterBuilder$2.default=PostgrestFilterBuilder$1;var __importDefault$2=commonjsGlobal&&commonjsGlobal.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(PostgrestQueryBuilder$2,"__esModule",{value:!0});const PostgrestFilterBuilder_1$2=__importDefault$2(PostgrestFilterBuilder$2);let PostgrestQueryBuilder$1=class{constructor(s,{headers:i={},schema:a,fetch:o}){this.url=s,this.headers=i,this.schema=a,this.fetch=o}select(s,{head:i=!1,count:a}={}){const o=i?"HEAD":"GET";let c=!1;const h=(s??"*").split("").map(d=>/\s/.test(d)&&!c?"":(d==='"'&&(c=!c),d)).join("");return this.url.searchParams.set("select",h),a&&(this.headers.Prefer=`count=${a}`),new PostgrestFilterBuilder_1$2.default({method:o,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(s,{count:i,defaultToNull:a=!0}={}){const o="POST",c=[];if(this.headers.Prefer&&c.push(this.headers.Prefer),i&&c.push(`count=${i}`),a||c.push("missing=default"),this.headers.Prefer=c.join(","),Array.isArray(s)){const h=s.reduce((d,g)=>d.concat(Object.keys(g)),[]);if(h.length>0){const d=[...new Set(h)].map(g=>`"${g}"`);this.url.searchParams.set("columns",d.join(","))}}return new PostgrestFilterBuilder_1$2.default({method:o,url:this.url,headers:this.headers,schema:this.schema,body:s,fetch:this.fetch,allowEmpty:!1})}upsert(s,{onConflict:i,ignoreDuplicates:a=!1,count:o,defaultToNull:c=!0}={}){const h="POST",d=[`resolution=${a?"ignore":"merge"}-duplicates`];if(i!==void 0&&this.url.searchParams.set("on_conflict",i),this.headers.Prefer&&d.push(this.headers.Prefer),o&&d.push(`count=${o}`),c||d.push("missing=default"),this.headers.Prefer=d.join(","),Array.isArray(s)){const g=s.reduce((b,_)=>b.concat(Object.keys(_)),[]);if(g.length>0){const b=[...new Set(g)].map(_=>`"${_}"`);this.url.searchParams.set("columns",b.join(","))}}return new PostgrestFilterBuilder_1$2.default({method:h,url:this.url,headers:this.headers,schema:this.schema,body:s,fetch:this.fetch,allowEmpty:!1})}update(s,{count:i}={}){const a="PATCH",o=[];return this.headers.Prefer&&o.push(this.headers.Prefer),i&&o.push(`count=${i}`),this.headers.Prefer=o.join(","),new PostgrestFilterBuilder_1$2.default({method:a,url:this.url,headers:this.headers,schema:this.schema,body:s,fetch:this.fetch,allowEmpty:!1})}delete({count:s}={}){const i="DELETE",a=[];return s&&a.push(`count=${s}`),this.headers.Prefer&&a.unshift(this.headers.Prefer),this.headers.Prefer=a.join(","),new PostgrestFilterBuilder_1$2.default({method:i,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}};PostgrestQueryBuilder$2.default=PostgrestQueryBuilder$1;var constants={},version$4={};Object.defineProperty(version$4,"__esModule",{value:!0});version$4.version=void 0;version$4.version="0.0.0-automated";Object.defineProperty(constants,"__esModule",{value:!0});constants.DEFAULT_HEADERS=void 0;const version_1=version$4;constants.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${version_1.version}`};var __importDefault$1=commonjsGlobal&&commonjsGlobal.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(PostgrestClient$2,"__esModule",{value:!0});const PostgrestQueryBuilder_1$1=__importDefault$1(PostgrestQueryBuilder$2),PostgrestFilterBuilder_1$1=__importDefault$1(PostgrestFilterBuilder$2),constants_1=constants;let PostgrestClient$1=class Zt{constructor(s,{headers:i={},schema:a,fetch:o}={}){this.url=s,this.headers=Object.assign(Object.assign({},constants_1.DEFAULT_HEADERS),i),this.schemaName=a,this.fetch=o}from(s){const i=new URL(`${this.url}/${s}`);return new PostgrestQueryBuilder_1$1.default(i,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(s){return new Zt(this.url,{headers:this.headers,schema:s,fetch:this.fetch})}rpc(s,i={},{head:a=!1,get:o=!1,count:c}={}){let h;const d=new URL(`${this.url}/rpc/${s}`);let g;a||o?(h=a?"HEAD":"GET",Object.entries(i).filter(([_,$])=>$!==void 0).map(([_,$])=>[_,Array.isArray($)?`{${$.join(",")}}`:`${$}`]).forEach(([_,$])=>{d.searchParams.append(_,$)})):(h="POST",g=i);const b=Object.assign({},this.headers);return c&&(b.Prefer=`count=${c}`),new PostgrestFilterBuilder_1$1.default({method:h,url:d,headers:b,schema:this.schemaName,body:g,fetch:this.fetch,allowEmpty:!1})}};PostgrestClient$2.default=PostgrestClient$1;var __importDefault=commonjsGlobal&&commonjsGlobal.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(cjs,"__esModule",{value:!0});cjs.PostgrestError=cjs.PostgrestBuilder=cjs.PostgrestTransformBuilder=cjs.PostgrestFilterBuilder=cjs.PostgrestQueryBuilder=cjs.PostgrestClient=void 0;const PostgrestClient_1=__importDefault(PostgrestClient$2);cjs.PostgrestClient=PostgrestClient_1.default;const PostgrestQueryBuilder_1=__importDefault(PostgrestQueryBuilder$2);cjs.PostgrestQueryBuilder=PostgrestQueryBuilder_1.default;const PostgrestFilterBuilder_1=__importDefault(PostgrestFilterBuilder$2);cjs.PostgrestFilterBuilder=PostgrestFilterBuilder_1.default;const PostgrestTransformBuilder_1=__importDefault(PostgrestTransformBuilder$2);cjs.PostgrestTransformBuilder=PostgrestTransformBuilder_1.default;const PostgrestBuilder_1=__importDefault(PostgrestBuilder$2);cjs.PostgrestBuilder=PostgrestBuilder_1.default;const PostgrestError_1=__importDefault(PostgrestError$2);cjs.PostgrestError=PostgrestError_1.default;var _default=cjs.default={PostgrestClient:PostgrestClient_1.default,PostgrestQueryBuilder:PostgrestQueryBuilder_1.default,PostgrestFilterBuilder:PostgrestFilterBuilder_1.default,PostgrestTransformBuilder:PostgrestTransformBuilder_1.default,PostgrestBuilder:PostgrestBuilder_1.default,PostgrestError:PostgrestError_1.default};const{PostgrestClient,PostgrestQueryBuilder,PostgrestFilterBuilder,PostgrestTransformBuilder,PostgrestBuilder,PostgrestError}=_default;function getNativeWebSocket(){if(typeof WebSocket<"u")return WebSocket;if(typeof global.WebSocket<"u")return global.WebSocket;if(typeof window.WebSocket<"u")return window.WebSocket;if(typeof self.WebSocket<"u")return self.WebSocket;throw new Error("`WebSocket` is not supported in this environment")}const WebSocket$1=getNativeWebSocket(),version$3="2.11.13",DEFAULT_HEADERS$3={"X-Client-Info":`realtime-js/${version$3}`},VSN="1.0.0",DEFAULT_TIMEOUT=1e4,WS_CLOSE_NORMAL=1e3;var SOCKET_STATES;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(SOCKET_STATES||(SOCKET_STATES={}));var CHANNEL_STATES;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(CHANNEL_STATES||(CHANNEL_STATES={}));var CHANNEL_EVENTS;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(CHANNEL_EVENTS||(CHANNEL_EVENTS={}));var TRANSPORTS;(function(e){e.websocket="websocket"})(TRANSPORTS||(TRANSPORTS={}));var CONNECTION_STATE;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(CONNECTION_STATE||(CONNECTION_STATE={}));class Serializer{constructor(){this.HEADER_LENGTH=1}decode(s,i){return s.constructor===ArrayBuffer?i(this._binaryDecode(s)):i(typeof s=="string"?JSON.parse(s):{})}_binaryDecode(s){const i=new DataView(s),a=new TextDecoder;return this._decodeBroadcast(s,i,a)}_decodeBroadcast(s,i,a){const o=i.getUint8(1),c=i.getUint8(2);let h=this.HEADER_LENGTH+2;const d=a.decode(s.slice(h,h+o));h=h+o;const g=a.decode(s.slice(h,h+c));h=h+c;const b=JSON.parse(a.decode(s.slice(h,s.byteLength)));return{ref:null,topic:d,event:g,payload:b}}}class Timer{constructor(s,i){this.callback=s,this.timerCalc=i,this.timer=void 0,this.tries=0,this.callback=s,this.timerCalc=i}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var PostgresTypes;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(PostgresTypes||(PostgresTypes={}));const convertChangeData=(e,s,i={})=>{var a;const o=(a=i.skipTypes)!==null&&a!==void 0?a:[];return Object.keys(s).reduce((c,h)=>(c[h]=convertColumn(h,e,s,o),c),{})},convertColumn=(e,s,i,a)=>{const o=s.find(d=>d.name===e),c=o==null?void 0:o.type,h=i[e];return c&&!a.includes(c)?convertCell(c,h):noop$1(h)},convertCell=(e,s)=>{if(e.charAt(0)==="_"){const i=e.slice(1,e.length);return toArray(s,i)}switch(e){case PostgresTypes.bool:return toBoolean(s);case PostgresTypes.float4:case PostgresTypes.float8:case PostgresTypes.int2:case PostgresTypes.int4:case PostgresTypes.int8:case PostgresTypes.numeric:case PostgresTypes.oid:return toNumber(s);case PostgresTypes.json:case PostgresTypes.jsonb:return toJson(s);case PostgresTypes.timestamp:return toTimestampString(s);case PostgresTypes.abstime:case PostgresTypes.date:case PostgresTypes.daterange:case PostgresTypes.int4range:case PostgresTypes.int8range:case PostgresTypes.money:case PostgresTypes.reltime:case PostgresTypes.text:case PostgresTypes.time:case PostgresTypes.timestamptz:case PostgresTypes.timetz:case PostgresTypes.tsrange:case PostgresTypes.tstzrange:return noop$1(s);default:return noop$1(s)}},noop$1=e=>e,toBoolean=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},toNumber=e=>{if(typeof e=="string"){const s=parseFloat(e);if(!Number.isNaN(s))return s}return e},toJson=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(s){return console.log(`JSON parse error: ${s}`),e}return e},toArray=(e,s)=>{if(typeof e!="string")return e;const i=e.length-1,a=e[i];if(e[0]==="{"&&a==="}"){let c;const h=e.slice(1,i);try{c=JSON.parse("["+h+"]")}catch{c=h?h.split(","):[]}return c.map(d=>convertCell(s,d))}return e},toTimestampString=e=>typeof e=="string"?e.replace(" ","T"):e,httpEndpointURL=e=>{let s=e;return s=s.replace(/^ws/i,"http"),s=s.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),s.replace(/\/+$/,"")};class Push{constructor(s,i,a={},o=DEFAULT_TIMEOUT){this.channel=s,this.event=i,this.payload=a,this.timeout=o,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(s){this.timeout=s,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(s){this.payload=Object.assign(Object.assign({},this.payload),s)}receive(s,i){var a;return this._hasReceived(s)&&i((a=this.receivedResp)===null||a===void 0?void 0:a.response),this.recHooks.push({status:s,callback:i}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const s=i=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=i,this._matchReceive(i)};this.channel._on(this.refEvent,{},s),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(s,i){this.refEvent&&this.channel._trigger(this.refEvent,{status:s,response:i})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:s,response:i}){this.recHooks.filter(a=>a.status===s).forEach(a=>a.callback(i))}_hasReceived(s){return this.receivedResp&&this.receivedResp.status===s}}var REALTIME_PRESENCE_LISTEN_EVENTS;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(REALTIME_PRESENCE_LISTEN_EVENTS||(REALTIME_PRESENCE_LISTEN_EVENTS={}));class RealtimePresence{constructor(s,i){this.channel=s,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const a=(i==null?void 0:i.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(a.state,{},o=>{const{onJoin:c,onLeave:h,onSync:d}=this.caller;this.joinRef=this.channel._joinRef(),this.state=RealtimePresence.syncState(this.state,o,c,h),this.pendingDiffs.forEach(g=>{this.state=RealtimePresence.syncDiff(this.state,g,c,h)}),this.pendingDiffs=[],d()}),this.channel._on(a.diff,{},o=>{const{onJoin:c,onLeave:h,onSync:d}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(o):(this.state=RealtimePresence.syncDiff(this.state,o,c,h),d())}),this.onJoin((o,c,h)=>{this.channel._trigger("presence",{event:"join",key:o,currentPresences:c,newPresences:h})}),this.onLeave((o,c,h)=>{this.channel._trigger("presence",{event:"leave",key:o,currentPresences:c,leftPresences:h})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(s,i,a,o){const c=this.cloneDeep(s),h=this.transformState(i),d={},g={};return this.map(c,(b,_)=>{h[b]||(g[b]=_)}),this.map(h,(b,_)=>{const $=c[b];if($){const j=_.map(at=>at.presence_ref),st=$.map(at=>at.presence_ref),tt=_.filter(at=>st.indexOf(at.presence_ref)<0),nt=$.filter(at=>j.indexOf(at.presence_ref)<0);tt.length>0&&(d[b]=tt),nt.length>0&&(g[b]=nt)}else d[b]=_}),this.syncDiff(c,{joins:d,leaves:g},a,o)}static syncDiff(s,i,a,o){const{joins:c,leaves:h}={joins:this.transformState(i.joins),leaves:this.transformState(i.leaves)};return a||(a=()=>{}),o||(o=()=>{}),this.map(c,(d,g)=>{var b;const _=(b=s[d])!==null&&b!==void 0?b:[];if(s[d]=this.cloneDeep(g),_.length>0){const $=s[d].map(st=>st.presence_ref),j=_.filter(st=>$.indexOf(st.presence_ref)<0);s[d].unshift(...j)}a(d,_,g)}),this.map(h,(d,g)=>{let b=s[d];if(!b)return;const _=g.map($=>$.presence_ref);b=b.filter($=>_.indexOf($.presence_ref)<0),s[d]=b,o(d,b,g),b.length===0&&delete s[d]}),s}static map(s,i){return Object.getOwnPropertyNames(s).map(a=>i(a,s[a]))}static transformState(s){return s=this.cloneDeep(s),Object.getOwnPropertyNames(s).reduce((i,a)=>{const o=s[a];return"metas"in o?i[a]=o.metas.map(c=>(c.presence_ref=c.phx_ref,delete c.phx_ref,delete c.phx_ref_prev,c)):i[a]=o,i},{})}static cloneDeep(s){return JSON.parse(JSON.stringify(s))}onJoin(s){this.caller.onJoin=s}onLeave(s){this.caller.onLeave=s}onSync(s){this.caller.onSync=s}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var REALTIME_POSTGRES_CHANGES_LISTEN_EVENT;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(REALTIME_POSTGRES_CHANGES_LISTEN_EVENT||(REALTIME_POSTGRES_CHANGES_LISTEN_EVENT={}));var REALTIME_LISTEN_TYPES;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(REALTIME_LISTEN_TYPES||(REALTIME_LISTEN_TYPES={}));var REALTIME_SUBSCRIBE_STATES;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(REALTIME_SUBSCRIBE_STATES||(REALTIME_SUBSCRIBE_STATES={}));class RealtimeChannel{constructor(s,i={config:{}},a){this.topic=s,this.params=i,this.socket=a,this.bindings={},this.state=CHANNEL_STATES.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=s.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},i.config),this.timeout=this.socket.timeout,this.joinPush=new Push(this,CHANNEL_EVENTS.join,this.params,this.timeout),this.rejoinTimer=new Timer(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=CHANNEL_STATES.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(o=>o.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=CHANNEL_STATES.closed,this.socket._remove(this)}),this._onError(o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=CHANNEL_STATES.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=CHANNEL_STATES.errored,this.rejoinTimer.scheduleTimeout())}),this._on(CHANNEL_EVENTS.reply,{},(o,c)=>{this._trigger(this._replyEventName(c),o)}),this.presence=new RealtimePresence(this),this.broadcastEndpointURL=httpEndpointURL(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(s,i=this.timeout){var a,o;if(this.socket.isConnected()||this.socket.connect(),this.state==CHANNEL_STATES.closed){const{config:{broadcast:c,presence:h,private:d}}=this.params;this._onError(_=>s==null?void 0:s(REALTIME_SUBSCRIBE_STATES.CHANNEL_ERROR,_)),this._onClose(()=>s==null?void 0:s(REALTIME_SUBSCRIBE_STATES.CLOSED));const g={},b={broadcast:c,presence:h,postgres_changes:(o=(a=this.bindings.postgres_changes)===null||a===void 0?void 0:a.map(_=>_.filter))!==null&&o!==void 0?o:[],private:d};this.socket.accessTokenValue&&(g.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:b},g)),this.joinedOnce=!0,this._rejoin(i),this.joinPush.receive("ok",async({postgres_changes:_})=>{var $;if(this.socket.setAuth(),_===void 0){s==null||s(REALTIME_SUBSCRIBE_STATES.SUBSCRIBED);return}else{const j=this.bindings.postgres_changes,st=($=j==null?void 0:j.length)!==null&&$!==void 0?$:0,tt=[];for(let nt=0;nt<st;nt++){const at=j[nt],{filter:{event:_e,schema:rt,table:et,filter:it}}=at,ot=_&&_[nt];if(ot&&ot.event===_e&&ot.schema===rt&&ot.table===et&&ot.filter===it)tt.push(Object.assign(Object.assign({},at),{id:ot.id}));else{this.unsubscribe(),this.state=CHANNEL_STATES.errored,s==null||s(REALTIME_SUBSCRIBE_STATES.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=tt,s&&s(REALTIME_SUBSCRIBE_STATES.SUBSCRIBED);return}}).receive("error",_=>{this.state=CHANNEL_STATES.errored,s==null||s(REALTIME_SUBSCRIBE_STATES.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(_).join(", ")||"error")))}).receive("timeout",()=>{s==null||s(REALTIME_SUBSCRIBE_STATES.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(s,i={}){return await this.send({type:"presence",event:"track",payload:s},i.timeout||this.timeout)}async untrack(s={}){return await this.send({type:"presence",event:"untrack"},s)}on(s,i,a){return this._on(s,i,a)}async send(s,i={}){var a,o;if(!this._canPush()&&s.type==="broadcast"){const{event:c,payload:h}=s,g={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:c,payload:h,private:this.private}]})};try{const b=await this._fetchWithTimeout(this.broadcastEndpointURL,g,(a=i.timeout)!==null&&a!==void 0?a:this.timeout);return await((o=b.body)===null||o===void 0?void 0:o.cancel()),b.ok?"ok":"error"}catch(b){return b.name==="AbortError"?"timed out":"error"}}else return new Promise(c=>{var h,d,g;const b=this._push(s.type,s,i.timeout||this.timeout);s.type==="broadcast"&&!(!((g=(d=(h=this.params)===null||h===void 0?void 0:h.config)===null||d===void 0?void 0:d.broadcast)===null||g===void 0)&&g.ack)&&c("ok"),b.receive("ok",()=>c("ok")),b.receive("error",()=>c("error")),b.receive("timeout",()=>c("timed out"))})}updateJoinPayload(s){this.joinPush.updatePayload(s)}unsubscribe(s=this.timeout){this.state=CHANNEL_STATES.leaving;const i=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(CHANNEL_EVENTS.close,"leave",this._joinRef())};this.joinPush.destroy();let a=null;return new Promise(o=>{a=new Push(this,CHANNEL_EVENTS.leave,{},s),a.receive("ok",()=>{i(),o("ok")}).receive("timeout",()=>{i(),o("timed out")}).receive("error",()=>{o("error")}),a.send(),this._canPush()||a.trigger("ok",{})}).finally(()=>{a==null||a.destroy()})}teardown(){this.pushBuffer.forEach(s=>s.destroy()),this.rejoinTimer&&clearTimeout(this.rejoinTimer.timer),this.joinPush.destroy()}async _fetchWithTimeout(s,i,a){const o=new AbortController,c=setTimeout(()=>o.abort(),a),h=await this.socket.fetch(s,Object.assign(Object.assign({},i),{signal:o.signal}));return clearTimeout(c),h}_push(s,i,a=this.timeout){if(!this.joinedOnce)throw`tried to push '${s}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let o=new Push(this,s,i,a);return this._canPush()?o.send():(o.startTimeout(),this.pushBuffer.push(o)),o}_onMessage(s,i,a){return i}_isMember(s){return this.topic===s}_joinRef(){return this.joinPush.ref}_trigger(s,i,a){var o,c;const h=s.toLocaleLowerCase(),{close:d,error:g,leave:b,join:_}=CHANNEL_EVENTS;if(a&&[d,g,b,_].indexOf(h)>=0&&a!==this._joinRef())return;let j=this._onMessage(h,i,a);if(i&&!j)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(h)?(o=this.bindings.postgres_changes)===null||o===void 0||o.filter(st=>{var tt,nt,at;return((tt=st.filter)===null||tt===void 0?void 0:tt.event)==="*"||((at=(nt=st.filter)===null||nt===void 0?void 0:nt.event)===null||at===void 0?void 0:at.toLocaleLowerCase())===h}).map(st=>st.callback(j,a)):(c=this.bindings[h])===null||c===void 0||c.filter(st=>{var tt,nt,at,_e,rt,et;if(["broadcast","presence","postgres_changes"].includes(h))if("id"in st){const it=st.id,ot=(tt=st.filter)===null||tt===void 0?void 0:tt.event;return it&&((nt=i.ids)===null||nt===void 0?void 0:nt.includes(it))&&(ot==="*"||(ot==null?void 0:ot.toLocaleLowerCase())===((at=i.data)===null||at===void 0?void 0:at.type.toLocaleLowerCase()))}else{const it=(rt=(_e=st==null?void 0:st.filter)===null||_e===void 0?void 0:_e.event)===null||rt===void 0?void 0:rt.toLocaleLowerCase();return it==="*"||it===((et=i==null?void 0:i.event)===null||et===void 0?void 0:et.toLocaleLowerCase())}else return st.type.toLocaleLowerCase()===h}).map(st=>{if(typeof j=="object"&&"ids"in j){const tt=j.data,{schema:nt,table:at,commit_timestamp:_e,type:rt,errors:et}=tt;j=Object.assign(Object.assign({},{schema:nt,table:at,commit_timestamp:_e,eventType:rt,new:{},old:{},errors:et}),this._getPayloadRecords(tt))}st.callback(j,a)})}_isClosed(){return this.state===CHANNEL_STATES.closed}_isJoined(){return this.state===CHANNEL_STATES.joined}_isJoining(){return this.state===CHANNEL_STATES.joining}_isLeaving(){return this.state===CHANNEL_STATES.leaving}_replyEventName(s){return`chan_reply_${s}`}_on(s,i,a){const o=s.toLocaleLowerCase(),c={type:o,filter:i,callback:a};return this.bindings[o]?this.bindings[o].push(c):this.bindings[o]=[c],this}_off(s,i){const a=s.toLocaleLowerCase();return this.bindings[a]=this.bindings[a].filter(o=>{var c;return!(((c=o.type)===null||c===void 0?void 0:c.toLocaleLowerCase())===a&&RealtimeChannel.isEqual(o.filter,i))}),this}static isEqual(s,i){if(Object.keys(s).length!==Object.keys(i).length)return!1;for(const a in s)if(s[a]!==i[a])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(s){this._on(CHANNEL_EVENTS.close,{},s)}_onError(s){this._on(CHANNEL_EVENTS.error,{},i=>s(i))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(s=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=CHANNEL_STATES.joining,this.joinPush.resend(s))}_getPayloadRecords(s){const i={new:{},old:{}};return(s.type==="INSERT"||s.type==="UPDATE")&&(i.new=convertChangeData(s.columns,s.record)),(s.type==="UPDATE"||s.type==="DELETE")&&(i.old=convertChangeData(s.columns,s.old_record)),i}}const noop=()=>{},WORKER_SCRIPT=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class RealtimeClient{constructor(s,i){var a;this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers=DEFAULT_HEADERS$3,this.params={},this.timeout=DEFAULT_TIMEOUT,this.heartbeatIntervalMs=25e3,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=noop,this.ref=0,this.logger=noop,this.conn=null,this.sendBuffer=[],this.serializer=new Serializer,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=c=>{let h;return c?h=c:typeof fetch>"u"?h=(...d)=>__vitePreload(async()=>{const{default:g}=await Promise.resolve().then(()=>browser);return{default:g}},void 0).then(({default:g})=>g(...d)):h=fetch,(...d)=>h(...d)},this.endPoint=`${s}/${TRANSPORTS.websocket}`,this.httpEndpoint=httpEndpointURL(s),i!=null&&i.transport?this.transport=i.transport:this.transport=null,i!=null&&i.params&&(this.params=i.params),i!=null&&i.headers&&(this.headers=Object.assign(Object.assign({},this.headers),i.headers)),i!=null&&i.timeout&&(this.timeout=i.timeout),i!=null&&i.logger&&(this.logger=i.logger),(i!=null&&i.logLevel||i!=null&&i.log_level)&&(this.logLevel=i.logLevel||i.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),i!=null&&i.heartbeatIntervalMs&&(this.heartbeatIntervalMs=i.heartbeatIntervalMs);const o=(a=i==null?void 0:i.params)===null||a===void 0?void 0:a.apikey;if(o&&(this.accessTokenValue=o,this.apiKey=o),this.reconnectAfterMs=i!=null&&i.reconnectAfterMs?i.reconnectAfterMs:c=>[1e3,2e3,5e3,1e4][c-1]||1e4,this.encode=i!=null&&i.encode?i.encode:(c,h)=>h(JSON.stringify(c)),this.decode=i!=null&&i.decode?i.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new Timer(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(i==null?void 0:i.fetch),i!=null&&i.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(i==null?void 0:i.worker)||!1,this.workerUrl=i==null?void 0:i.workerUrl}this.accessToken=(i==null?void 0:i.accessToken)||null}connect(){this.conn||(this.transport||(this.transport=WebSocket$1),this.conn=new this.transport(this.endpointURL(),void 0,{headers:this.headers}),this.setupConnection())}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:VSN}))}disconnect(s,i){this.conn&&(this.conn.onclose=function(){},s?this.conn.close(s,i??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset(),this.channels.forEach(a=>a.teardown()))}getChannels(){return this.channels}async removeChannel(s){const i=await s.unsubscribe();return this.channels.length===0&&this.disconnect(),i}async removeAllChannels(){const s=await Promise.all(this.channels.map(i=>i.unsubscribe()));return this.channels=[],this.disconnect(),s}log(s,i,a){this.logger(s,i,a)}connectionState(){switch(this.conn&&this.conn.readyState){case SOCKET_STATES.connecting:return CONNECTION_STATE.Connecting;case SOCKET_STATES.open:return CONNECTION_STATE.Open;case SOCKET_STATES.closing:return CONNECTION_STATE.Closing;default:return CONNECTION_STATE.Closed}}isConnected(){return this.connectionState()===CONNECTION_STATE.Open}channel(s,i={config:{}}){const a=`realtime:${s}`,o=this.getChannels().find(c=>c.topic===a);if(o)return o;{const c=new RealtimeChannel(`realtime:${s}`,i,this);return this.channels.push(c),c}}push(s){const{topic:i,event:a,payload:o,ref:c}=s,h=()=>{this.encode(s,d=>{var g;(g=this.conn)===null||g===void 0||g.send(d)})};this.log("push",`${i} ${a} (${c})`,o),this.isConnected()?h():this.sendBuffer.push(h)}async setAuth(s=null){let i=s||this.accessToken&&await this.accessToken()||this.accessTokenValue;this.accessTokenValue!=i&&(this.accessTokenValue=i,this.channels.forEach(a=>{i&&a.updateJoinPayload({access_token:i,version:this.headers&&this.headers["X-Client-Info"]}),a.joinedOnce&&a._isJoined()&&a._push(CHANNEL_EVENTS.access_token,{access_token:i})}))}async sendHeartbeat(){var s;if(!this.isConnected()){this.heartbeatCallback("disconnected");return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),this.heartbeatCallback("timeout"),(s=this.conn)===null||s===void 0||s.close(WS_CLOSE_NORMAL,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.heartbeatCallback("sent"),await this.setAuth()}onHeartbeat(s){this.heartbeatCallback=s}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(s=>s()),this.sendBuffer=[])}_makeRef(){let s=this.ref+1;return s===this.ref?this.ref=0:this.ref=s,this.ref.toString()}_leaveOpenTopic(s){let i=this.channels.find(a=>a.topic===s&&(a._isJoined()||a._isJoining()));i&&(this.log("transport",`leaving duplicate topic "${s}"`),i.unsubscribe())}_remove(s){this.channels=this.channels.filter(i=>i.topic!==s.topic)}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=s=>this._onConnError(s),this.conn.onmessage=s=>this._onConnMessage(s),this.conn.onclose=s=>this._onConnClose(s))}_onConnMessage(s){this.decode(s.data,i=>{let{topic:a,event:o,payload:c,ref:h}=i;a==="phoenix"&&o==="phx_reply"&&this.heartbeatCallback(i.payload.status=="ok"?"ok":"error"),h&&h===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${c.status||""} ${a} ${o} ${h&&"("+h+")"||""}`,c),Array.from(this.channels).filter(d=>d._isMember(a)).forEach(d=>d._trigger(o,c,h)),this.stateChangeCallbacks.message.forEach(d=>d(i))})}_onConnOpen(){this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this.stateChangeCallbacks.open.forEach(s=>s())}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const s=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(s),this.workerRef.onerror=i=>{this.log("worker","worker error",i.message),this.workerRef.terminate()},this.workerRef.onmessage=i=>{i.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(s){this.log("transport","close",s),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(i=>i(s))}_onConnError(s){this.log("transport",`${s}`),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(i=>i(s))}_triggerChanError(){this.channels.forEach(s=>s._trigger(CHANNEL_EVENTS.error))}_appendParams(s,i){if(Object.keys(i).length===0)return s;const a=s.match(/\?/)?"&":"?",o=new URLSearchParams(i);return`${s}${a}${o}`}_workerObjectUrl(s){let i;if(s)i=s;else{const a=new Blob([WORKER_SCRIPT],{type:"application/javascript"});i=URL.createObjectURL(a)}return i}}class StorageError extends Error{constructor(s){super(s),this.__isStorageError=!0,this.name="StorageError"}}function isStorageError(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class StorageApiError extends StorageError{constructor(s,i){super(s),this.name="StorageApiError",this.status=i}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class StorageUnknownError extends StorageError{constructor(s,i){super(s),this.name="StorageUnknownError",this.originalError=i}}var __awaiter$6=function(e,s,i,a){function o(c){return c instanceof i?c:new i(function(h){h(c)})}return new(i||(i=Promise))(function(c,h){function d(_){try{b(a.next(_))}catch($){h($)}}function g(_){try{b(a.throw(_))}catch($){h($)}}function b(_){_.done?c(_.value):o(_.value).then(d,g)}b((a=a.apply(e,s||[])).next())})};const resolveFetch$2=e=>{let s;return e?s=e:typeof fetch>"u"?s=(...i)=>__vitePreload(async()=>{const{default:a}=await Promise.resolve().then(()=>browser);return{default:a}},void 0).then(({default:a})=>a(...i)):s=fetch,(...i)=>s(...i)},resolveResponse=()=>__awaiter$6(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield __vitePreload(()=>Promise.resolve().then(()=>browser),void 0)).Response:Response}),recursiveToCamel=e=>{if(Array.isArray(e))return e.map(i=>recursiveToCamel(i));if(typeof e=="function"||e!==Object(e))return e;const s={};return Object.entries(e).forEach(([i,a])=>{const o=i.replace(/([-_][a-z])/gi,c=>c.toUpperCase().replace(/[-_]/g,""));s[o]=recursiveToCamel(a)}),s};var __awaiter$5=function(e,s,i,a){function o(c){return c instanceof i?c:new i(function(h){h(c)})}return new(i||(i=Promise))(function(c,h){function d(_){try{b(a.next(_))}catch($){h($)}}function g(_){try{b(a.throw(_))}catch($){h($)}}function b(_){_.done?c(_.value):o(_.value).then(d,g)}b((a=a.apply(e,s||[])).next())})};const _getErrorMessage$1=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),handleError$1=(e,s,i)=>__awaiter$5(void 0,void 0,void 0,function*(){const a=yield resolveResponse();e instanceof a&&!(i!=null&&i.noResolveJson)?e.json().then(o=>{s(new StorageApiError(_getErrorMessage$1(o),e.status||500))}).catch(o=>{s(new StorageUnknownError(_getErrorMessage$1(o),o))}):s(new StorageUnknownError(_getErrorMessage$1(e),e))}),_getRequestParams$1=(e,s,i,a)=>{const o={method:e,headers:(s==null?void 0:s.headers)||{}};return e==="GET"?o:(o.headers=Object.assign({"Content-Type":"application/json"},s==null?void 0:s.headers),a&&(o.body=JSON.stringify(a)),Object.assign(Object.assign({},o),i))};function _handleRequest$1(e,s,i,a,o,c){return __awaiter$5(this,void 0,void 0,function*(){return new Promise((h,d)=>{e(i,_getRequestParams$1(s,a,o,c)).then(g=>{if(!g.ok)throw g;return a!=null&&a.noResolveJson?g:g.json()}).then(g=>h(g)).catch(g=>handleError$1(g,d,a))})})}function get(e,s,i,a){return __awaiter$5(this,void 0,void 0,function*(){return _handleRequest$1(e,"GET",s,i,a)})}function post(e,s,i,a,o){return __awaiter$5(this,void 0,void 0,function*(){return _handleRequest$1(e,"POST",s,a,o,i)})}function put(e,s,i,a,o){return __awaiter$5(this,void 0,void 0,function*(){return _handleRequest$1(e,"PUT",s,a,o,i)})}function head(e,s,i,a){return __awaiter$5(this,void 0,void 0,function*(){return _handleRequest$1(e,"HEAD",s,Object.assign(Object.assign({},i),{noResolveJson:!0}),a)})}function remove(e,s,i,a,o){return __awaiter$5(this,void 0,void 0,function*(){return _handleRequest$1(e,"DELETE",s,a,o,i)})}var __awaiter$4=function(e,s,i,a){function o(c){return c instanceof i?c:new i(function(h){h(c)})}return new(i||(i=Promise))(function(c,h){function d(_){try{b(a.next(_))}catch($){h($)}}function g(_){try{b(a.throw(_))}catch($){h($)}}function b(_){_.done?c(_.value):o(_.value).then(d,g)}b((a=a.apply(e,s||[])).next())})};const DEFAULT_SEARCH_OPTIONS={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},DEFAULT_FILE_OPTIONS={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class StorageFileApi{constructor(s,i={},a,o){this.url=s,this.headers=i,this.bucketId=a,this.fetch=resolveFetch$2(o)}uploadOrUpdate(s,i,a,o){return __awaiter$4(this,void 0,void 0,function*(){try{let c;const h=Object.assign(Object.assign({},DEFAULT_FILE_OPTIONS),o);let d=Object.assign(Object.assign({},this.headers),s==="POST"&&{"x-upsert":String(h.upsert)});const g=h.metadata;typeof Blob<"u"&&a instanceof Blob?(c=new FormData,c.append("cacheControl",h.cacheControl),g&&c.append("metadata",this.encodeMetadata(g)),c.append("",a)):typeof FormData<"u"&&a instanceof FormData?(c=a,c.append("cacheControl",h.cacheControl),g&&c.append("metadata",this.encodeMetadata(g))):(c=a,d["cache-control"]=`max-age=${h.cacheControl}`,d["content-type"]=h.contentType,g&&(d["x-metadata"]=this.toBase64(this.encodeMetadata(g)))),o!=null&&o.headers&&(d=Object.assign(Object.assign({},d),o.headers));const b=this._removeEmptyFolders(i),_=this._getFinalPath(b),$=yield this.fetch(`${this.url}/object/${_}`,Object.assign({method:s,body:c,headers:d},h!=null&&h.duplex?{duplex:h.duplex}:{})),j=yield $.json();return $.ok?{data:{path:b,id:j.Id,fullPath:j.Key},error:null}:{data:null,error:j}}catch(c){if(isStorageError(c))return{data:null,error:c};throw c}})}upload(s,i,a){return __awaiter$4(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",s,i,a)})}uploadToSignedUrl(s,i,a,o){return __awaiter$4(this,void 0,void 0,function*(){const c=this._removeEmptyFolders(s),h=this._getFinalPath(c),d=new URL(this.url+`/object/upload/sign/${h}`);d.searchParams.set("token",i);try{let g;const b=Object.assign({upsert:DEFAULT_FILE_OPTIONS.upsert},o),_=Object.assign(Object.assign({},this.headers),{"x-upsert":String(b.upsert)});typeof Blob<"u"&&a instanceof Blob?(g=new FormData,g.append("cacheControl",b.cacheControl),g.append("",a)):typeof FormData<"u"&&a instanceof FormData?(g=a,g.append("cacheControl",b.cacheControl)):(g=a,_["cache-control"]=`max-age=${b.cacheControl}`,_["content-type"]=b.contentType);const $=yield this.fetch(d.toString(),{method:"PUT",body:g,headers:_}),j=yield $.json();return $.ok?{data:{path:c,fullPath:j.Key},error:null}:{data:null,error:j}}catch(g){if(isStorageError(g))return{data:null,error:g};throw g}})}createSignedUploadUrl(s,i){return __awaiter$4(this,void 0,void 0,function*(){try{let a=this._getFinalPath(s);const o=Object.assign({},this.headers);i!=null&&i.upsert&&(o["x-upsert"]="true");const c=yield post(this.fetch,`${this.url}/object/upload/sign/${a}`,{},{headers:o}),h=new URL(this.url+c.url),d=h.searchParams.get("token");if(!d)throw new StorageError("No token returned by API");return{data:{signedUrl:h.toString(),path:s,token:d},error:null}}catch(a){if(isStorageError(a))return{data:null,error:a};throw a}})}update(s,i,a){return __awaiter$4(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",s,i,a)})}move(s,i,a){return __awaiter$4(this,void 0,void 0,function*(){try{return{data:yield post(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:s,destinationKey:i,destinationBucket:a==null?void 0:a.destinationBucket},{headers:this.headers}),error:null}}catch(o){if(isStorageError(o))return{data:null,error:o};throw o}})}copy(s,i,a){return __awaiter$4(this,void 0,void 0,function*(){try{return{data:{path:(yield post(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:s,destinationKey:i,destinationBucket:a==null?void 0:a.destinationBucket},{headers:this.headers})).Key},error:null}}catch(o){if(isStorageError(o))return{data:null,error:o};throw o}})}createSignedUrl(s,i,a){return __awaiter$4(this,void 0,void 0,function*(){try{let o=this._getFinalPath(s),c=yield post(this.fetch,`${this.url}/object/sign/${o}`,Object.assign({expiresIn:i},a!=null&&a.transform?{transform:a.transform}:{}),{headers:this.headers});const h=a!=null&&a.download?`&download=${a.download===!0?"":a.download}`:"";return c={signedUrl:encodeURI(`${this.url}${c.signedURL}${h}`)},{data:c,error:null}}catch(o){if(isStorageError(o))return{data:null,error:o};throw o}})}createSignedUrls(s,i,a){return __awaiter$4(this,void 0,void 0,function*(){try{const o=yield post(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:i,paths:s},{headers:this.headers}),c=a!=null&&a.download?`&download=${a.download===!0?"":a.download}`:"";return{data:o.map(h=>Object.assign(Object.assign({},h),{signedUrl:h.signedURL?encodeURI(`${this.url}${h.signedURL}${c}`):null})),error:null}}catch(o){if(isStorageError(o))return{data:null,error:o};throw o}})}download(s,i){return __awaiter$4(this,void 0,void 0,function*(){const o=typeof(i==null?void 0:i.transform)<"u"?"render/image/authenticated":"object",c=this.transformOptsToQueryString((i==null?void 0:i.transform)||{}),h=c?`?${c}`:"";try{const d=this._getFinalPath(s);return{data:yield(yield get(this.fetch,`${this.url}/${o}/${d}${h}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(d){if(isStorageError(d))return{data:null,error:d};throw d}})}info(s){return __awaiter$4(this,void 0,void 0,function*(){const i=this._getFinalPath(s);try{const a=yield get(this.fetch,`${this.url}/object/info/${i}`,{headers:this.headers});return{data:recursiveToCamel(a),error:null}}catch(a){if(isStorageError(a))return{data:null,error:a};throw a}})}exists(s){return __awaiter$4(this,void 0,void 0,function*(){const i=this._getFinalPath(s);try{return yield head(this.fetch,`${this.url}/object/${i}`,{headers:this.headers}),{data:!0,error:null}}catch(a){if(isStorageError(a)&&a instanceof StorageUnknownError){const o=a.originalError;if([400,404].includes(o==null?void 0:o.status))return{data:!1,error:a}}throw a}})}getPublicUrl(s,i){const a=this._getFinalPath(s),o=[],c=i!=null&&i.download?`download=${i.download===!0?"":i.download}`:"";c!==""&&o.push(c);const d=typeof(i==null?void 0:i.transform)<"u"?"render/image":"object",g=this.transformOptsToQueryString((i==null?void 0:i.transform)||{});g!==""&&o.push(g);let b=o.join("&");return b!==""&&(b=`?${b}`),{data:{publicUrl:encodeURI(`${this.url}/${d}/public/${a}${b}`)}}}remove(s){return __awaiter$4(this,void 0,void 0,function*(){try{return{data:yield remove(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:s},{headers:this.headers}),error:null}}catch(i){if(isStorageError(i))return{data:null,error:i};throw i}})}list(s,i,a){return __awaiter$4(this,void 0,void 0,function*(){try{const o=Object.assign(Object.assign(Object.assign({},DEFAULT_SEARCH_OPTIONS),i),{prefix:s||""});return{data:yield post(this.fetch,`${this.url}/object/list/${this.bucketId}`,o,{headers:this.headers},a),error:null}}catch(o){if(isStorageError(o))return{data:null,error:o};throw o}})}encodeMetadata(s){return JSON.stringify(s)}toBase64(s){return typeof Buffer<"u"?Buffer.from(s).toString("base64"):btoa(s)}_getFinalPath(s){return`${this.bucketId}/${s}`}_removeEmptyFolders(s){return s.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(s){const i=[];return s.width&&i.push(`width=${s.width}`),s.height&&i.push(`height=${s.height}`),s.resize&&i.push(`resize=${s.resize}`),s.format&&i.push(`format=${s.format}`),s.quality&&i.push(`quality=${s.quality}`),i.join("&")}}const version$2="2.7.1",DEFAULT_HEADERS$2={"X-Client-Info":`storage-js/${version$2}`};var __awaiter$3=function(e,s,i,a){function o(c){return c instanceof i?c:new i(function(h){h(c)})}return new(i||(i=Promise))(function(c,h){function d(_){try{b(a.next(_))}catch($){h($)}}function g(_){try{b(a.throw(_))}catch($){h($)}}function b(_){_.done?c(_.value):o(_.value).then(d,g)}b((a=a.apply(e,s||[])).next())})};class StorageBucketApi{constructor(s,i={},a){this.url=s,this.headers=Object.assign(Object.assign({},DEFAULT_HEADERS$2),i),this.fetch=resolveFetch$2(a)}listBuckets(){return __awaiter$3(this,void 0,void 0,function*(){try{return{data:yield get(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(s){if(isStorageError(s))return{data:null,error:s};throw s}})}getBucket(s){return __awaiter$3(this,void 0,void 0,function*(){try{return{data:yield get(this.fetch,`${this.url}/bucket/${s}`,{headers:this.headers}),error:null}}catch(i){if(isStorageError(i))return{data:null,error:i};throw i}})}createBucket(s,i={public:!1}){return __awaiter$3(this,void 0,void 0,function*(){try{return{data:yield post(this.fetch,`${this.url}/bucket`,{id:s,name:s,public:i.public,file_size_limit:i.fileSizeLimit,allowed_mime_types:i.allowedMimeTypes},{headers:this.headers}),error:null}}catch(a){if(isStorageError(a))return{data:null,error:a};throw a}})}updateBucket(s,i){return __awaiter$3(this,void 0,void 0,function*(){try{return{data:yield put(this.fetch,`${this.url}/bucket/${s}`,{id:s,name:s,public:i.public,file_size_limit:i.fileSizeLimit,allowed_mime_types:i.allowedMimeTypes},{headers:this.headers}),error:null}}catch(a){if(isStorageError(a))return{data:null,error:a};throw a}})}emptyBucket(s){return __awaiter$3(this,void 0,void 0,function*(){try{return{data:yield post(this.fetch,`${this.url}/bucket/${s}/empty`,{},{headers:this.headers}),error:null}}catch(i){if(isStorageError(i))return{data:null,error:i};throw i}})}deleteBucket(s){return __awaiter$3(this,void 0,void 0,function*(){try{return{data:yield remove(this.fetch,`${this.url}/bucket/${s}`,{},{headers:this.headers}),error:null}}catch(i){if(isStorageError(i))return{data:null,error:i};throw i}})}}class StorageClient extends StorageBucketApi{constructor(s,i={},a){super(s,i,a)}from(s){return new StorageFileApi(this.url,this.headers,s,this.fetch)}}const version$1="2.50.1";let JS_ENV="";typeof Deno<"u"?JS_ENV="deno":typeof document<"u"?JS_ENV="web":typeof navigator<"u"&&navigator.product==="ReactNative"?JS_ENV="react-native":JS_ENV="node";const DEFAULT_HEADERS$1={"X-Client-Info":`supabase-js-${JS_ENV}/${version$1}`},DEFAULT_GLOBAL_OPTIONS={headers:DEFAULT_HEADERS$1},DEFAULT_DB_OPTIONS={schema:"public"},DEFAULT_AUTH_OPTIONS={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},DEFAULT_REALTIME_OPTIONS={};var __awaiter$2=function(e,s,i,a){function o(c){return c instanceof i?c:new i(function(h){h(c)})}return new(i||(i=Promise))(function(c,h){function d(_){try{b(a.next(_))}catch($){h($)}}function g(_){try{b(a.throw(_))}catch($){h($)}}function b(_){_.done?c(_.value):o(_.value).then(d,g)}b((a=a.apply(e,s||[])).next())})};const resolveFetch$1=e=>{let s;return e?s=e:typeof fetch>"u"?s=nodeFetch:s=fetch,(...i)=>s(...i)},resolveHeadersConstructor=()=>typeof Headers>"u"?Headers$1:Headers,fetchWithAuth=(e,s,i)=>{const a=resolveFetch$1(i),o=resolveHeadersConstructor();return(c,h)=>__awaiter$2(void 0,void 0,void 0,function*(){var d;const g=(d=yield s())!==null&&d!==void 0?d:e;let b=new o(h==null?void 0:h.headers);return b.has("apikey")||b.set("apikey",e),b.has("Authorization")||b.set("Authorization",`Bearer ${g}`),a(c,Object.assign(Object.assign({},h),{headers:b}))})};var __awaiter$1=function(e,s,i,a){function o(c){return c instanceof i?c:new i(function(h){h(c)})}return new(i||(i=Promise))(function(c,h){function d(_){try{b(a.next(_))}catch($){h($)}}function g(_){try{b(a.throw(_))}catch($){h($)}}function b(_){_.done?c(_.value):o(_.value).then(d,g)}b((a=a.apply(e,s||[])).next())})};function ensureTrailingSlash(e){return e.endsWith("/")?e:e+"/"}function applySettingDefaults(e,s){var i,a;const{db:o,auth:c,realtime:h,global:d}=e,{db:g,auth:b,realtime:_,global:$}=s,j={db:Object.assign(Object.assign({},g),o),auth:Object.assign(Object.assign({},b),c),realtime:Object.assign(Object.assign({},_),h),global:Object.assign(Object.assign(Object.assign({},$),d),{headers:Object.assign(Object.assign({},(i=$==null?void 0:$.headers)!==null&&i!==void 0?i:{}),(a=d==null?void 0:d.headers)!==null&&a!==void 0?a:{})}),accessToken:()=>__awaiter$1(this,void 0,void 0,function*(){return""})};return e.accessToken?j.accessToken=e.accessToken:delete j.accessToken,j}const version="2.70.0",AUTO_REFRESH_TICK_DURATION_MS=30*1e3,AUTO_REFRESH_TICK_THRESHOLD=3,EXPIRY_MARGIN_MS=AUTO_REFRESH_TICK_THRESHOLD*AUTO_REFRESH_TICK_DURATION_MS,GOTRUE_URL="http://localhost:9999",STORAGE_KEY="supabase.auth.token",DEFAULT_HEADERS={"X-Client-Info":`gotrue-js/${version}`},API_VERSION_HEADER_NAME="X-Supabase-Api-Version",API_VERSIONS={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},BASE64URL_REGEX=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,JWKS_TTL=6e5;class AuthError extends Error{constructor(s,i,a){super(s),this.__isAuthError=!0,this.name="AuthError",this.status=i,this.code=a}}function isAuthError(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class AuthApiError extends AuthError{constructor(s,i,a){super(s,i,a),this.name="AuthApiError",this.status=i,this.code=a}}function isAuthApiError(e){return isAuthError(e)&&e.name==="AuthApiError"}class AuthUnknownError extends AuthError{constructor(s,i){super(s),this.name="AuthUnknownError",this.originalError=i}}class CustomAuthError extends AuthError{constructor(s,i,a,o){super(s,a,o),this.name=i,this.status=a}}class AuthSessionMissingError extends CustomAuthError{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function isAuthSessionMissingError(e){return isAuthError(e)&&e.name==="AuthSessionMissingError"}class AuthInvalidTokenResponseError extends CustomAuthError{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class AuthInvalidCredentialsError extends CustomAuthError{constructor(s){super(s,"AuthInvalidCredentialsError",400,void 0)}}class AuthImplicitGrantRedirectError extends CustomAuthError{constructor(s,i=null){super(s,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=i}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function isAuthImplicitGrantRedirectError(e){return isAuthError(e)&&e.name==="AuthImplicitGrantRedirectError"}class AuthPKCEGrantCodeExchangeError extends CustomAuthError{constructor(s,i=null){super(s,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=i}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class AuthRetryableFetchError extends CustomAuthError{constructor(s,i){super(s,"AuthRetryableFetchError",i,void 0)}}function isAuthRetryableFetchError(e){return isAuthError(e)&&e.name==="AuthRetryableFetchError"}class AuthWeakPasswordError extends CustomAuthError{constructor(s,i,a){super(s,"AuthWeakPasswordError",i,"weak_password"),this.reasons=a}}class AuthInvalidJwtError extends CustomAuthError{constructor(s){super(s,"AuthInvalidJwtError",400,"invalid_jwt")}}const TO_BASE64URL="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),IGNORE_BASE64URL=` 	
\r=`.split(""),FROM_BASE64URL=(()=>{const e=new Array(128);for(let s=0;s<e.length;s+=1)e[s]=-1;for(let s=0;s<IGNORE_BASE64URL.length;s+=1)e[IGNORE_BASE64URL[s].charCodeAt(0)]=-2;for(let s=0;s<TO_BASE64URL.length;s+=1)e[TO_BASE64URL[s].charCodeAt(0)]=s;return e})();function byteToBase64URL(e,s,i){if(e!==null)for(s.queue=s.queue<<8|e,s.queuedBits+=8;s.queuedBits>=6;){const a=s.queue>>s.queuedBits-6&63;i(TO_BASE64URL[a]),s.queuedBits-=6}else if(s.queuedBits>0)for(s.queue=s.queue<<6-s.queuedBits,s.queuedBits=6;s.queuedBits>=6;){const a=s.queue>>s.queuedBits-6&63;i(TO_BASE64URL[a]),s.queuedBits-=6}}function byteFromBase64URL(e,s,i){const a=FROM_BASE64URL[e];if(a>-1)for(s.queue=s.queue<<6|a,s.queuedBits+=6;s.queuedBits>=8;)i(s.queue>>s.queuedBits-8&255),s.queuedBits-=8;else{if(a===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function stringFromBase64URL(e){const s=[],i=h=>{s.push(String.fromCodePoint(h))},a={utf8seq:0,codepoint:0},o={queue:0,queuedBits:0},c=h=>{stringFromUTF8(h,a,i)};for(let h=0;h<e.length;h+=1)byteFromBase64URL(e.charCodeAt(h),o,c);return s.join("")}function codepointToUTF8(e,s){if(e<=127){s(e);return}else if(e<=2047){s(192|e>>6),s(128|e&63);return}else if(e<=65535){s(224|e>>12),s(128|e>>6&63),s(128|e&63);return}else if(e<=1114111){s(240|e>>18),s(128|e>>12&63),s(128|e>>6&63),s(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function stringToUTF8(e,s){for(let i=0;i<e.length;i+=1){let a=e.charCodeAt(i);if(a>55295&&a<=56319){const o=(a-55296)*1024&65535;a=(e.charCodeAt(i+1)-56320&65535|o)+65536,i+=1}codepointToUTF8(a,s)}}function stringFromUTF8(e,s,i){if(s.utf8seq===0){if(e<=127){i(e);return}for(let a=1;a<6;a+=1)if(!(e>>7-a&1)){s.utf8seq=a;break}if(s.utf8seq===2)s.codepoint=e&31;else if(s.utf8seq===3)s.codepoint=e&15;else if(s.utf8seq===4)s.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");s.utf8seq-=1}else if(s.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");s.codepoint=s.codepoint<<6|e&63,s.utf8seq-=1,s.utf8seq===0&&i(s.codepoint)}}function base64UrlToUint8Array(e){const s=[],i={queue:0,queuedBits:0},a=o=>{s.push(o)};for(let o=0;o<e.length;o+=1)byteFromBase64URL(e.charCodeAt(o),i,a);return new Uint8Array(s)}function stringToUint8Array(e){const s=[];return stringToUTF8(e,i=>s.push(i)),new Uint8Array(s)}function bytesToBase64URL(e){const s=[],i={queue:0,queuedBits:0},a=o=>{s.push(o)};return e.forEach(o=>byteToBase64URL(o,i,a)),byteToBase64URL(null,i,a),s.join("")}function expiresAt(e){return Math.round(Date.now()/1e3)+e}function uuid(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const s=Math.random()*16|0;return(e=="x"?s:s&3|8).toString(16)})}const isBrowser=()=>typeof window<"u"&&typeof document<"u",localStorageWriteTests={tested:!1,writable:!1},supportsLocalStorage=()=>{if(!isBrowser())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(localStorageWriteTests.tested)return localStorageWriteTests.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),localStorageWriteTests.tested=!0,localStorageWriteTests.writable=!0}catch{localStorageWriteTests.tested=!0,localStorageWriteTests.writable=!1}return localStorageWriteTests.writable};function parseParametersFromURL(e){const s={},i=new URL(e);if(i.hash&&i.hash[0]==="#")try{new URLSearchParams(i.hash.substring(1)).forEach((o,c)=>{s[c]=o})}catch{}return i.searchParams.forEach((a,o)=>{s[o]=a}),s}const resolveFetch=e=>{let s;return e?s=e:typeof fetch>"u"?s=(...i)=>__vitePreload(async()=>{const{default:a}=await Promise.resolve().then(()=>browser);return{default:a}},void 0).then(({default:a})=>a(...i)):s=fetch,(...i)=>s(...i)},looksLikeFetchResponse=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",setItemAsync=async(e,s,i)=>{await e.setItem(s,JSON.stringify(i))},getItemAsync=async(e,s)=>{const i=await e.getItem(s);if(!i)return null;try{return JSON.parse(i)}catch{return i}},removeItemAsync=async(e,s)=>{await e.removeItem(s)};class Deferred{constructor(){this.promise=new Deferred.promiseConstructor((s,i)=>{this.resolve=s,this.reject=i})}}Deferred.promiseConstructor=Promise;function decodeJWT(e){const s=e.split(".");if(s.length!==3)throw new AuthInvalidJwtError("Invalid JWT structure");for(let a=0;a<s.length;a++)if(!BASE64URL_REGEX.test(s[a]))throw new AuthInvalidJwtError("JWT not in base64url format");return{header:JSON.parse(stringFromBase64URL(s[0])),payload:JSON.parse(stringFromBase64URL(s[1])),signature:base64UrlToUint8Array(s[2]),raw:{header:s[0],payload:s[1]}}}async function sleep(e){return await new Promise(s=>{setTimeout(()=>s(null),e)})}function retryable(e,s){return new Promise((a,o)=>{(async()=>{for(let c=0;c<1/0;c++)try{const h=await e(c);if(!s(c,null,h)){a(h);return}}catch(h){if(!s(c,h)){o(h);return}}})()})}function dec2hex(e){return("0"+e.toString(16)).substr(-2)}function generatePKCEVerifier(){const s=new Uint32Array(56);if(typeof crypto>"u"){const i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",a=i.length;let o="";for(let c=0;c<56;c++)o+=i.charAt(Math.floor(Math.random()*a));return o}return crypto.getRandomValues(s),Array.from(s,dec2hex).join("")}async function sha256(e){const i=new TextEncoder().encode(e),a=await crypto.subtle.digest("SHA-256",i),o=new Uint8Array(a);return Array.from(o).map(c=>String.fromCharCode(c)).join("")}async function generatePKCEChallenge(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const i=await sha256(e);return btoa(i).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function getCodeChallengeAndMethod(e,s,i=!1){const a=generatePKCEVerifier();let o=a;i&&(o+="/PASSWORD_RECOVERY"),await setItemAsync(e,`${s}-code-verifier`,o);const c=await generatePKCEChallenge(a);return[c,a===c?"plain":"s256"]}const API_VERSION_REGEX=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function parseResponseAPIVersion(e){const s=e.headers.get(API_VERSION_HEADER_NAME);if(!s||!s.match(API_VERSION_REGEX))return null;try{return new Date(`${s}T00:00:00.0Z`)}catch{return null}}function validateExp(e){if(!e)throw new Error("Missing exp claim");const s=Math.floor(Date.now()/1e3);if(e<=s)throw new Error("JWT has expired")}function getAlgorithm(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const UUID_REGEX=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function validateUUID(e){if(!UUID_REGEX.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}var __rest$1=function(e,s){var i={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&s.indexOf(a)<0&&(i[a]=e[a]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,a=Object.getOwnPropertySymbols(e);o<a.length;o++)s.indexOf(a[o])<0&&Object.prototype.propertyIsEnumerable.call(e,a[o])&&(i[a[o]]=e[a[o]]);return i};const _getErrorMessage=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),NETWORK_ERROR_CODES=[502,503,504];async function handleError(e){var s;if(!looksLikeFetchResponse(e))throw new AuthRetryableFetchError(_getErrorMessage(e),0);if(NETWORK_ERROR_CODES.includes(e.status))throw new AuthRetryableFetchError(_getErrorMessage(e),e.status);let i;try{i=await e.json()}catch(c){throw new AuthUnknownError(_getErrorMessage(c),c)}let a;const o=parseResponseAPIVersion(e);if(o&&o.getTime()>=API_VERSIONS["2024-01-01"].timestamp&&typeof i=="object"&&i&&typeof i.code=="string"?a=i.code:typeof i=="object"&&i&&typeof i.error_code=="string"&&(a=i.error_code),a){if(a==="weak_password")throw new AuthWeakPasswordError(_getErrorMessage(i),e.status,((s=i.weak_password)===null||s===void 0?void 0:s.reasons)||[]);if(a==="session_not_found")throw new AuthSessionMissingError}else if(typeof i=="object"&&i&&typeof i.weak_password=="object"&&i.weak_password&&Array.isArray(i.weak_password.reasons)&&i.weak_password.reasons.length&&i.weak_password.reasons.reduce((c,h)=>c&&typeof h=="string",!0))throw new AuthWeakPasswordError(_getErrorMessage(i),e.status,i.weak_password.reasons);throw new AuthApiError(_getErrorMessage(i),e.status||500,a)}const _getRequestParams=(e,s,i,a)=>{const o={method:e,headers:(s==null?void 0:s.headers)||{}};return e==="GET"?o:(o.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},s==null?void 0:s.headers),o.body=JSON.stringify(a),Object.assign(Object.assign({},o),i))};async function _request(e,s,i,a){var o;const c=Object.assign({},a==null?void 0:a.headers);c[API_VERSION_HEADER_NAME]||(c[API_VERSION_HEADER_NAME]=API_VERSIONS["2024-01-01"].name),a!=null&&a.jwt&&(c.Authorization=`Bearer ${a.jwt}`);const h=(o=a==null?void 0:a.query)!==null&&o!==void 0?o:{};a!=null&&a.redirectTo&&(h.redirect_to=a.redirectTo);const d=Object.keys(h).length?"?"+new URLSearchParams(h).toString():"",g=await _handleRequest(e,s,i+d,{headers:c,noResolveJson:a==null?void 0:a.noResolveJson},{},a==null?void 0:a.body);return a!=null&&a.xform?a==null?void 0:a.xform(g):{data:Object.assign({},g),error:null}}async function _handleRequest(e,s,i,a,o,c){const h=_getRequestParams(s,a,o,c);let d;try{d=await e(i,Object.assign({},h))}catch(g){throw console.error(g),new AuthRetryableFetchError(_getErrorMessage(g),0)}if(d.ok||await handleError(d),a!=null&&a.noResolveJson)return d;try{return await d.json()}catch(g){await handleError(g)}}function _sessionResponse(e){var s;let i=null;hasSession(e)&&(i=Object.assign({},e),e.expires_at||(i.expires_at=expiresAt(e.expires_in)));const a=(s=e.user)!==null&&s!==void 0?s:e;return{data:{session:i,user:a},error:null}}function _sessionResponsePassword(e){const s=_sessionResponse(e);return!s.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((i,a)=>i&&typeof a=="string",!0)&&(s.data.weak_password=e.weak_password),s}function _userResponse(e){var s;return{data:{user:(s=e.user)!==null&&s!==void 0?s:e},error:null}}function _ssoResponse(e){return{data:e,error:null}}function _generateLinkResponse(e){const{action_link:s,email_otp:i,hashed_token:a,redirect_to:o,verification_type:c}=e,h=__rest$1(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),d={action_link:s,email_otp:i,hashed_token:a,redirect_to:o,verification_type:c},g=Object.assign({},h);return{data:{properties:d,user:g},error:null}}function _noResolveJsonResponse(e){return e}function hasSession(e){return e.access_token&&e.refresh_token&&e.expires_in}const SIGN_OUT_SCOPES=["global","local","others"];var __rest=function(e,s){var i={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&s.indexOf(a)<0&&(i[a]=e[a]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,a=Object.getOwnPropertySymbols(e);o<a.length;o++)s.indexOf(a[o])<0&&Object.prototype.propertyIsEnumerable.call(e,a[o])&&(i[a[o]]=e[a[o]]);return i};class GoTrueAdminApi{constructor({url:s="",headers:i={},fetch:a}){this.url=s,this.headers=i,this.fetch=resolveFetch(a),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(s,i=SIGN_OUT_SCOPES[0]){if(SIGN_OUT_SCOPES.indexOf(i)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${SIGN_OUT_SCOPES.join(", ")}`);try{return await _request(this.fetch,"POST",`${this.url}/logout?scope=${i}`,{headers:this.headers,jwt:s,noResolveJson:!0}),{data:null,error:null}}catch(a){if(isAuthError(a))return{data:null,error:a};throw a}}async inviteUserByEmail(s,i={}){try{return await _request(this.fetch,"POST",`${this.url}/invite`,{body:{email:s,data:i.data},headers:this.headers,redirectTo:i.redirectTo,xform:_userResponse})}catch(a){if(isAuthError(a))return{data:{user:null},error:a};throw a}}async generateLink(s){try{const{options:i}=s,a=__rest(s,["options"]),o=Object.assign(Object.assign({},a),i);return"newEmail"in a&&(o.new_email=a==null?void 0:a.newEmail,delete o.newEmail),await _request(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:o,headers:this.headers,xform:_generateLinkResponse,redirectTo:i==null?void 0:i.redirectTo})}catch(i){if(isAuthError(i))return{data:{properties:null,user:null},error:i};throw i}}async createUser(s){try{return await _request(this.fetch,"POST",`${this.url}/admin/users`,{body:s,headers:this.headers,xform:_userResponse})}catch(i){if(isAuthError(i))return{data:{user:null},error:i};throw i}}async listUsers(s){var i,a,o,c,h,d,g;try{const b={nextPage:null,lastPage:0,total:0},_=await _request(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(a=(i=s==null?void 0:s.page)===null||i===void 0?void 0:i.toString())!==null&&a!==void 0?a:"",per_page:(c=(o=s==null?void 0:s.perPage)===null||o===void 0?void 0:o.toString())!==null&&c!==void 0?c:""},xform:_noResolveJsonResponse});if(_.error)throw _.error;const $=await _.json(),j=(h=_.headers.get("x-total-count"))!==null&&h!==void 0?h:0,st=(g=(d=_.headers.get("link"))===null||d===void 0?void 0:d.split(","))!==null&&g!==void 0?g:[];return st.length>0&&(st.forEach(tt=>{const nt=parseInt(tt.split(";")[0].split("=")[1].substring(0,1)),at=JSON.parse(tt.split(";")[1].split("=")[1]);b[`${at}Page`]=nt}),b.total=parseInt(j)),{data:Object.assign(Object.assign({},$),b),error:null}}catch(b){if(isAuthError(b))return{data:{users:[]},error:b};throw b}}async getUserById(s){validateUUID(s);try{return await _request(this.fetch,"GET",`${this.url}/admin/users/${s}`,{headers:this.headers,xform:_userResponse})}catch(i){if(isAuthError(i))return{data:{user:null},error:i};throw i}}async updateUserById(s,i){validateUUID(s);try{return await _request(this.fetch,"PUT",`${this.url}/admin/users/${s}`,{body:i,headers:this.headers,xform:_userResponse})}catch(a){if(isAuthError(a))return{data:{user:null},error:a};throw a}}async deleteUser(s,i=!1){validateUUID(s);try{return await _request(this.fetch,"DELETE",`${this.url}/admin/users/${s}`,{headers:this.headers,body:{should_soft_delete:i},xform:_userResponse})}catch(a){if(isAuthError(a))return{data:{user:null},error:a};throw a}}async _listFactors(s){validateUUID(s.userId);try{const{data:i,error:a}=await _request(this.fetch,"GET",`${this.url}/admin/users/${s.userId}/factors`,{headers:this.headers,xform:o=>({data:{factors:o},error:null})});return{data:i,error:a}}catch(i){if(isAuthError(i))return{data:null,error:i};throw i}}async _deleteFactor(s){validateUUID(s.userId),validateUUID(s.id);try{return{data:await _request(this.fetch,"DELETE",`${this.url}/admin/users/${s.userId}/factors/${s.id}`,{headers:this.headers}),error:null}}catch(i){if(isAuthError(i))return{data:null,error:i};throw i}}}const localStorageAdapter={getItem:e=>supportsLocalStorage()?globalThis.localStorage.getItem(e):null,setItem:(e,s)=>{supportsLocalStorage()&&globalThis.localStorage.setItem(e,s)},removeItem:e=>{supportsLocalStorage()&&globalThis.localStorage.removeItem(e)}};function memoryLocalStorageAdapter(e={}){return{getItem:s=>e[s]||null,setItem:(s,i)=>{e[s]=i},removeItem:s=>{delete e[s]}}}function polyfillGlobalThis(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const internals={debug:!!(globalThis&&supportsLocalStorage()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class LockAcquireTimeoutError extends Error{constructor(s){super(s),this.isAcquireTimeout=!0}}class NavigatorLockAcquireTimeoutError extends LockAcquireTimeoutError{}async function navigatorLock(e,s,i){internals.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,s);const a=new globalThis.AbortController;return s>0&&setTimeout(()=>{a.abort(),internals.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},s),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,s===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:a.signal},async o=>{if(o){internals.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,o.name);try{return await i()}finally{internals.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,o.name)}}else{if(s===0)throw internals.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new NavigatorLockAcquireTimeoutError(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(internals.debug)try{const c=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(c,null,"  "))}catch(c){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",c)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await i()}}))}polyfillGlobalThis();const DEFAULT_OPTIONS={url:GOTRUE_URL,storageKey:STORAGE_KEY,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:DEFAULT_HEADERS,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function lockNoOp(e,s,i){return await i()}class GoTrueClient{constructor(s){var i,a;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=GoTrueClient.nextInstanceID,GoTrueClient.nextInstanceID+=1,this.instanceID>0&&isBrowser()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const o=Object.assign(Object.assign({},DEFAULT_OPTIONS),s);if(this.logDebugMessages=!!o.debug,typeof o.debug=="function"&&(this.logger=o.debug),this.persistSession=o.persistSession,this.storageKey=o.storageKey,this.autoRefreshToken=o.autoRefreshToken,this.admin=new GoTrueAdminApi({url:o.url,headers:o.headers,fetch:o.fetch}),this.url=o.url,this.headers=o.headers,this.fetch=resolveFetch(o.fetch),this.lock=o.lock||lockNoOp,this.detectSessionInUrl=o.detectSessionInUrl,this.flowType=o.flowType,this.hasCustomAuthorizationHeader=o.hasCustomAuthorizationHeader,o.lock?this.lock=o.lock:isBrowser()&&(!((i=globalThis==null?void 0:globalThis.navigator)===null||i===void 0)&&i.locks)?this.lock=navigatorLock:this.lock=lockNoOp,this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?o.storage?this.storage=o.storage:supportsLocalStorage()?this.storage=localStorageAdapter:(this.memoryStorage={},this.storage=memoryLocalStorageAdapter(this.memoryStorage)):(this.memoryStorage={},this.storage=memoryLocalStorageAdapter(this.memoryStorage)),isBrowser()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(c){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",c)}(a=this.broadcastChannel)===null||a===void 0||a.addEventListener("message",async c=>{this._debug("received broadcast notification from other tab or client",c),await this._notifyAllSubscribers(c.data.event,c.data.session,!1)})}this.initialize()}_debug(...s){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${version}) ${new Date().toISOString()}`,...s),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var s;try{const i=parseParametersFromURL(window.location.href);let a="none";if(this._isImplicitGrantCallback(i)?a="implicit":await this._isPKCECallback(i)&&(a="pkce"),isBrowser()&&this.detectSessionInUrl&&a!=="none"){const{data:o,error:c}=await this._getSessionFromURL(i,a);if(c){if(this._debug("#_initialize()","error detecting session from URL",c),isAuthImplicitGrantRedirectError(c)){const g=(s=c.details)===null||s===void 0?void 0:s.code;if(g==="identity_already_exists"||g==="identity_not_found"||g==="single_identity_not_deletable")return{error:c}}return await this._removeSession(),{error:c}}const{session:h,redirectType:d}=o;return this._debug("#_initialize()","detected session in URL",h,"redirect type",d),await this._saveSession(h),setTimeout(async()=>{d==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",h):await this._notifyAllSubscribers("SIGNED_IN",h)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(i){return isAuthError(i)?{error:i}:{error:new AuthUnknownError("Unexpected error during initialization",i)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(s){var i,a,o;try{const c=await _request(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(a=(i=s==null?void 0:s.options)===null||i===void 0?void 0:i.data)!==null&&a!==void 0?a:{},gotrue_meta_security:{captcha_token:(o=s==null?void 0:s.options)===null||o===void 0?void 0:o.captchaToken}},xform:_sessionResponse}),{data:h,error:d}=c;if(d||!h)return{data:{user:null,session:null},error:d};const g=h.session,b=h.user;return h.session&&(await this._saveSession(h.session),await this._notifyAllSubscribers("SIGNED_IN",g)),{data:{user:b,session:g},error:null}}catch(c){if(isAuthError(c))return{data:{user:null,session:null},error:c};throw c}}async signUp(s){var i,a,o;try{let c;if("email"in s){const{email:_,password:$,options:j}=s;let st=null,tt=null;this.flowType==="pkce"&&([st,tt]=await getCodeChallengeAndMethod(this.storage,this.storageKey)),c=await _request(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:j==null?void 0:j.emailRedirectTo,body:{email:_,password:$,data:(i=j==null?void 0:j.data)!==null&&i!==void 0?i:{},gotrue_meta_security:{captcha_token:j==null?void 0:j.captchaToken},code_challenge:st,code_challenge_method:tt},xform:_sessionResponse})}else if("phone"in s){const{phone:_,password:$,options:j}=s;c=await _request(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:_,password:$,data:(a=j==null?void 0:j.data)!==null&&a!==void 0?a:{},channel:(o=j==null?void 0:j.channel)!==null&&o!==void 0?o:"sms",gotrue_meta_security:{captcha_token:j==null?void 0:j.captchaToken}},xform:_sessionResponse})}else throw new AuthInvalidCredentialsError("You must provide either an email or phone number and a password");const{data:h,error:d}=c;if(d||!h)return{data:{user:null,session:null},error:d};const g=h.session,b=h.user;return h.session&&(await this._saveSession(h.session),await this._notifyAllSubscribers("SIGNED_IN",g)),{data:{user:b,session:g},error:null}}catch(c){if(isAuthError(c))return{data:{user:null,session:null},error:c};throw c}}async signInWithPassword(s){try{let i;if("email"in s){const{email:c,password:h,options:d}=s;i=await _request(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:c,password:h,gotrue_meta_security:{captcha_token:d==null?void 0:d.captchaToken}},xform:_sessionResponsePassword})}else if("phone"in s){const{phone:c,password:h,options:d}=s;i=await _request(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:c,password:h,gotrue_meta_security:{captcha_token:d==null?void 0:d.captchaToken}},xform:_sessionResponsePassword})}else throw new AuthInvalidCredentialsError("You must provide either an email or phone number and a password");const{data:a,error:o}=i;return o?{data:{user:null,session:null},error:o}:!a||!a.session||!a.user?{data:{user:null,session:null},error:new AuthInvalidTokenResponseError}:(a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",a.session)),{data:Object.assign({user:a.user,session:a.session},a.weak_password?{weakPassword:a.weak_password}:null),error:o})}catch(i){if(isAuthError(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithOAuth(s){var i,a,o,c;return await this._handleProviderSignIn(s.provider,{redirectTo:(i=s.options)===null||i===void 0?void 0:i.redirectTo,scopes:(a=s.options)===null||a===void 0?void 0:a.scopes,queryParams:(o=s.options)===null||o===void 0?void 0:o.queryParams,skipBrowserRedirect:(c=s.options)===null||c===void 0?void 0:c.skipBrowserRedirect})}async exchangeCodeForSession(s){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(s))}async signInWithWeb3(s){const{chain:i}=s;if(i==="solana")return await this.signInWithSolana(s);throw new Error(`@supabase/auth-js: Unsupported chain "${i}"`)}async signInWithSolana(s){var i,a,o,c,h,d,g,b,_,$,j,st;let tt,nt;if("message"in s)tt=s.message,nt=s.signature;else{const{chain:at,wallet:_e,statement:rt,options:et}=s;let it;if(isBrowser())if(typeof _e=="object")it=_e;else{const ut=window;if("solana"in ut&&typeof ut.solana=="object"&&("signIn"in ut.solana&&typeof ut.solana.signIn=="function"||"signMessage"in ut.solana&&typeof ut.solana.signMessage=="function"))it=ut.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof _e!="object"||!(et!=null&&et.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");it=_e}const ot=new URL((i=et==null?void 0:et.url)!==null&&i!==void 0?i:window.location.href);if("signIn"in it&&it.signIn){const ut=await it.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},et==null?void 0:et.signInWithSolana),{version:"1",domain:ot.host,uri:ot.href}),rt?{statement:rt}:null));let ht;if(Array.isArray(ut)&&ut[0]&&typeof ut[0]=="object")ht=ut[0];else if(ut&&typeof ut=="object"&&"signedMessage"in ut&&"signature"in ut)ht=ut;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in ht&&"signature"in ht&&(typeof ht.signedMessage=="string"||ht.signedMessage instanceof Uint8Array)&&ht.signature instanceof Uint8Array)tt=typeof ht.signedMessage=="string"?ht.signedMessage:new TextDecoder().decode(ht.signedMessage),nt=ht.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in it)||typeof it.signMessage!="function"||!("publicKey"in it)||typeof it!="object"||!it.publicKey||!("toBase58"in it.publicKey)||typeof it.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");tt=[`${ot.host} wants you to sign in with your Solana account:`,it.publicKey.toBase58(),...rt?["",rt,""]:[""],"Version: 1",`URI: ${ot.href}`,`Issued At: ${(o=(a=et==null?void 0:et.signInWithSolana)===null||a===void 0?void 0:a.issuedAt)!==null&&o!==void 0?o:new Date().toISOString()}`,...!((c=et==null?void 0:et.signInWithSolana)===null||c===void 0)&&c.notBefore?[`Not Before: ${et.signInWithSolana.notBefore}`]:[],...!((h=et==null?void 0:et.signInWithSolana)===null||h===void 0)&&h.expirationTime?[`Expiration Time: ${et.signInWithSolana.expirationTime}`]:[],...!((d=et==null?void 0:et.signInWithSolana)===null||d===void 0)&&d.chainId?[`Chain ID: ${et.signInWithSolana.chainId}`]:[],...!((g=et==null?void 0:et.signInWithSolana)===null||g===void 0)&&g.nonce?[`Nonce: ${et.signInWithSolana.nonce}`]:[],...!((b=et==null?void 0:et.signInWithSolana)===null||b===void 0)&&b.requestId?[`Request ID: ${et.signInWithSolana.requestId}`]:[],...!(($=(_=et==null?void 0:et.signInWithSolana)===null||_===void 0?void 0:_.resources)===null||$===void 0)&&$.length?["Resources",...et.signInWithSolana.resources.map(ht=>`- ${ht}`)]:[]].join(`
`);const ut=await it.signMessage(new TextEncoder().encode(tt),"utf8");if(!ut||!(ut instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");nt=ut}}try{const{data:at,error:_e}=await _request(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:tt,signature:bytesToBase64URL(nt)},!((j=s.options)===null||j===void 0)&&j.captchaToken?{gotrue_meta_security:{captcha_token:(st=s.options)===null||st===void 0?void 0:st.captchaToken}}:null),xform:_sessionResponse});if(_e)throw _e;return!at||!at.session||!at.user?{data:{user:null,session:null},error:new AuthInvalidTokenResponseError}:(at.session&&(await this._saveSession(at.session),await this._notifyAllSubscribers("SIGNED_IN",at.session)),{data:Object.assign({},at),error:_e})}catch(at){if(isAuthError(at))return{data:{user:null,session:null},error:at};throw at}}async _exchangeCodeForSession(s){const i=await getItemAsync(this.storage,`${this.storageKey}-code-verifier`),[a,o]=(i??"").split("/");try{const{data:c,error:h}=await _request(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:s,code_verifier:a},xform:_sessionResponse});if(await removeItemAsync(this.storage,`${this.storageKey}-code-verifier`),h)throw h;return!c||!c.session||!c.user?{data:{user:null,session:null,redirectType:null},error:new AuthInvalidTokenResponseError}:(c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),{data:Object.assign(Object.assign({},c),{redirectType:o??null}),error:h})}catch(c){if(isAuthError(c))return{data:{user:null,session:null,redirectType:null},error:c};throw c}}async signInWithIdToken(s){try{const{options:i,provider:a,token:o,access_token:c,nonce:h}=s,d=await _request(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:a,id_token:o,access_token:c,nonce:h,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},xform:_sessionResponse}),{data:g,error:b}=d;return b?{data:{user:null,session:null},error:b}:!g||!g.session||!g.user?{data:{user:null,session:null},error:new AuthInvalidTokenResponseError}:(g.session&&(await this._saveSession(g.session),await this._notifyAllSubscribers("SIGNED_IN",g.session)),{data:g,error:b})}catch(i){if(isAuthError(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithOtp(s){var i,a,o,c,h;try{if("email"in s){const{email:d,options:g}=s;let b=null,_=null;this.flowType==="pkce"&&([b,_]=await getCodeChallengeAndMethod(this.storage,this.storageKey));const{error:$}=await _request(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:d,data:(i=g==null?void 0:g.data)!==null&&i!==void 0?i:{},create_user:(a=g==null?void 0:g.shouldCreateUser)!==null&&a!==void 0?a:!0,gotrue_meta_security:{captcha_token:g==null?void 0:g.captchaToken},code_challenge:b,code_challenge_method:_},redirectTo:g==null?void 0:g.emailRedirectTo});return{data:{user:null,session:null},error:$}}if("phone"in s){const{phone:d,options:g}=s,{data:b,error:_}=await _request(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:d,data:(o=g==null?void 0:g.data)!==null&&o!==void 0?o:{},create_user:(c=g==null?void 0:g.shouldCreateUser)!==null&&c!==void 0?c:!0,gotrue_meta_security:{captcha_token:g==null?void 0:g.captchaToken},channel:(h=g==null?void 0:g.channel)!==null&&h!==void 0?h:"sms"}});return{data:{user:null,session:null,messageId:b==null?void 0:b.message_id},error:_}}throw new AuthInvalidCredentialsError("You must provide either an email or phone number.")}catch(d){if(isAuthError(d))return{data:{user:null,session:null},error:d};throw d}}async verifyOtp(s){var i,a;try{let o,c;"options"in s&&(o=(i=s.options)===null||i===void 0?void 0:i.redirectTo,c=(a=s.options)===null||a===void 0?void 0:a.captchaToken);const{data:h,error:d}=await _request(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},s),{gotrue_meta_security:{captcha_token:c}}),redirectTo:o,xform:_sessionResponse});if(d)throw d;if(!h)throw new Error("An error occurred on token verification.");const g=h.session,b=h.user;return g!=null&&g.access_token&&(await this._saveSession(g),await this._notifyAllSubscribers(s.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",g)),{data:{user:b,session:g},error:null}}catch(o){if(isAuthError(o))return{data:{user:null,session:null},error:o};throw o}}async signInWithSSO(s){var i,a,o;try{let c=null,h=null;return this.flowType==="pkce"&&([c,h]=await getCodeChallengeAndMethod(this.storage,this.storageKey)),await _request(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in s?{provider_id:s.providerId}:null),"domain"in s?{domain:s.domain}:null),{redirect_to:(a=(i=s.options)===null||i===void 0?void 0:i.redirectTo)!==null&&a!==void 0?a:void 0}),!((o=s==null?void 0:s.options)===null||o===void 0)&&o.captchaToken?{gotrue_meta_security:{captcha_token:s.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:c,code_challenge_method:h}),headers:this.headers,xform:_ssoResponse})}catch(c){if(isAuthError(c))return{data:null,error:c};throw c}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async s=>{const{data:{session:i},error:a}=s;if(a)throw a;if(!i)throw new AuthSessionMissingError;const{error:o}=await _request(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:i.access_token});return{data:{user:null,session:null},error:o}})}catch(s){if(isAuthError(s))return{data:{user:null,session:null},error:s};throw s}}async resend(s){try{const i=`${this.url}/resend`;if("email"in s){const{email:a,type:o,options:c}=s,{error:h}=await _request(this.fetch,"POST",i,{headers:this.headers,body:{email:a,type:o,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken}},redirectTo:c==null?void 0:c.emailRedirectTo});return{data:{user:null,session:null},error:h}}else if("phone"in s){const{phone:a,type:o,options:c}=s,{data:h,error:d}=await _request(this.fetch,"POST",i,{headers:this.headers,body:{phone:a,type:o,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken}}});return{data:{user:null,session:null,messageId:h==null?void 0:h.message_id},error:d}}throw new AuthInvalidCredentialsError("You must provide either an email or phone number and a type")}catch(i){if(isAuthError(i))return{data:{user:null,session:null},error:i};throw i}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async i=>i))}async _acquireLock(s,i){this._debug("#_acquireLock","begin",s);try{if(this.lockAcquired){const a=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),o=(async()=>(await a,await i()))();return this.pendingInLock.push((async()=>{try{await o}catch{}})()),o}return await this.lock(`lock:${this.storageKey}`,s,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const a=i();for(this.pendingInLock.push((async()=>{try{await a}catch{}})()),await a;this.pendingInLock.length;){const o=[...this.pendingInLock];await Promise.all(o),this.pendingInLock.splice(0,o.length)}return await a}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(s){this._debug("#_useSession","begin");try{const i=await this.__loadSession();return await s(i)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let s=null;const i=await getItemAsync(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",i),i!==null&&(this._isValidSession(i)?s=i:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!s)return{data:{session:null},error:null};const a=s.expires_at?s.expires_at*1e3-Date.now()<EXPIRY_MARGIN_MS:!1;if(this._debug("#__loadSession()",`session has${a?"":" not"} expired`,"expires_at",s.expires_at),!a){if(this.storage.isServer){let h=this.suppressGetSessionWarning;s=new Proxy(s,{get:(g,b,_)=>(!h&&b==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),h=!0,this.suppressGetSessionWarning=!0),Reflect.get(g,b,_))})}return{data:{session:s},error:null}}const{session:o,error:c}=await this._callRefreshToken(s.refresh_token);return c?{data:{session:null},error:c}:{data:{session:o},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(s){return s?await this._getUser(s):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(s){try{return s?await _request(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:s,xform:_userResponse}):await this._useSession(async i=>{var a,o,c;const{data:h,error:d}=i;if(d)throw d;return!(!((a=h.session)===null||a===void 0)&&a.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new AuthSessionMissingError}:await _request(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(c=(o=h.session)===null||o===void 0?void 0:o.access_token)!==null&&c!==void 0?c:void 0,xform:_userResponse})})}catch(i){if(isAuthError(i))return isAuthSessionMissingError(i)&&(await this._removeSession(),await removeItemAsync(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:i};throw i}}async updateUser(s,i={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(s,i))}async _updateUser(s,i={}){try{return await this._useSession(async a=>{const{data:o,error:c}=a;if(c)throw c;if(!o.session)throw new AuthSessionMissingError;const h=o.session;let d=null,g=null;this.flowType==="pkce"&&s.email!=null&&([d,g]=await getCodeChallengeAndMethod(this.storage,this.storageKey));const{data:b,error:_}=await _request(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:i==null?void 0:i.emailRedirectTo,body:Object.assign(Object.assign({},s),{code_challenge:d,code_challenge_method:g}),jwt:h.access_token,xform:_userResponse});if(_)throw _;return h.user=b.user,await this._saveSession(h),await this._notifyAllSubscribers("USER_UPDATED",h),{data:{user:h.user},error:null}})}catch(a){if(isAuthError(a))return{data:{user:null},error:a};throw a}}async setSession(s){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(s))}async _setSession(s){try{if(!s.access_token||!s.refresh_token)throw new AuthSessionMissingError;const i=Date.now()/1e3;let a=i,o=!0,c=null;const{payload:h}=decodeJWT(s.access_token);if(h.exp&&(a=h.exp,o=a<=i),o){const{session:d,error:g}=await this._callRefreshToken(s.refresh_token);if(g)return{data:{user:null,session:null},error:g};if(!d)return{data:{user:null,session:null},error:null};c=d}else{const{data:d,error:g}=await this._getUser(s.access_token);if(g)throw g;c={access_token:s.access_token,refresh_token:s.refresh_token,user:d.user,token_type:"bearer",expires_in:a-i,expires_at:a},await this._saveSession(c),await this._notifyAllSubscribers("SIGNED_IN",c)}return{data:{user:c.user,session:c},error:null}}catch(i){if(isAuthError(i))return{data:{session:null,user:null},error:i};throw i}}async refreshSession(s){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(s))}async _refreshSession(s){try{return await this._useSession(async i=>{var a;if(!s){const{data:h,error:d}=i;if(d)throw d;s=(a=h.session)!==null&&a!==void 0?a:void 0}if(!(s!=null&&s.refresh_token))throw new AuthSessionMissingError;const{session:o,error:c}=await this._callRefreshToken(s.refresh_token);return c?{data:{user:null,session:null},error:c}:o?{data:{user:o.user,session:o},error:null}:{data:{user:null,session:null},error:null}})}catch(i){if(isAuthError(i))return{data:{user:null,session:null},error:i};throw i}}async _getSessionFromURL(s,i){try{if(!isBrowser())throw new AuthImplicitGrantRedirectError("No browser detected.");if(s.error||s.error_description||s.error_code)throw new AuthImplicitGrantRedirectError(s.error_description||"Error in URL with unspecified error_description",{error:s.error||"unspecified_error",code:s.error_code||"unspecified_code"});switch(i){case"implicit":if(this.flowType==="pkce")throw new AuthPKCEGrantCodeExchangeError("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new AuthImplicitGrantRedirectError("Not a valid implicit grant flow url.");break;default:}if(i==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!s.code)throw new AuthPKCEGrantCodeExchangeError("No code detected.");const{data:rt,error:et}=await this._exchangeCodeForSession(s.code);if(et)throw et;const it=new URL(window.location.href);return it.searchParams.delete("code"),window.history.replaceState(window.history.state,"",it.toString()),{data:{session:rt.session,redirectType:null},error:null}}const{provider_token:a,provider_refresh_token:o,access_token:c,refresh_token:h,expires_in:d,expires_at:g,token_type:b}=s;if(!c||!d||!h||!b)throw new AuthImplicitGrantRedirectError("No session defined in URL");const _=Math.round(Date.now()/1e3),$=parseInt(d);let j=_+$;g&&(j=parseInt(g));const st=j-_;st*1e3<=AUTO_REFRESH_TICK_DURATION_MS&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${st}s, should have been closer to ${$}s`);const tt=j-$;_-tt>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",tt,j,_):_-tt<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",tt,j,_);const{data:nt,error:at}=await this._getUser(c);if(at)throw at;const _e={provider_token:a,provider_refresh_token:o,access_token:c,expires_in:$,expires_at:j,refresh_token:h,token_type:b,user:nt.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:_e,redirectType:s.type},error:null}}catch(a){if(isAuthError(a))return{data:{session:null,redirectType:null},error:a};throw a}}_isImplicitGrantCallback(s){return!!(s.access_token||s.error_description)}async _isPKCECallback(s){const i=await getItemAsync(this.storage,`${this.storageKey}-code-verifier`);return!!(s.code&&i)}async signOut(s={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(s))}async _signOut({scope:s}={scope:"global"}){return await this._useSession(async i=>{var a;const{data:o,error:c}=i;if(c)return{error:c};const h=(a=o.session)===null||a===void 0?void 0:a.access_token;if(h){const{error:d}=await this.admin.signOut(h,s);if(d&&!(isAuthApiError(d)&&(d.status===404||d.status===401||d.status===403)))return{error:d}}return s!=="others"&&(await this._removeSession(),await removeItemAsync(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(s){const i=uuid(),a={id:i,callback:s,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",i),this.stateChangeEmitters.delete(i)}};return this._debug("#onAuthStateChange()","registered callback with id",i),this.stateChangeEmitters.set(i,a),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(i)})))(),{data:{subscription:a}}}async _emitInitialSession(s){return await this._useSession(async i=>{var a,o;try{const{data:{session:c},error:h}=i;if(h)throw h;await((a=this.stateChangeEmitters.get(s))===null||a===void 0?void 0:a.callback("INITIAL_SESSION",c)),this._debug("INITIAL_SESSION","callback id",s,"session",c)}catch(c){await((o=this.stateChangeEmitters.get(s))===null||o===void 0?void 0:o.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",s,"error",c),console.error(c)}})}async resetPasswordForEmail(s,i={}){let a=null,o=null;this.flowType==="pkce"&&([a,o]=await getCodeChallengeAndMethod(this.storage,this.storageKey,!0));try{return await _request(this.fetch,"POST",`${this.url}/recover`,{body:{email:s,code_challenge:a,code_challenge_method:o,gotrue_meta_security:{captcha_token:i.captchaToken}},headers:this.headers,redirectTo:i.redirectTo})}catch(c){if(isAuthError(c))return{data:null,error:c};throw c}}async getUserIdentities(){var s;try{const{data:i,error:a}=await this.getUser();if(a)throw a;return{data:{identities:(s=i.user.identities)!==null&&s!==void 0?s:[]},error:null}}catch(i){if(isAuthError(i))return{data:null,error:i};throw i}}async linkIdentity(s){var i;try{const{data:a,error:o}=await this._useSession(async c=>{var h,d,g,b,_;const{data:$,error:j}=c;if(j)throw j;const st=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,s.provider,{redirectTo:(h=s.options)===null||h===void 0?void 0:h.redirectTo,scopes:(d=s.options)===null||d===void 0?void 0:d.scopes,queryParams:(g=s.options)===null||g===void 0?void 0:g.queryParams,skipBrowserRedirect:!0});return await _request(this.fetch,"GET",st,{headers:this.headers,jwt:(_=(b=$.session)===null||b===void 0?void 0:b.access_token)!==null&&_!==void 0?_:void 0})});if(o)throw o;return isBrowser()&&!(!((i=s.options)===null||i===void 0)&&i.skipBrowserRedirect)&&window.location.assign(a==null?void 0:a.url),{data:{provider:s.provider,url:a==null?void 0:a.url},error:null}}catch(a){if(isAuthError(a))return{data:{provider:s.provider,url:null},error:a};throw a}}async unlinkIdentity(s){try{return await this._useSession(async i=>{var a,o;const{data:c,error:h}=i;if(h)throw h;return await _request(this.fetch,"DELETE",`${this.url}/user/identities/${s.identity_id}`,{headers:this.headers,jwt:(o=(a=c.session)===null||a===void 0?void 0:a.access_token)!==null&&o!==void 0?o:void 0})})}catch(i){if(isAuthError(i))return{data:null,error:i};throw i}}async _refreshAccessToken(s){const i=`#_refreshAccessToken(${s.substring(0,5)}...)`;this._debug(i,"begin");try{const a=Date.now();return await retryable(async o=>(o>0&&await sleep(200*Math.pow(2,o-1)),this._debug(i,"refreshing attempt",o),await _request(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:s},headers:this.headers,xform:_sessionResponse})),(o,c)=>{const h=200*Math.pow(2,o);return c&&isAuthRetryableFetchError(c)&&Date.now()+h-a<AUTO_REFRESH_TICK_DURATION_MS})}catch(a){if(this._debug(i,"error",a),isAuthError(a))return{data:{session:null,user:null},error:a};throw a}finally{this._debug(i,"end")}}_isValidSession(s){return typeof s=="object"&&s!==null&&"access_token"in s&&"refresh_token"in s&&"expires_at"in s}async _handleProviderSignIn(s,i){const a=await this._getUrlForProvider(`${this.url}/authorize`,s,{redirectTo:i.redirectTo,scopes:i.scopes,queryParams:i.queryParams});return this._debug("#_handleProviderSignIn()","provider",s,"options",i,"url",a),isBrowser()&&!i.skipBrowserRedirect&&window.location.assign(a),{data:{provider:s,url:a},error:null}}async _recoverAndRefresh(){var s;const i="#_recoverAndRefresh()";this._debug(i,"begin");try{const a=await getItemAsync(this.storage,this.storageKey);if(this._debug(i,"session from storage",a),!this._isValidSession(a)){this._debug(i,"session is not valid"),a!==null&&await this._removeSession();return}const o=((s=a.expires_at)!==null&&s!==void 0?s:1/0)*1e3-Date.now()<EXPIRY_MARGIN_MS;if(this._debug(i,`session has${o?"":" not"} expired with margin of ${EXPIRY_MARGIN_MS}s`),o){if(this.autoRefreshToken&&a.refresh_token){const{error:c}=await this._callRefreshToken(a.refresh_token);c&&(console.error(c),isAuthRetryableFetchError(c)||(this._debug(i,"refresh failed with a non-retryable error, removing the session",c),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",a)}catch(a){this._debug(i,"error",a),console.error(a);return}finally{this._debug(i,"end")}}async _callRefreshToken(s){var i,a;if(!s)throw new AuthSessionMissingError;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const o=`#_callRefreshToken(${s.substring(0,5)}...)`;this._debug(o,"begin");try{this.refreshingDeferred=new Deferred;const{data:c,error:h}=await this._refreshAccessToken(s);if(h)throw h;if(!c.session)throw new AuthSessionMissingError;await this._saveSession(c.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",c.session);const d={session:c.session,error:null};return this.refreshingDeferred.resolve(d),d}catch(c){if(this._debug(o,"error",c),isAuthError(c)){const h={session:null,error:c};return isAuthRetryableFetchError(c)||await this._removeSession(),(i=this.refreshingDeferred)===null||i===void 0||i.resolve(h),h}throw(a=this.refreshingDeferred)===null||a===void 0||a.reject(c),c}finally{this.refreshingDeferred=null,this._debug(o,"end")}}async _notifyAllSubscribers(s,i,a=!0){const o=`#_notifyAllSubscribers(${s})`;this._debug(o,"begin",i,`broadcast = ${a}`);try{this.broadcastChannel&&a&&this.broadcastChannel.postMessage({event:s,session:i});const c=[],h=Array.from(this.stateChangeEmitters.values()).map(async d=>{try{await d.callback(s,i)}catch(g){c.push(g)}});if(await Promise.all(h),c.length>0){for(let d=0;d<c.length;d+=1)console.error(c[d]);throw c[0]}}finally{this._debug(o,"end")}}async _saveSession(s){this._debug("#_saveSession()",s),this.suppressGetSessionWarning=!0,await setItemAsync(this.storage,this.storageKey,s)}async _removeSession(){this._debug("#_removeSession()"),await removeItemAsync(this.storage,this.storageKey),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const s=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{s&&isBrowser()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",s)}catch(i){console.error("removing visibilitychange callback failed",i)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const s=setInterval(()=>this._autoRefreshTokenTick(),AUTO_REFRESH_TICK_DURATION_MS);this.autoRefreshTicker=s,s&&typeof s=="object"&&typeof s.unref=="function"?s.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(s),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const s=this.autoRefreshTicker;this.autoRefreshTicker=null,s&&clearInterval(s)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const s=Date.now();try{return await this._useSession(async i=>{const{data:{session:a}}=i;if(!a||!a.refresh_token||!a.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const o=Math.floor((a.expires_at*1e3-s)/AUTO_REFRESH_TICK_DURATION_MS);this._debug("#_autoRefreshTokenTick()",`access token expires in ${o} ticks, a tick lasts ${AUTO_REFRESH_TICK_DURATION_MS}ms, refresh threshold is ${AUTO_REFRESH_TICK_THRESHOLD} ticks`),o<=AUTO_REFRESH_TICK_THRESHOLD&&await this._callRefreshToken(a.refresh_token)})}catch(i){console.error("Auto refresh tick failed with error. This is likely a transient error.",i)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(s){if(s.isAcquireTimeout||s instanceof LockAcquireTimeoutError)this._debug("auto refresh token tick lock not available");else throw s}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!isBrowser()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(s){console.error("_handleVisibilityChange",s)}}async _onVisibilityChanged(s){const i=`#_onVisibilityChanged(${s})`;this._debug(i,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),s||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(i,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(s,i,a){const o=[`provider=${encodeURIComponent(i)}`];if(a!=null&&a.redirectTo&&o.push(`redirect_to=${encodeURIComponent(a.redirectTo)}`),a!=null&&a.scopes&&o.push(`scopes=${encodeURIComponent(a.scopes)}`),this.flowType==="pkce"){const[c,h]=await getCodeChallengeAndMethod(this.storage,this.storageKey),d=new URLSearchParams({code_challenge:`${encodeURIComponent(c)}`,code_challenge_method:`${encodeURIComponent(h)}`});o.push(d.toString())}if(a!=null&&a.queryParams){const c=new URLSearchParams(a.queryParams);o.push(c.toString())}return a!=null&&a.skipBrowserRedirect&&o.push(`skip_http_redirect=${a.skipBrowserRedirect}`),`${s}?${o.join("&")}`}async _unenroll(s){try{return await this._useSession(async i=>{var a;const{data:o,error:c}=i;return c?{data:null,error:c}:await _request(this.fetch,"DELETE",`${this.url}/factors/${s.factorId}`,{headers:this.headers,jwt:(a=o==null?void 0:o.session)===null||a===void 0?void 0:a.access_token})})}catch(i){if(isAuthError(i))return{data:null,error:i};throw i}}async _enroll(s){try{return await this._useSession(async i=>{var a,o;const{data:c,error:h}=i;if(h)return{data:null,error:h};const d=Object.assign({friendly_name:s.friendlyName,factor_type:s.factorType},s.factorType==="phone"?{phone:s.phone}:{issuer:s.issuer}),{data:g,error:b}=await _request(this.fetch,"POST",`${this.url}/factors`,{body:d,headers:this.headers,jwt:(a=c==null?void 0:c.session)===null||a===void 0?void 0:a.access_token});return b?{data:null,error:b}:(s.factorType==="totp"&&(!((o=g==null?void 0:g.totp)===null||o===void 0)&&o.qr_code)&&(g.totp.qr_code=`data:image/svg+xml;utf-8,${g.totp.qr_code}`),{data:g,error:null})})}catch(i){if(isAuthError(i))return{data:null,error:i};throw i}}async _verify(s){return this._acquireLock(-1,async()=>{try{return await this._useSession(async i=>{var a;const{data:o,error:c}=i;if(c)return{data:null,error:c};const{data:h,error:d}=await _request(this.fetch,"POST",`${this.url}/factors/${s.factorId}/verify`,{body:{code:s.code,challenge_id:s.challengeId},headers:this.headers,jwt:(a=o==null?void 0:o.session)===null||a===void 0?void 0:a.access_token});return d?{data:null,error:d}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+h.expires_in},h)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",h),{data:h,error:d})})}catch(i){if(isAuthError(i))return{data:null,error:i};throw i}})}async _challenge(s){return this._acquireLock(-1,async()=>{try{return await this._useSession(async i=>{var a;const{data:o,error:c}=i;return c?{data:null,error:c}:await _request(this.fetch,"POST",`${this.url}/factors/${s.factorId}/challenge`,{body:{channel:s.channel},headers:this.headers,jwt:(a=o==null?void 0:o.session)===null||a===void 0?void 0:a.access_token})})}catch(i){if(isAuthError(i))return{data:null,error:i};throw i}})}async _challengeAndVerify(s){const{data:i,error:a}=await this._challenge({factorId:s.factorId});return a?{data:null,error:a}:await this._verify({factorId:s.factorId,challengeId:i.id,code:s.code})}async _listFactors(){const{data:{user:s},error:i}=await this.getUser();if(i)return{data:null,error:i};const a=(s==null?void 0:s.factors)||[],o=a.filter(h=>h.factor_type==="totp"&&h.status==="verified"),c=a.filter(h=>h.factor_type==="phone"&&h.status==="verified");return{data:{all:a,totp:o,phone:c},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async s=>{var i,a;const{data:{session:o},error:c}=s;if(c)return{data:null,error:c};if(!o)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:h}=decodeJWT(o.access_token);let d=null;h.aal&&(d=h.aal);let g=d;((a=(i=o.user.factors)===null||i===void 0?void 0:i.filter($=>$.status==="verified"))!==null&&a!==void 0?a:[]).length>0&&(g="aal2");const _=h.amr||[];return{data:{currentLevel:d,nextLevel:g,currentAuthenticationMethods:_},error:null}}))}async fetchJwk(s,i={keys:[]}){let a=i.keys.find(h=>h.kid===s);if(a||(a=this.jwks.keys.find(h=>h.kid===s),a&&this.jwks_cached_at+JWKS_TTL>Date.now()))return a;const{data:o,error:c}=await _request(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(c)throw c;if(!o.keys||o.keys.length===0)throw new AuthInvalidJwtError("JWKS is empty");if(this.jwks=o,this.jwks_cached_at=Date.now(),a=o.keys.find(h=>h.kid===s),!a)throw new AuthInvalidJwtError("No matching signing key found in JWKS");return a}async getClaims(s,i={keys:[]}){try{let a=s;if(!a){const{data:st,error:tt}=await this.getSession();if(tt||!st.session)return{data:null,error:tt};a=st.session.access_token}const{header:o,payload:c,signature:h,raw:{header:d,payload:g}}=decodeJWT(a);if(validateExp(c.exp),!o.kid||o.alg==="HS256"||!("crypto"in globalThis&&"subtle"in globalThis.crypto)){const{error:st}=await this.getUser(a);if(st)throw st;return{data:{claims:c,header:o,signature:h},error:null}}const b=getAlgorithm(o.alg),_=await this.fetchJwk(o.kid,i),$=await crypto.subtle.importKey("jwk",_,b,!0,["verify"]);if(!await crypto.subtle.verify(b,$,h,stringToUint8Array(`${d}.${g}`)))throw new AuthInvalidJwtError("Invalid JWT signature");return{data:{claims:c,header:o,signature:h},error:null}}catch(a){if(isAuthError(a))return{data:null,error:a};throw a}}}GoTrueClient.nextInstanceID=0;const AuthClient=GoTrueClient;class SupabaseAuthClient extends AuthClient{constructor(s){super(s)}}var __awaiter=function(e,s,i,a){function o(c){return c instanceof i?c:new i(function(h){h(c)})}return new(i||(i=Promise))(function(c,h){function d(_){try{b(a.next(_))}catch($){h($)}}function g(_){try{b(a.throw(_))}catch($){h($)}}function b(_){_.done?c(_.value):o(_.value).then(d,g)}b((a=a.apply(e,s||[])).next())})};class SupabaseClient{constructor(s,i,a){var o,c,h;if(this.supabaseUrl=s,this.supabaseKey=i,!s)throw new Error("supabaseUrl is required.");if(!i)throw new Error("supabaseKey is required.");const d=ensureTrailingSlash(s),g=new URL(d);this.realtimeUrl=new URL("realtime/v1",g),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",g),this.storageUrl=new URL("storage/v1",g),this.functionsUrl=new URL("functions/v1",g);const b=`sb-${g.hostname.split(".")[0]}-auth-token`,_={db:DEFAULT_DB_OPTIONS,realtime:DEFAULT_REALTIME_OPTIONS,auth:Object.assign(Object.assign({},DEFAULT_AUTH_OPTIONS),{storageKey:b}),global:DEFAULT_GLOBAL_OPTIONS},$=applySettingDefaults(a??{},_);this.storageKey=(o=$.auth.storageKey)!==null&&o!==void 0?o:"",this.headers=(c=$.global.headers)!==null&&c!==void 0?c:{},$.accessToken?(this.accessToken=$.accessToken,this.auth=new Proxy({},{get:(j,st)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(st)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((h=$.auth)!==null&&h!==void 0?h:{},this.headers,$.global.fetch),this.fetch=fetchWithAuth(i,this._getAccessToken.bind(this),$.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},$.realtime)),this.rest=new PostgrestClient(new URL("rest/v1",g).href,{headers:this.headers,schema:$.db.schema,fetch:this.fetch}),$.accessToken||this._listenForAuthEvents()}get functions(){return new FunctionsClient(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}get storage(){return new StorageClient(this.storageUrl.href,this.headers,this.fetch)}from(s){return this.rest.from(s)}schema(s){return this.rest.schema(s)}rpc(s,i={},a={}){return this.rest.rpc(s,i,a)}channel(s,i={config:{}}){return this.realtime.channel(s,i)}getChannels(){return this.realtime.getChannels()}removeChannel(s){return this.realtime.removeChannel(s)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var s,i;return __awaiter(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:a}=yield this.auth.getSession();return(i=(s=a.session)===null||s===void 0?void 0:s.access_token)!==null&&i!==void 0?i:null})}_initSupabaseAuthClient({autoRefreshToken:s,persistSession:i,detectSessionInUrl:a,storage:o,storageKey:c,flowType:h,lock:d,debug:g},b,_){const $={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new SupabaseAuthClient({url:this.authUrl.href,headers:Object.assign(Object.assign({},$),b),storageKey:c,autoRefreshToken:s,persistSession:i,detectSessionInUrl:a,storage:o,flowType:h,lock:d,debug:g,fetch:_,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(s){return new RealtimeClient(this.realtimeUrl.href,Object.assign(Object.assign({},s),{params:Object.assign({apikey:this.supabaseKey},s==null?void 0:s.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((i,a)=>{this._handleTokenChanged(i,"CLIENT",a==null?void 0:a.access_token)})}_handleTokenChanged(s,i,a){(s==="TOKEN_REFRESHED"||s==="SIGNED_IN")&&this.changedAccessToken!==a?this.changedAccessToken=a:s==="SIGNED_OUT"&&(this.realtime.setAuth(),i=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const createClient=(e,s,i)=>new SupabaseClient(e,s,i),supabaseUrl="https://ljoxmapdmptykveilcka.supabase.co",supabaseAnonKey="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Imxqb3htYXBkbXB0eWt2ZWlsY2thIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDgwNzIzNTQsImV4cCI6MjA2MzY0ODM1NH0.UOxZO3tfdhrC-WWFsSc84ZRB0z7_ZpoCKUYRmD1D7mQ",supabase=createClient(supabaseUrl,supabaseAnonKey);class OrderService{static async createOrder(s){try{const{data:i,error:a}=await supabase.from("orders").insert({user_id:s.userId,order_number:s.orderNumber,status:s.status,items:s.items,customer_details:s.customerDetails,delivery_address:s.deliveryAddress,pricing:s.pricing,restaurant_info:s.restaurantInfo,estimated_delivery_time:s.estimatedDeliveryTime,created_at:new Date().toISOString(),updated_at:new Date().toISOString(),tracking:{orderPlaced:new Date().toISOString()}}).select().single();return a?(console.error("Error creating order:",a),{success:!1,error:a.message}):{success:!0,order:i}}catch(i){return console.error("Error in createOrder:",i),{success:!1,error:i.message||"Failed to create order"}}}static async getUserOrders(s){try{const{data:i,error:a}=await supabase.from("orders").select("*").eq("user_id",s).order("created_at",{ascending:!1});return a?(console.error("Error fetching user orders:",a),{success:!1,error:a.message}):{success:!0,orders:i||[]}}catch(i){return console.error("Error in getUserOrders:",i),{success:!1,error:i.message||"Failed to fetch orders"}}}static async getUserPendingOrders(s){try{const{data:i,error:a}=await supabase.from("orders").select("*").eq("user_id",s).not("status","in","(delivered,cancelled)").order("created_at",{ascending:!1});return a?(console.error("Error fetching pending orders:",a),{success:!1,error:a.message}):{success:!0,orders:i||[]}}catch(i){return console.error("Error in getUserPendingOrders:",i),{success:!1,error:i.message||"Failed to fetch pending orders"}}}static async updateOrderStatus(s,i,a){try{const o={status:i,updated_at:new Date().toISOString()};if(a){const{data:h}=await supabase.from("orders").select("tracking").eq("id",s).single();o.tracking={...h==null?void 0:h.tracking,...a}}const{error:c}=await supabase.from("orders").update(o).eq("id",s);return c?(console.error("Error updating order status:",c),{success:!1,error:c.message}):{success:!0}}catch(o){return console.error("Error in updateOrderStatus:",o),{success:!1,error:o.message||"Failed to update order status"}}}static async getOrderById(s){try{const{data:i,error:a}=await supabase.from("orders").select("*").eq("id",s).single();return a?(console.error("Error fetching order:",a),{success:!1,error:a.message}):{success:!0,order:i}}catch(i){return console.error("Error in getOrderById:",i),{success:!1,error:i.message||"Failed to fetch order"}}}static convertToLocalOrder(s){return{id:s.id,orderNumber:s.order_number,status:s.status,createdAt:new Date(s.created_at),estimatedDeliveryTime:s.estimated_delivery_time,items:s.items,customerDetails:s.customer_details,deliveryAddress:s.delivery_address,pricing:s.pricing,restaurant:s.restaurant_info,tracking:s.tracking?{orderPlaced:s.tracking.orderPlaced?new Date(s.tracking.orderPlaced):void 0,confirmed:s.tracking.confirmed?new Date(s.tracking.confirmed):void 0,preparing:s.tracking.preparing?new Date(s.tracking.preparing):void 0,ready:s.tracking.ready?new Date(s.tracking.ready):void 0,outForDelivery:s.tracking.outForDelivery?new Date(s.tracking.outForDelivery):void 0,delivered:s.tracking.delivered?new Date(s.tracking.delivered):void 0}:void 0}}}const AuthContext=reactExports.createContext(void 0),AuthProvider=({children:e})=>{const[s,i]=reactExports.useState(null),[a,o]=reactExports.useState(!0);reactExports.useEffect(()=>{(async()=>{try{const{data:{session:tt}}=await supabase.auth.getSession();tt!=null&&tt.user&&await c(tt.user.id)}catch(tt){console.error("Error getting session:",tt)}finally{o(!1)}})();const{data:{subscription:st}}=supabase.auth.onAuthStateChange(async(tt,nt)=>{tt==="SIGNED_IN"&&(nt!=null&&nt.user)?await c(nt.user.id):tt==="SIGNED_OUT"&&i(null),o(!1)});return()=>st.unsubscribe()},[]);const c=async j=>{try{const{data:st,error:tt}=await supabase.from("users").select("*").eq("id",j).single();if(tt){console.error("Error fetching user profile:",tt);return}i(st)}catch(st){console.error("Error fetching user profile:",st)}},h=async j=>{try{return console.log(` Mock OTP sent to ${j}: 123456`),await new Promise(st=>setTimeout(st,1e3)),{success:!0}}catch(st){return console.error("Error in signInWithPhone:",st),{success:!1,error:st.message||"Failed to send OTP"}}},$={user:s,loading:a,signInWithPhone:h,verifyOTP:async(j,st,tt)=>{try{if(st!=="123456")return{success:!1,error:'Invalid OTP. Use "123456" for testing.'};console.log(` Mock OTP verified for ${j}`),await new Promise(at=>setTimeout(at,1e3));const{data:nt}=await supabase.from("users").select("*").eq("phone",j).single();if(nt){if(tt&&(tt.name||tt.email)){const{data:at,error:_e}=await supabase.from("users").update({name:tt.name||nt.name,email:tt.email||nt.email,updated_at:new Date().toISOString()}).eq("phone",j).select().single();if(!_e&&at)return i(at),{success:!0,user:at}}return i(nt),{success:!0,user:nt}}else{const{data:at,error:_e}=await supabase.from("users").insert({phone:j,name:(tt==null?void 0:tt.name)||"",email:(tt==null?void 0:tt.email)||""}).select().single();return _e?(console.error("Error creating user profile:",_e),{success:!1,error:"Failed to create user profile"}):(i(at),{success:!0,user:at})}}catch(nt){return console.error("Error in verifyOTP:",nt),{success:!1,error:nt.message||"Failed to verify OTP"}}},updateUserProfile:async j=>{if(!s)return{success:!1,error:"User not authenticated"};try{const{data:st,error:tt}=await supabase.from("users").update({...j,updated_at:new Date().toISOString()}).eq("id",s.id).select().single();return tt?(console.error("Error updating user profile:",tt),{success:!1,error:tt.message}):(i(st),{success:!0})}catch(st){return console.error("Error in updateUserProfile:",st),{success:!1,error:st.message||"Failed to update profile"}}},createOrLoginUser:async j=>{try{const{data:st}=await supabase.from("users").select("*").eq("phone",j.phone).single();if(st){console.log(` Existing user found for ${j.phone}`);const tt=await h(j.phone);return tt.success?{success:!0,requiresOTP:!0}:{success:!1,error:tt.error}}else{console.log(` New user detected for ${j.phone}`);const tt=await h(j.phone);return tt.success?{success:!0,requiresOTP:!0,user:void 0}:{success:!1,error:tt.error}}}catch(st){return console.error("Error in createOrLoginUser:",st),{success:!1,error:st.message||"Failed to process user"}}},signOut:async()=>{try{console.log(" Signing out user..."),await supabase.auth.signOut(),i(null),console.log(" User signed out successfully")}catch(j){console.error(" Error signing out:",j)}},isAuthenticated:!!s};return jsxRuntimeExports.jsx(AuthContext.Provider,{value:$,children:e})},useAuth=()=>{const e=reactExports.useContext(AuthContext);if(e===void 0)throw new Error("useAuth must be used within an AuthProvider");return e},OrderContext=reactExports.createContext(void 0),OrderProvider=({children:e})=>{const[s,i]=reactExports.useState([]),{user:a,isAuthenticated:o}=useAuth(),c=async st=>{try{console.log(" Fetching orders from Supabase for user:",st);const tt=await OrderService.getUserOrders(st);if(tt.success&&tt.orders){const nt=tt.orders.map(OrderService.convertToLocalOrder);console.log(" Synced orders from Supabase:",nt.length,"orders"),i(nt)}else console.log(" No orders found in Supabase for user"),i([])}catch(tt){console.error(" Failed to sync orders with Supabase:",tt)}};reactExports.useEffect(()=>{o&&a?(console.log(" User signed in, syncing orders from Supabase..."),c(a.id)):o||(console.log(" User signed out, clearing orders..."),i([]))},[o,a]);const h=()=>{const st=Date.now().toString().slice(-6),tt=Math.floor(Math.random()*1e3).toString().padStart(3,"0");return`ME${st}${tt}`},d=async(st,tt)=>{const nt=h(),at={...st,id:`order_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,orderNumber:nt,createdAt:new Date,tracking:{orderPlaced:new Date,...st.status==="confirmed"&&{confirmed:new Date},...st.status==="preparing"&&{preparing:new Date},...st.status==="ready"&&{ready:new Date},...st.status==="out_for_delivery"&&{outForDelivery:new Date},...st.status==="delivered"&&{delivered:new Date}}};if(tt)try{const _e=await OrderService.createOrder({userId:tt,orderNumber:nt,status:st.status,items:st.items,customerDetails:st.customerDetails,deliveryAddress:st.deliveryAddress,pricing:st.pricing,restaurantInfo:st.restaurant,estimatedDeliveryTime:st.estimatedDeliveryTime});if(_e.success&&_e.order){const rt=OrderService.convertToLocalOrder(_e.order);return i(et=>[rt,...et]),b(rt.id),rt}else console.error("Supabase order creation failed:",_e.error)}catch(_e){console.error("Failed to save order to Supabase:",_e)}return i(_e=>[at,..._e]),b(at.id),console.log("Order created locally:",at),at},g=(st,tt)=>{i(nt=>nt.map(at=>{if(at.id===st){const _e={...at.tracking},rt=new Date;switch(tt){case"confirmed":_e.confirmed=rt;break;case"preparing":_e.preparing=rt;break;case"ready":_e.ready=rt;break;case"out_for_delivery":_e.outForDelivery=rt;break;case"delivered":_e.delivered=rt;break}return{...at,status:tt,tracking:_e}}return at}))},b=st=>{setTimeout(()=>{g(st,"confirmed")},3e4),setTimeout(()=>{g(st,"preparing")},12e4),setTimeout(()=>{g(st,"ready")},9e5),setTimeout(()=>{g(st,"out_for_delivery")},12e5),setTimeout(()=>{g(st,"delivered")},21e5)},_=st=>s.find(tt=>tt.id===st),$=()=>s.filter(st=>!["delivered","cancelled"].includes(st.status)),j=()=>{i([])};return jsxRuntimeExports.jsx(OrderContext.Provider,{value:{orders:s,addOrder:d,updateOrderStatus:g,getOrderById:_,getPendingOrders:$,clearOrders:j,syncWithSupabase:c},children:e})},useOrders=()=>{const e=reactExports.useContext(OrderContext);return e===void 0?(console.error("useOrders must be used within an OrderProvider. Make sure OrderProvider wraps your component tree."),{orders:[],addOrder:async()=>({id:"",orderNumber:"",status:"pending",createdAt:new Date,estimatedDeliveryTime:"",items:[],customerDetails:{name:"",email:"",phone:""},deliveryAddress:{address:"",city:"",pincode:"",phone:""},pricing:{subtotal:0,tax:0,deliveryFee:0,fees:0,total:0}}),updateOrderStatus:()=>{},getOrderById:()=>{},getPendingOrders:()=>[],clearOrders:()=>{},syncWithSupabase:async()=>{}}):e},useCheckout=()=>{const[e,s]=reactExports.useState("address"),[i,a]=reactExports.useState({name:"",email:"",phone:"",deliveryInstructions:""}),[o,c]=reactExports.useState(""),[h,d]=reactExports.useState(!1),[g,b]=reactExports.useState(!1),[_,$]=reactExports.useState(""),[j,st]=reactExports.useState(!1);return{currentStep:e,customerDetails:i,otp:o,otpSent:h,loading:g,error:_,useFallback:j,setCurrentStep:s,setCustomerDetails:a,setOtp:c,setLoading:b,setError:$,sendOTP:async et=>{b(!0),$("");try{return await sendCheckoutOTP(et),d(!0),st(!1),{success:!0}}catch(it){return console.error("OTP API failed:",it),st(!0),d(!0),$('OTP service is temporarily unavailable. For testing, use "123456" as OTP.'),{success:!0,fallback:!0,message:'OTP service is temporarily unavailable. For testing, use "123456" as OTP.'}}finally{b(!1)}},verifyOTP:async(et,it)=>{var ot,ut;b(!0),$("");try{if(j){if(it==="123456")return $(""),{success:!0,fallback:!0};throw new Error('Invalid test OTP. Use "123456" for testing.')}return await verifyCheckoutOTP(et,it),{success:!0}}catch(ht){let dt="Invalid OTP. Please try again.";return j?dt='Invalid test OTP. Use "123456" for testing.':dt=((ut=(ot=ht.response)==null?void 0:ot.data)==null?void 0:ut.message)||"Invalid OTP. Please try again.",$(dt),{success:!1,error:dt}}finally{b(!1)}},updateCustomerDetails:et=>{a(it=>({...it,...et}))},resetCheckout:()=>{s("address"),a({name:"",email:"",phone:"",deliveryInstructions:""}),c(""),d(!1),b(!1),$(""),st(!1)},goToStep:et=>{$(""),s(et)}}},CheckoutModal=({isOpen:e,onClose:s,deliveryAddress:i,orderTotal:a})=>{const{items:o,clearCart:c,subtotal:h}=useCart(),{addOrder:d}=useOrders(),{user:g,isAuthenticated:b,createOrLoginUser:_,verifyOTP:$}=useAuth(),[j,st]=reactExports.useState(!1),[tt,nt]=reactExports.useState("none"),[at,_e]=reactExports.useState(null),[rt,et]=reactExports.useState({}),{currentStep:it,customerDetails:ot,otp:ut,otpSent:ht,loading:dt,error:mt,useFallback:xt,setCurrentStep:St,setOtp:vt,setLoading:wt,setError:_t,sendOTP:bt,verifyOTP:ft,updateCustomerDetails:pt,resetCheckout:lt,goToStep:ct}=useCheckout(),yt=kt=>kt.trim()?kt.trim().length<2?"Name must be at least 2 characters":/^[a-zA-Z\s]+$/.test(kt.trim())?"":"Name can only contain letters and spaces":"Full name is required",gt=kt=>kt.trim()?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(kt)?"":"Please enter a valid email address":"Email address is required",Et=kt=>kt.trim()?/^[\+]?[1-9][\d]{0,15}$/.test(kt.replace(/[\s\-\(\)]/g,""))?kt.replace(/[\s\-\(\)]/g,"").length<10?"Phone number must be at least 10 digits":"":"Please enter a valid phone number":"Phone number is required",Pt=()=>{const kt={};return kt.name=yt(ot.name),kt.email=gt(ot.email),kt.phone=Et(ot.phone),Object.keys(kt).forEach(Rt=>{kt[Rt]||delete kt[Rt]}),et(kt),Object.keys(kt).length===0},Ct=async()=>{if(!Pt())return;const kt=await _({phone:ot.phone,name:ot.name,email:ot.email});kt.success&&kt.requiresOTP?(_e({phone:ot.phone,name:ot.name,email:ot.email}),nt("otp_required"),St("otp")):kt.error&&_t(kt.error)},At=async()=>{if(!ut||ut.length!==6)return;(await $(ot.phone,ut,at?{name:at.name,email:at.email}:void 0)).success&&(nt("completed"),St("payment"))},jt=async()=>{wt(!0);try{const kt=await d({status:"pending",estimatedDeliveryTime:"25-35 min",items:o,customerDetails:{name:ot.name,email:ot.email,phone:ot.phone,deliveryInstructions:ot.deliveryInstructions},deliveryAddress:{address:(i==null?void 0:i.address)||"",city:(i==null?void 0:i.city)||"",pincode:(i==null?void 0:i.pincode)||"",phone:ot.phone},pricing:{subtotal:h,tax:a*.13,deliveryFee:2.99,fees:1.99,total:a},restaurant:{id:"restaurant_1",name:"MapleEats Restaurant"}},g==null?void 0:g.id);console.log("Order created:",kt),St("success"),setTimeout(()=>{c(),lt(),s()},3e3)}catch(kt){console.error("Failed to create order:",kt),_t("Failed to place order. Please try again.")}finally{wt(!1)}},It=()=>{lt(),st(!1),et({}),s()},Bt=()=>{st(!0),setTimeout(()=>{st(!1)},5e3)},Gt=()=>{const kt=[{key:"address",label:"Address",icon:MapPin},{key:"details",label:"Details",icon:User},{key:"phone",label:"Phone",icon:Phone},{key:"otp",label:"Verify",icon:Check},{key:"payment",label:"Payment",icon:CreditCard}],Rt=kt.findIndex(Ft=>Ft.key===it);return jsxRuntimeExports.jsx("div",{className:"flex items-center justify-between mb-6",children:kt.map((Ft,Ot)=>{const Nt=Ft.icon,Ut=Ft.key===it,zt=Ot<Rt;return jsxRuntimeExports.jsxs("div",{className:"flex items-center",children:[jsxRuntimeExports.jsx("div",{className:`
                  w-10 h-10 rounded-full flex items-center justify-center border-2 transition-colors
                  ${Ut?"bg-blue-600 border-blue-600 text-white":zt?"bg-green-600 border-green-600 text-white":"bg-gray-100 border-gray-300 text-gray-500"}
                `,children:jsxRuntimeExports.jsx(Nt,{size:16})}),jsxRuntimeExports.jsx("span",{className:`ml-2 text-sm ${Ut||zt?"text-gray-900":"text-gray-500"}`,children:Ft.label}),Ot<kt.length-1&&jsxRuntimeExports.jsx("div",{className:`w-8 h-0.5 mx-4 ${zt?"bg-green-600":"bg-gray-300"}`})]},Ft.key)})})},Vt=()=>jsxRuntimeExports.jsxs("div",{className:"space-y-4",children:[jsxRuntimeExports.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Confirm Delivery Address"}),i?jsxRuntimeExports.jsx("div",{className:"bg-gray-50 p-4 rounded-lg border",children:jsxRuntimeExports.jsxs("div",{className:"flex items-start space-x-3",children:[jsxRuntimeExports.jsx(MapPin,{className:"text-blue-600 mt-1",size:20}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("p",{className:"font-medium",children:i.address}),jsxRuntimeExports.jsxs("p",{className:"text-gray-600",children:[i.city,", ",i.pincode]}),i.phone&&jsxRuntimeExports.jsxs("p",{className:"text-gray-600 text-sm",children:["Contact: ",i.phone]})]})]})}):jsxRuntimeExports.jsx("div",{className:"bg-amber-50 p-4 rounded-lg border border-amber-200",children:jsxRuntimeExports.jsx("p",{className:"text-amber-800",children:"No delivery address found. Please go back and select a delivery location."})}),j&&jsxRuntimeExports.jsx("div",{className:"bg-red-50 p-4 rounded-lg border border-red-200",children:jsxRuntimeExports.jsxs("div",{className:"flex items-start space-x-3",children:[jsxRuntimeExports.jsx(AlertCircle,{className:"text-red-600 mt-0.5",size:20}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("p",{className:"font-medium text-red-800",children:"Change Address Unavailable"}),jsxRuntimeExports.jsx("p",{className:"text-red-700 text-sm",children:"Sorry, changing the delivery address during checkout is currently unavailable. Please cancel this order and start a new one with the correct address."})]})]})}),jsxRuntimeExports.jsxs("div",{className:"flex space-x-3 pt-4",children:[jsxRuntimeExports.jsx(Button,{variant:"outline",onClick:Bt,children:"Change Address"}),jsxRuntimeExports.jsx(Button,{variant:"primary",onClick:()=>ct("details"),disabled:!i,children:"Confirm Address"})]})]}),Lt=()=>jsxRuntimeExports.jsxs("div",{className:"space-y-4",children:[jsxRuntimeExports.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Customer Details"}),jsxRuntimeExports.jsxs("div",{className:"space-y-4",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Full Name *"}),jsxRuntimeExports.jsx("input",{type:"text",value:ot.name,onChange:kt=>{pt({name:kt.target.value}),rt.name&&et(Rt=>({...Rt,name:""}))},className:`w-full px-3 py-2 border rounded-md focus:ring-blue-500 focus:border-blue-500 ${rt.name?"border-red-500":"border-gray-300"}`,placeholder:"Enter your full name",required:!0}),rt.name&&jsxRuntimeExports.jsx("p",{className:"mt-1 text-sm text-red-600",children:rt.name})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email Address *"}),jsxRuntimeExports.jsx("input",{type:"email",value:ot.email,onChange:kt=>{pt({email:kt.target.value}),rt.email&&et(Rt=>({...Rt,email:""}))},className:`w-full px-3 py-2 border rounded-md focus:ring-blue-500 focus:border-blue-500 ${rt.email?"border-red-500":"border-gray-300"}`,placeholder:"Enter your email",required:!0}),rt.email&&jsxRuntimeExports.jsx("p",{className:"mt-1 text-sm text-red-600",children:rt.email})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Phone Number *"}),jsxRuntimeExports.jsx("input",{type:"tel",value:ot.phone,onChange:kt=>{pt({phone:kt.target.value}),rt.phone&&et(Rt=>({...Rt,phone:""}))},className:`w-full px-3 py-2 border rounded-md focus:ring-blue-500 focus:border-blue-500 ${rt.phone?"border-red-500":"border-gray-300"}`,placeholder:"+1234567890",required:!0}),rt.phone&&jsxRuntimeExports.jsx("p",{className:"mt-1 text-sm text-red-600",children:rt.phone})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Delivery Instructions (Optional)"}),jsxRuntimeExports.jsx("textarea",{value:ot.deliveryInstructions,onChange:kt=>pt({deliveryInstructions:kt.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500",rows:3,placeholder:"e.g., Ring the doorbell, Leave at door, Building entrance code, etc.",maxLength:200}),jsxRuntimeExports.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"Help our delivery person find you easily (max 200 characters)"})]})]}),jsxRuntimeExports.jsxs("div",{className:"flex space-x-3 pt-4",children:[jsxRuntimeExports.jsx(Button,{variant:"outline",onClick:()=>ct("address"),children:"Back"}),jsxRuntimeExports.jsx(Button,{variant:"primary",onClick:()=>{Pt()&&ct("phone")},disabled:!ot.name||!ot.email||!ot.phone,children:"Continue"})]})]}),$t=()=>jsxRuntimeExports.jsxs("div",{className:"space-y-4",children:[jsxRuntimeExports.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Verify Phone Number"}),jsxRuntimeExports.jsx("div",{className:"bg-blue-50 p-4 rounded-lg border border-blue-200",children:jsxRuntimeExports.jsxs("p",{className:"text-blue-800 text-sm",children:["We'll send a verification code to ",jsxRuntimeExports.jsx("strong",{children:ot.phone})," to confirm your order."]})}),mt&&jsxRuntimeExports.jsx("div",{className:`p-3 rounded-lg border ${xt?"bg-amber-50 border-amber-200":"bg-red-50 border-red-200"}`,children:jsxRuntimeExports.jsx("p",{className:`text-sm ${xt?"text-amber-800":"text-red-800"}`,children:mt})}),jsxRuntimeExports.jsxs("div",{className:"flex space-x-3 pt-4",children:[jsxRuntimeExports.jsx(Button,{variant:"outline",onClick:()=>ct("details"),children:"Back"}),jsxRuntimeExports.jsx(Button,{variant:"primary",onClick:Ct,loading:dt,disabled:dt,children:dt?"Sending...":"Send Verification Code"})]})]}),Mt=()=>jsxRuntimeExports.jsxs("div",{className:"space-y-4",children:[jsxRuntimeExports.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Enter Verification Code"}),jsxRuntimeExports.jsxs("div",{className:"text-center",children:[jsxRuntimeExports.jsxs("p",{className:"text-gray-600 mb-4",children:["Enter the 6-digit code sent to ",jsxRuntimeExports.jsx("strong",{children:ot.phone})]}),tt==="otp_required"&&jsxRuntimeExports.jsx("div",{className:"bg-blue-50 p-3 rounded-lg border border-blue-200 mb-4",children:jsxRuntimeExports.jsx("p",{className:"text-blue-800 text-sm font-medium",children:at?" Creating your account! Your order will be saved to your profile.":" Welcome back! Logging you into your account."})}),jsxRuntimeExports.jsx("div",{className:"bg-amber-50 p-3 rounded-lg border border-amber-200 mb-4",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-2",children:[jsxRuntimeExports.jsx("span",{className:"text-amber-600",children:""}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("p",{className:"text-amber-800 text-sm font-medium",children:"Test Mode Active"}),jsxRuntimeExports.jsx("p",{className:"text-amber-700 text-xs",children:'Use "123456" as the verification code'})]})]})}),jsxRuntimeExports.jsx("div",{className:"flex justify-center space-x-2 mb-4",children:[...Array(6)].map((kt,Rt)=>jsxRuntimeExports.jsx("input",{type:"text",maxLength:1,value:ut[Rt]||"",onChange:Ft=>{var Ut,zt;const Ot=Ft.target.value.replace(/[^0-9]/g,""),Nt=ut.split("");if(Nt[Rt]=Ot,vt(Nt.join("")),Ot&&Rt<5){const Dt=(Ut=Ft.target.parentElement)==null?void 0:Ut.children[Rt+1];Dt==null||Dt.focus()}if(!Ot&&Rt>0){const Dt=(zt=Ft.target.parentElement)==null?void 0:zt.children[Rt-1];Dt==null||Dt.focus()}},onKeyDown:Ft=>{var Ot;if(Ft.key==="Backspace"&&!ut[Rt]&&Rt>0){const Nt=(Ot=Ft.target.parentElement)==null?void 0:Ot.children[Rt-1];Nt==null||Nt.focus()}},className:"w-12 h-12 text-center text-lg font-semibold border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500"},Rt))}),jsxRuntimeExports.jsx("button",{onClick:Ct,className:"text-blue-600 hover:text-blue-700 text-sm underline",disabled:dt,children:"Resend Code"})]}),mt&&jsxRuntimeExports.jsx("div",{className:"bg-red-50 p-3 rounded-lg border border-red-200",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-2",children:[jsxRuntimeExports.jsx("span",{className:"text-red-600",children:""}),jsxRuntimeExports.jsx("p",{className:"text-red-800 text-sm",children:mt})]})}),jsxRuntimeExports.jsxs("div",{className:"flex space-x-3 pt-4",children:[jsxRuntimeExports.jsx(Button,{variant:"outline",onClick:()=>ct("phone"),children:"Back"}),jsxRuntimeExports.jsx(Button,{variant:"primary",onClick:At,loading:dt,disabled:dt||ut.length!==6,children:dt?"Verifying...":"Verify Code"})]})]}),Tt=()=>jsxRuntimeExports.jsxs("div",{className:"space-y-4",children:[jsxRuntimeExports.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Payment & Order Summary"}),jsxRuntimeExports.jsxs("div",{className:"space-y-3",children:[jsxRuntimeExports.jsx("h4",{className:"font-medium text-gray-900",children:"Payment Method"}),jsxRuntimeExports.jsx("div",{className:"border border-green-200 bg-green-50 p-4 rounded-lg",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-3",children:[jsxRuntimeExports.jsx("div",{className:"w-10 h-10 bg-green-100 rounded-full flex items-center justify-center",children:jsxRuntimeExports.jsx(Banknote,{className:"text-green-600",size:20})}),jsxRuntimeExports.jsxs("div",{className:"flex-1",children:[jsxRuntimeExports.jsx("p",{className:"font-medium text-green-800",children:"Cash on Delivery"}),jsxRuntimeExports.jsx("p",{className:"text-sm text-green-700",children:"Pay when your order arrives"})]}),jsxRuntimeExports.jsx("div",{className:"w-5 h-5 bg-green-600 rounded-full flex items-center justify-center",children:jsxRuntimeExports.jsx(Check,{className:"text-white",size:14})})]})}),jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-600",children:" Currently, we only accept cash payments upon delivery. Please have the exact amount ready."})]}),jsxRuntimeExports.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg border",children:[jsxRuntimeExports.jsx("h4",{className:"font-medium mb-3",children:"Order Summary"}),jsxRuntimeExports.jsxs("div",{className:"space-y-2 text-sm",children:[jsxRuntimeExports.jsxs("div",{className:"flex justify-between",children:[jsxRuntimeExports.jsx("span",{children:"Subtotal"}),jsxRuntimeExports.jsxs("span",{children:["$",h.toFixed(2)]})]}),jsxRuntimeExports.jsxs("div",{className:"flex justify-between",children:[jsxRuntimeExports.jsx("span",{children:"Tax (13%)"}),jsxRuntimeExports.jsxs("span",{children:["$",(a*.13).toFixed(2)]})]}),jsxRuntimeExports.jsxs("div",{className:"flex justify-between",children:[jsxRuntimeExports.jsx("span",{children:"Delivery Fee"}),jsxRuntimeExports.jsx("span",{children:"$2.99"})]}),jsxRuntimeExports.jsxs("div",{className:"flex justify-between",children:[jsxRuntimeExports.jsx("span",{children:"Platform Fee"}),jsxRuntimeExports.jsx("span",{children:"$1.99"})]}),jsxRuntimeExports.jsx("div",{className:"border-t pt-2 mt-2",children:jsxRuntimeExports.jsxs("div",{className:"flex justify-between text-lg font-semibold",children:[jsxRuntimeExports.jsx("span",{children:"Total Amount:"}),jsxRuntimeExports.jsxs("span",{children:["$",a.toFixed(2)]})]})})]})]}),b&&g?jsxRuntimeExports.jsx("div",{className:"bg-green-50 p-4 rounded-lg border border-green-200",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-2",children:[jsxRuntimeExports.jsx(Check,{className:"text-green-600",size:16}),jsxRuntimeExports.jsxs("p",{className:"text-green-800 text-sm font-medium",children:["Account verified: ",g.name||g.phone]})]})}):tt==="completed"?jsxRuntimeExports.jsx("div",{className:"bg-blue-50 p-4 rounded-lg border border-blue-200",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-2",children:[jsxRuntimeExports.jsx(Check,{className:"text-blue-600",size:16}),jsxRuntimeExports.jsx("p",{className:"text-blue-800 text-sm font-medium",children:"Account created! Your order will be saved to your profile."})]})}):jsxRuntimeExports.jsx("div",{className:"bg-gray-50 p-4 rounded-lg border border-gray-200",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-2",children:[jsxRuntimeExports.jsx(User,{className:"text-gray-600",size:16}),jsxRuntimeExports.jsx("p",{className:"text-gray-700 text-sm font-medium",children:"Order as guest (no account required)"})]})}),jsxRuntimeExports.jsx("div",{className:"bg-blue-50 p-4 rounded-lg border border-blue-200",children:jsxRuntimeExports.jsxs("div",{className:"flex items-start space-x-2",children:[jsxRuntimeExports.jsx(MapPin,{className:"text-blue-600 mt-0.5",size:16}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("p",{className:"text-blue-800 text-sm font-medium",children:"Delivery Address"}),jsxRuntimeExports.jsx("p",{className:"text-blue-700 text-sm",children:i==null?void 0:i.address}),jsxRuntimeExports.jsxs("p",{className:"text-blue-700 text-sm",children:[i==null?void 0:i.city,", ",i==null?void 0:i.pincode]})]})]})}),jsxRuntimeExports.jsxs("div",{className:"flex space-x-3 pt-4",children:[jsxRuntimeExports.jsx(Button,{variant:"outline",onClick:()=>ct("otp"),children:"Back"}),jsxRuntimeExports.jsxs(Button,{variant:"primary",onClick:jt,loading:dt,disabled:dt,className:"flex items-center space-x-2",children:[jsxRuntimeExports.jsx(Banknote,{size:16}),jsxRuntimeExports.jsx("span",{children:dt?"Placing Order...":"Place Order (Cash on Delivery)"})]})]})]}),Ht=()=>jsxRuntimeExports.jsxs("div",{className:"text-center space-y-4",children:[jsxRuntimeExports.jsx("div",{className:"w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mx-auto",children:jsxRuntimeExports.jsx(Check,{className:"text-green-600",size:32})}),jsxRuntimeExports.jsx("h3",{className:"text-xl font-semibold text-green-800",children:"Order Placed Successfully!"}),jsxRuntimeExports.jsx("p",{className:"text-gray-600",children:"Your order has been confirmed and will be delivered to your address shortly."}),jsxRuntimeExports.jsx("div",{className:"bg-gray-50 p-4 rounded-lg border",children:jsxRuntimeExports.jsxs("p",{className:"text-sm text-gray-700",children:[jsxRuntimeExports.jsx("strong",{children:"Delivery Address:"}),jsxRuntimeExports.jsx("br",{}),i==null?void 0:i.address,jsxRuntimeExports.jsx("br",{}),i==null?void 0:i.city,", ",i==null?void 0:i.pincode]})})]}),qt=()=>{switch(it){case"address":return Vt();case"details":return Lt();case"phone":return $t();case"otp":return Mt();case"payment":return Tt();case"success":return Ht();default:return Vt()}};return jsxRuntimeExports.jsx(AnimatePresence,{children:e&&jsxRuntimeExports.jsx(motion.div,{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:it==="success"?void 0:It,children:jsxRuntimeExports.jsxs(motion.div,{className:"bg-white rounded-lg shadow-xl w-full max-w-2xl max-h-[90vh] overflow-y-auto",initial:{scale:.95,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.95,opacity:0},onClick:kt=>kt.stopPropagation(),children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[jsxRuntimeExports.jsx("h2",{className:"text-2xl font-semibold text-gray-900",children:it==="success"?"Order Confirmation":"Checkout"}),it!=="success"&&jsxRuntimeExports.jsx("button",{onClick:It,className:"p-2 hover:bg-gray-100 rounded-full transition-colors","aria-label":"Close checkout",children:jsxRuntimeExports.jsx(X,{size:24})})]}),jsxRuntimeExports.jsxs("div",{className:"p-6",children:[it!=="success"&&Gt(),qt()]})]})})})},CartOverlay=({isOpen:e,onClose:s,deliveryLocation:i})=>{const{items:a,updateQuantity:o,removeFromCart:c,subtotal:h,totalItems:d}=useCart(),[g,b]=reactExports.useState(!1),{loading:_,error:$,formattedBreakdown:j,recalculate:st,hasSmallOrderFee:tt,smallOrderThreshold:nt,total:at,estimatedDeliveryTime:_e}=useCartCalculation({subtotal:h,autoCalculate:e&&a.length>0});reactExports.useEffect(()=>{e&&a.length>0&&!j&&st()},[e,a.length]);const rt=mt=>{if(!mt||!mt.selections)return[];const xt=[];return Object.entries(mt.selections).forEach(([St,vt])=>{if(typeof vt=="string"){const wt=et(St),_t=it(vt);wt&&_t&&xt.push(`${wt}: ${_t}`)}else if(Array.isArray(vt)){const wt=et(St),_t=vt.map(it).filter(Boolean);wt&&_t.length>0&&xt.push(`${wt}: ${_t.join(", ")}`)}}),xt},et=mt=>({c1:"Wing Sauce",c2:"Quantity",c3:"Dipping Sauce",c4:"Protein Add-ons",c5:"Doneness",c6:"Extra Toppings",c7:"Side",c8:"Extra Toppings",c9:"Side",c10:"Size",c11:"Crust Type",c12:"Extra Toppings",c13:"Flavor",c14:"Size",c15:"Size",c16:"Add-ons",c17:"Size",c18:"Toppings"})[mt]||mt,it=mt=>({"c1-1":"Buffalo","c1-2":"BBQ","c1-3":"Honey Garlic","c1-4":"Extra Hot","c2-1":"6 Wings","c2-2":"12 Wings","c2-3":"24 Wings","c3-1":"Marinara","c3-2":"Ranch","c3-3":"Garlic Aioli","c4-1":"Grilled Chicken","c4-2":"Ground Beef","c4-3":"Pulled Pork","c5-1":"Medium Rare","c5-2":"Medium","c5-3":"Well Done","c6-1":"Extra Cheese","c6-2":"Bacon","c6-3":"Avocado","c6-4":"Fried Egg","c6-5":"Mushrooms","c7-1":"French Fries","c7-2":"Sweet Potato Fries","c7-3":"Onion Rings","c7-4":"Side Salad","c8-1":"Extra Avocado","c8-2":"Hummus","c8-3":"Sprouts","c8-4":"Roasted Red Peppers","c9-1":"Sweet Potato Fries","c9-2":"Side Salad","c9-3":"Fruit Cup","c10-1":'Small (10")',"c10-2":'Medium (12")',"c10-3":'Large (14")',"c10-4":'Extra Large (16")',"c11-1":"Regular Crust","c11-2":"Thin Crust","c11-3":"Thick Crust","c11-4":"Stuffed Crust","c12-1":"Extra Cheese","c12-2":"Pepperoni","c12-3":"Mushrooms","c12-4":"Bell Peppers","c12-5":"Italian Sausage","c12-6":"Olives","c12-7":"Pineapple","c12-8":"Jalapeos","c13-1":"Classic","c13-2":"Strawberry","c13-3":"Raspberry","c13-4":"Mint","c14-1":"Small","c14-2":"Medium","c14-3":"Large","c15-1":"Small","c15-2":"Medium","c15-3":"Large","c17-1":"Small","c17-2":"Medium","c17-3":"Large","c16-1":"Extra Shot","c16-2":"Vanilla Syrup","c16-3":"Caramel Syrup","c16-4":"Almond Milk","c18-1":"Whipped Cream","c18-2":"Cherry","c18-3":"Chocolate Chips","c18-4":"Extra Strawberries"})[mt]||mt,ot={hidden:{opacity:0},visible:{opacity:1}},ut={hidden:{x:"100%"},visible:{x:0,transition:{type:"spring",damping:25,stiffness:250}}},ht={hidden:{opacity:0,y:20},visible:{opacity:1,y:0}},dt=mt=>{const xt=mt.split(",").map(wt=>wt.trim()),St=xt[xt.length-1],vt=St.match(/([A-Z]\d[A-Z]\s?\d[A-Z]\d)/i);if(vt){const wt=vt[1];return{city:St.replace(vt[0],"").trim()||xt[xt.length-2]||"Unknown",postalCode:wt}}return{city:St||"Unknown",postalCode:"N/A"}};return jsxRuntimeExports.jsxs(AnimatePresence,{children:[e&&jsxRuntimeExports.jsx(motion.div,{className:"fixed inset-0 bg-black bg-opacity-50 z-50",initial:"hidden",animate:"visible",exit:"hidden",variants:ot,onClick:s,children:jsxRuntimeExports.jsxs(motion.div,{className:"absolute right-0 top-0 h-full w-full max-w-md bg-white shadow-xl flex flex-col",variants:ut,onClick:mt=>mt.stopPropagation(),children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-gray-200",children:[jsxRuntimeExports.jsxs("h2",{className:"text-xl font-semibold",children:["Your Cart (",d,")"]}),jsxRuntimeExports.jsx("button",{onClick:s,className:"p-2 hover:bg-gray-100 rounded-full transition-colors","aria-label":"Close cart",children:jsxRuntimeExports.jsx(X,{size:24})})]}),jsxRuntimeExports.jsx("div",{className:"flex-1 overflow-y-auto p-4",children:a.length===0?jsxRuntimeExports.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-gray-500",children:[jsxRuntimeExports.jsx("p",{className:"text-lg mb-4",children:"Your cart is empty"}),jsxRuntimeExports.jsx(Button,{variant:"outline",onClick:s,children:"Continue Shopping"})]}):jsxRuntimeExports.jsxs(motion.div,{className:"space-y-4",children:[a.map(mt=>jsxRuntimeExports.jsxs(motion.div,{variants:ht,initial:"hidden",animate:"visible",exit:"hidden",className:"flex items-start space-x-4 p-4 bg-gray-50 rounded-lg",children:[jsxRuntimeExports.jsxs("div",{className:"flex-1",children:[jsxRuntimeExports.jsx("h3",{className:"font-medium text-gray-900",children:mt.name}),mt.customization&&jsxRuntimeExports.jsxs("div",{className:"mt-1",children:[rt(mt.customization).map((xt,St)=>jsxRuntimeExports.jsxs("p",{className:"text-sm text-gray-600",children:[" ",xt]},St)),mt.customization.specialInstructions&&jsxRuntimeExports.jsxs("p",{className:"text-sm text-gray-500 mt-1 italic",children:["Note: ",mt.customization.specialInstructions]})]}),jsxRuntimeExports.jsxs("div",{className:"mt-2 flex items-center space-x-4",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-2",children:[jsxRuntimeExports.jsx("button",{onClick:()=>o(mt.id,mt.quantity-1),className:"p-1 hover:bg-gray-200 rounded-full transition-colors",disabled:mt.quantity<=1,"aria-label":"Decrease quantity",children:jsxRuntimeExports.jsx(Minus,{size:16})}),jsxRuntimeExports.jsx("span",{className:"w-8 text-center",children:mt.quantity}),jsxRuntimeExports.jsx("button",{onClick:()=>o(mt.id,mt.quantity+1),className:"p-1 hover:bg-gray-200 rounded-full transition-colors","aria-label":"Increase quantity",children:jsxRuntimeExports.jsx(Plus,{size:16})})]}),jsxRuntimeExports.jsx("button",{onClick:()=>c(mt.id),className:"p-1 text-red-500 hover:bg-red-50 rounded-full transition-colors","aria-label":"Remove item",children:jsxRuntimeExports.jsx(Trash2,{size:16})})]})]}),jsxRuntimeExports.jsx("div",{className:"text-right",children:jsxRuntimeExports.jsxs("p",{className:"font-medium",children:["$",(mt.price*mt.quantity).toFixed(2)]})})]},mt.id)),tt&&jsxRuntimeExports.jsxs("div",{className:"bg-amber-50 border border-amber-200 rounded-lg p-3 flex items-start space-x-2",children:[jsxRuntimeExports.jsx(AlertCircle,{size:16,className:"text-amber-600 mt-0.5"}),jsxRuntimeExports.jsxs("div",{className:"text-sm text-amber-800",children:[jsxRuntimeExports.jsx("p",{className:"font-medium",children:"Small order fee applies"}),jsxRuntimeExports.jsxs("p",{children:["Add $",(nt-h).toFixed(2)," more to avoid the small order fee."]})]})]})]})}),a.length>0&&jsxRuntimeExports.jsxs("div",{className:"border-t border-gray-200 p-4 bg-gray-50",children:[_&&jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-center py-2 text-gray-500",children:[jsxRuntimeExports.jsx(RefreshCw,{size:16,className:"animate-spin mr-2"}),jsxRuntimeExports.jsx("span",{className:"text-sm",children:"Calculating totals..."})]}),$&&jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between py-2 text-amber-600 bg-amber-50 rounded px-3 mb-3",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center",children:[jsxRuntimeExports.jsx(AlertCircle,{size:16,className:"mr-2"}),jsxRuntimeExports.jsx("span",{className:"text-sm",children:$})]}),jsxRuntimeExports.jsx("button",{onClick:st,className:"text-amber-700 hover:text-amber-800 text-sm underline",children:"Retry"})]}),j?jsxRuntimeExports.jsxs("div",{className:"space-y-2 mb-4",children:[jsxRuntimeExports.jsxs("div",{className:"flex justify-between text-sm",children:[jsxRuntimeExports.jsx("span",{children:j.subtotal.label}),jsxRuntimeExports.jsx("span",{children:j.subtotal.formatted})]}),jsxRuntimeExports.jsxs("div",{className:"flex justify-between text-sm",children:[jsxRuntimeExports.jsx("span",{children:j.deliveryFee.label}),jsxRuntimeExports.jsx("span",{children:j.deliveryFee.formatted})]}),jsxRuntimeExports.jsxs("div",{className:"flex justify-between text-sm",children:[jsxRuntimeExports.jsx("span",{children:j.fees.label}),jsxRuntimeExports.jsx("span",{children:j.fees.formatted})]}),jsxRuntimeExports.jsxs("div",{className:"flex justify-between text-sm",children:[jsxRuntimeExports.jsx("span",{children:j.tax.label}),jsxRuntimeExports.jsx("span",{children:j.tax.formatted})]}),jsxRuntimeExports.jsxs("div",{className:"border-t pt-2 flex justify-between font-semibold",children:[jsxRuntimeExports.jsx("span",{children:j.total.label}),jsxRuntimeExports.jsx("span",{children:j.total.formatted})]}),jsxRuntimeExports.jsxs("div",{className:"text-xs text-gray-500 text-center",children:["Estimated delivery: ",j.estimatedDeliveryTime]})]}):jsxRuntimeExports.jsxs("div",{className:"flex justify-between mb-4",children:[jsxRuntimeExports.jsx("span",{className:"font-medium",children:"Subtotal"}),jsxRuntimeExports.jsxs("span",{className:"font-medium",children:["$",h.toFixed(2)]})]}),jsxRuntimeExports.jsx(Button,{variant:"primary",fullWidth:!0,disabled:_,onClick:()=>b(!0),children:_?"Calculating...":"Proceed to Checkout"})]})]})}),jsxRuntimeExports.jsx(CheckoutModal,{isOpen:g,onClose:()=>b(!1),deliveryAddress:{address:i.address,city:dt(i.address).city,pincode:dt(i.address).postalCode,phone:""},orderTotal:at||h})]})},PendingOrdersPanel=({isOpen:e,onClose:s})=>{const{getPendingOrders:i}=useOrders(),[a,o]=reactExports.useState(new Set),c=i(),h=st=>{o(tt=>{const nt=new Set(tt);return nt.has(st)?nt.delete(st):nt.add(st),nt})},d=st=>{switch(st){case"pending":return"text-amber-600 bg-amber-50 border-amber-200";case"confirmed":return"text-blue-600 bg-blue-50 border-blue-200";case"preparing":return"text-orange-600 bg-orange-50 border-orange-200";case"ready":return"text-green-600 bg-green-50 border-green-200";case"out_for_delivery":return"text-purple-600 bg-purple-50 border-purple-200";default:return"text-gray-600 bg-gray-50 border-gray-200"}},g=st=>{switch(st){case"pending":return jsxRuntimeExports.jsx(Clock,{size:16});case"confirmed":return jsxRuntimeExports.jsx(CheckCircle,{size:16});case"preparing":return jsxRuntimeExports.jsx(Package,{size:16});case"ready":return jsxRuntimeExports.jsx(AlertCircle,{size:16});case"out_for_delivery":return jsxRuntimeExports.jsx(Truck,{size:16});default:return jsxRuntimeExports.jsx(Clock,{size:16})}},b=st=>{switch(st){case"pending":return"Order Pending";case"confirmed":return"Order Confirmed";case"preparing":return"Being Prepared";case"ready":return"Ready for Pickup";case"out_for_delivery":return"Out for Delivery";default:return"Processing"}},_=st=>new Intl.DateTimeFormat("en-US",{hour:"2-digit",minute:"2-digit",hour12:!0}).format(st),$=st=>{const tt=new Date,nt=new Date(st);return nt.toDateString()===tt.toDateString()?"Today":new Intl.DateTimeFormat("en-US",{month:"short",day:"numeric"}).format(nt)},j=st=>{const tt=a.has(st.id),nt=d(st.status),at=g(st.status),_e=b(st.status);return jsxRuntimeExports.jsxs(motion.div,{className:"bg-white border border-gray-200 rounded-lg shadow-sm mb-4",initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},children:[jsxRuntimeExports.jsx("div",{className:"p-4 cursor-pointer",onClick:()=>h(st.id),children:jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-3",children:[jsxRuntimeExports.jsxs("div",{className:`px-3 py-1 rounded-full border text-sm font-medium flex items-center space-x-1 ${nt}`,children:[at,jsxRuntimeExports.jsx("span",{children:_e})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsxs("p",{className:"font-semibold text-gray-900",children:["#",st.orderNumber]}),jsxRuntimeExports.jsxs("p",{className:"text-sm text-gray-500",children:[$(st.createdAt)," at ",_(st.createdAt)]})]})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-3",children:[jsxRuntimeExports.jsxs("div",{className:"text-right",children:[jsxRuntimeExports.jsxs("p",{className:"font-semibold text-gray-900",children:["$",st.pricing.total.toFixed(2)]}),jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-500",children:st.estimatedDeliveryTime})]}),tt?jsxRuntimeExports.jsx(ChevronUp,{size:20}):jsxRuntimeExports.jsx(ChevronDown,{size:20})]})]})}),jsxRuntimeExports.jsx(AnimatePresence,{children:tt&&jsxRuntimeExports.jsx(motion.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},className:"border-t border-gray-200",children:jsxRuntimeExports.jsxs("div",{className:"p-4 space-y-4",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:"Order Items"}),jsxRuntimeExports.jsx("div",{className:"space-y-2",children:st.items.map((rt,et)=>{var it;return jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-start text-sm",children:[jsxRuntimeExports.jsxs("div",{className:"flex-1",children:[jsxRuntimeExports.jsxs("p",{className:"font-medium",children:[rt.quantity,"x ",rt.name]}),((it=rt.customization)==null?void 0:it.specialInstructions)&&jsxRuntimeExports.jsxs("p",{className:"text-gray-500 text-xs mt-1",children:["Note: ",rt.customization.specialInstructions]})]}),jsxRuntimeExports.jsxs("p",{className:"font-medium",children:["$",rt.totalPrice.toFixed(2)]})]},et)})})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsxs("h4",{className:"font-medium text-gray-900 mb-2 flex items-center",children:[jsxRuntimeExports.jsx(MapPin,{size:16,className:"mr-1"}),"Delivery Address"]}),jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-600",children:st.deliveryAddress.address}),jsxRuntimeExports.jsxs("p",{className:"text-sm text-gray-600",children:[st.deliveryAddress.city,", ",st.deliveryAddress.pincode]})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:"Customer Details"}),jsxRuntimeExports.jsxs("div",{className:"text-sm text-gray-600 space-y-1",children:[jsxRuntimeExports.jsx("p",{children:st.customerDetails.name}),jsxRuntimeExports.jsxs("p",{className:"flex items-center",children:[jsxRuntimeExports.jsx(Phone,{size:14,className:"mr-1"}),st.customerDetails.phone]}),st.customerDetails.deliveryInstructions&&jsxRuntimeExports.jsxs("p",{className:"text-xs",children:[jsxRuntimeExports.jsx("strong",{children:"Instructions:"})," ",st.customerDetails.deliveryInstructions]})]})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:"Order Progress"}),jsxRuntimeExports.jsx("div",{className:"space-y-2",children:[{key:"orderPlaced",label:"Order Placed",status:"pending"},{key:"confirmed",label:"Order Confirmed",status:"confirmed"},{key:"preparing",label:"Being Prepared",status:"preparing"},{key:"ready",label:"Ready",status:"ready"},{key:"outForDelivery",label:"Out for Delivery",status:"out_for_delivery"}].map(rt=>{var ot;const et=(ot=st.tracking)==null?void 0:ot[rt.key],it=st.status===rt.status;return jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-3",children:[jsxRuntimeExports.jsx("div",{className:`w-3 h-3 rounded-full ${et?"bg-green-500":it?"bg-blue-500":"bg-gray-300"}`}),jsxRuntimeExports.jsxs("div",{className:"flex-1 flex justify-between items-center",children:[jsxRuntimeExports.jsx("span",{className:`text-sm ${et||it?"text-gray-900":"text-gray-500"}`,children:rt.label}),et&&jsxRuntimeExports.jsx("span",{className:"text-xs text-gray-500",children:_(st.tracking[rt.key])})]})]},rt.key)})})]}),jsxRuntimeExports.jsxs("div",{className:"border-t pt-3",children:[jsxRuntimeExports.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:"Price Breakdown"}),jsxRuntimeExports.jsxs("div",{className:"space-y-1 text-sm",children:[jsxRuntimeExports.jsxs("div",{className:"flex justify-between",children:[jsxRuntimeExports.jsx("span",{children:"Subtotal"}),jsxRuntimeExports.jsxs("span",{children:["$",st.pricing.subtotal.toFixed(2)]})]}),jsxRuntimeExports.jsxs("div",{className:"flex justify-between",children:[jsxRuntimeExports.jsx("span",{children:"Tax"}),jsxRuntimeExports.jsxs("span",{children:["$",st.pricing.tax.toFixed(2)]})]}),jsxRuntimeExports.jsxs("div",{className:"flex justify-between",children:[jsxRuntimeExports.jsx("span",{children:"Delivery Fee"}),jsxRuntimeExports.jsxs("span",{children:["$",st.pricing.deliveryFee.toFixed(2)]})]}),jsxRuntimeExports.jsxs("div",{className:"flex justify-between",children:[jsxRuntimeExports.jsx("span",{children:"Fees"}),jsxRuntimeExports.jsxs("span",{children:["$",st.pricing.fees.toFixed(2)]})]}),jsxRuntimeExports.jsxs("div",{className:"flex justify-between font-semibold text-base border-t pt-1",children:[jsxRuntimeExports.jsx("span",{children:"Total"}),jsxRuntimeExports.jsxs("span",{children:["$",st.pricing.total.toFixed(2)]})]})]})]})]})})})]},st.id)};return jsxRuntimeExports.jsx(AnimatePresence,{children:e&&jsxRuntimeExports.jsx(motion.div,{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:s,children:jsxRuntimeExports.jsxs(motion.div,{className:"bg-gray-50 rounded-lg shadow-xl w-full max-w-4xl max-h-[90vh] flex flex-col",initial:{scale:.95,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.95,opacity:0},onClick:st=>st.stopPropagation(),children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200 bg-white rounded-t-lg",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h2",{className:"text-2xl font-semibold text-gray-900",children:"Pending Orders"}),jsxRuntimeExports.jsxs("p",{className:"text-gray-600",children:[c.length," active ",c.length===1?"order":"orders"]})]}),jsxRuntimeExports.jsx("button",{onClick:s,className:"p-2 hover:bg-gray-100 rounded-full transition-colors","aria-label":"Close orders panel",children:jsxRuntimeExports.jsx(X,{size:24})})]}),jsxRuntimeExports.jsx("div",{className:"flex-1 overflow-y-auto p-6",children:c.length===0?jsxRuntimeExports.jsxs("div",{className:"text-center py-12",children:[jsxRuntimeExports.jsx(Package,{size:48,className:"mx-auto text-gray-400 mb-4"}),jsxRuntimeExports.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No Pending Orders"}),jsxRuntimeExports.jsx("p",{className:"text-gray-500",children:"Your recent orders will appear here once you place them."})]}):jsxRuntimeExports.jsx("div",{className:"space-y-4",children:c.map(j)})}),jsxRuntimeExports.jsx("div",{className:"border-t border-gray-200 p-4 bg-white rounded-b-lg",children:jsxRuntimeExports.jsx(Button,{variant:"outline",onClick:s,fullWidth:!0,children:"Close"})})]})})})},LoginModal=({isOpen:e,onClose:s,onLoginSuccess:i})=>{const{signInWithPhone:a,verifyOTP:o,updateUserProfile:c}=useAuth(),[h,d]=reactExports.useState("phone"),[g,b]=reactExports.useState(""),[_,$]=reactExports.useState(""),[j,st]=reactExports.useState({name:"",email:""}),[tt,nt]=reactExports.useState(!1),[at,_e]=reactExports.useState(""),rt=vt=>{const wt=/^[\+]?[1-9][\d]{0,15}$/,_t=vt.replace(/[\s\-\(\)]/g,"");return wt.test(_t)&&_t.length>=10},et=async()=>{if(!rt(g)){_e("Please enter a valid phone number");return}nt(!0),_e("");const vt=await a(g);vt.success?d("otp"):_e(vt.error||"Failed to send OTP"),nt(!1)},it=async()=>{if(_.length!==6){_e("Please enter a valid 6-digit OTP");return}nt(!0),_e("");const vt=await o(g,_);vt.success&&vt.user?!vt.user.name||!vt.user.email?d("profile"):(d("success"),setTimeout(()=>{i==null||i(),ut()},2e3)):_e(vt.error||"Invalid OTP"),nt(!1)},ot=async()=>{if(!j.name.trim()||!j.email.trim()){_e("Please fill in all required fields");return}if(!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(j.email)){_e("Please enter a valid email address");return}nt(!0),_e("");const wt=await c(j);wt.success?(d("success"),setTimeout(()=>{i==null||i(),ut()},2e3)):_e(wt.error||"Failed to update profile"),nt(!1)},ut=()=>{d("phone"),b(""),$(""),st({name:"",email:""}),_e(""),nt(!1),s()},ht=()=>jsxRuntimeExports.jsxs("div",{className:"space-y-4",children:[jsxRuntimeExports.jsxs("div",{className:"text-center mb-6",children:[jsxRuntimeExports.jsx("div",{className:"w-16 h-16 bg-blue-100 rounded-full flex items-center justify-center mx-auto mb-4",children:jsxRuntimeExports.jsx(Phone,{className:"text-blue-600",size:32})}),jsxRuntimeExports.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Welcome to MapleEats"}),jsxRuntimeExports.jsx("p",{className:"text-gray-600",children:"Enter your phone number to get started"})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Phone Number"}),jsxRuntimeExports.jsx("input",{type:"tel",value:g,onChange:vt=>{b(vt.target.value),at&&_e("")},className:`w-full px-3 py-2 border rounded-md focus:ring-blue-500 focus:border-blue-500 ${at?"border-red-500":"border-gray-300"}`,placeholder:"+1234567890",disabled:tt}),at&&jsxRuntimeExports.jsx("p",{className:"mt-1 text-sm text-red-600",children:at})]}),jsxRuntimeExports.jsx(Button,{variant:"primary",fullWidth:!0,onClick:et,loading:tt,disabled:tt||!g.trim(),children:tt?"Sending OTP...":"Send OTP"})]}),dt=()=>jsxRuntimeExports.jsxs("div",{className:"space-y-4",children:[jsxRuntimeExports.jsxs("div",{className:"text-center mb-6",children:[jsxRuntimeExports.jsx("div",{className:"w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-4",children:jsxRuntimeExports.jsx(Check,{className:"text-green-600",size:32})}),jsxRuntimeExports.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Verify Your Phone"}),jsxRuntimeExports.jsxs("p",{className:"text-gray-600",children:["Enter the 6-digit code sent to ",jsxRuntimeExports.jsx("strong",{children:g})]})]}),jsxRuntimeExports.jsx("div",{className:"bg-amber-50 p-3 rounded-lg border border-amber-200 mb-4",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-2",children:[jsxRuntimeExports.jsx("span",{className:"text-amber-600",children:""}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("p",{className:"text-amber-800 text-sm font-medium",children:"Test Mode Active"}),jsxRuntimeExports.jsx("p",{className:"text-amber-700 text-xs",children:'Use "123456" as the verification code'})]})]})}),jsxRuntimeExports.jsx("div",{className:"flex justify-center space-x-2 mb-4",children:[...Array(6)].map((vt,wt)=>jsxRuntimeExports.jsx("input",{type:"text",maxLength:1,value:_[wt]||"",onChange:_t=>{var pt;const bt=_t.target.value.replace(/[^0-9]/g,""),ft=_.split("");if(ft[wt]=bt,$(ft.join("")),at&&_e(""),bt&&wt<5){const lt=(pt=_t.target.parentElement)==null?void 0:pt.children[wt+1];lt==null||lt.focus()}},onKeyDown:_t=>{var bt;if(_t.key==="Backspace"&&!_[wt]&&wt>0){const ft=(bt=_t.target.parentElement)==null?void 0:bt.children[wt-1];ft==null||ft.focus()}},className:`w-12 h-12 text-center text-lg font-semibold border rounded-md focus:ring-blue-500 focus:border-blue-500 ${at?"border-red-500":"border-gray-300"}`,disabled:tt},wt))}),at&&jsxRuntimeExports.jsx("p",{className:"text-center text-sm text-red-600",children:at}),jsxRuntimeExports.jsxs("div",{className:"space-y-3",children:[jsxRuntimeExports.jsx(Button,{variant:"primary",fullWidth:!0,onClick:it,loading:tt,disabled:tt||_.length!==6,children:tt?"Verifying...":"Verify OTP"}),jsxRuntimeExports.jsx("button",{onClick:()=>d("phone"),className:"w-full text-center text-sm text-blue-600 hover:text-blue-700",disabled:tt,children:"Change phone number"})]})]}),mt=()=>jsxRuntimeExports.jsxs("div",{className:"space-y-4",children:[jsxRuntimeExports.jsxs("div",{className:"text-center mb-6",children:[jsxRuntimeExports.jsx("div",{className:"w-16 h-16 bg-purple-100 rounded-full flex items-center justify-center mx-auto mb-4",children:jsxRuntimeExports.jsx(User,{className:"text-purple-600",size:32})}),jsxRuntimeExports.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Complete Your Profile"}),jsxRuntimeExports.jsx("p",{className:"text-gray-600",children:"Help us personalize your experience"})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-4",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Full Name *"}),jsxRuntimeExports.jsx("input",{type:"text",value:j.name,onChange:vt=>{st(wt=>({...wt,name:vt.target.value})),at&&_e("")},className:`w-full px-3 py-2 border rounded-md focus:ring-blue-500 focus:border-blue-500 ${at?"border-red-500":"border-gray-300"}`,placeholder:"Enter your full name",disabled:tt})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email Address *"}),jsxRuntimeExports.jsx("input",{type:"email",value:j.email,onChange:vt=>{st(wt=>({...wt,email:vt.target.value})),at&&_e("")},className:`w-full px-3 py-2 border rounded-md focus:ring-blue-500 focus:border-blue-500 ${at?"border-red-500":"border-gray-300"}`,placeholder:"Enter your email",disabled:tt})]})]}),at&&jsxRuntimeExports.jsx("p",{className:"text-sm text-red-600",children:at}),jsxRuntimeExports.jsx(Button,{variant:"primary",fullWidth:!0,onClick:ot,loading:tt,disabled:tt||!j.name.trim()||!j.email.trim(),children:tt?"Saving...":"Complete Profile"})]}),xt=()=>jsxRuntimeExports.jsxs("div",{className:"text-center space-y-4",children:[jsxRuntimeExports.jsx("div",{className:"w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mx-auto",children:jsxRuntimeExports.jsx(Check,{className:"text-green-600",size:32})}),jsxRuntimeExports.jsx("h3",{className:"text-xl font-semibold text-green-800",children:"Welcome to MapleEats!"}),jsxRuntimeExports.jsx("p",{className:"text-gray-600",children:"You're successfully logged in. Enjoy ordering your favorite food!"})]}),St=()=>{switch(h){case"phone":return ht();case"otp":return dt();case"profile":return mt();case"success":return xt();default:return ht()}};return jsxRuntimeExports.jsx(AnimatePresence,{children:e&&jsxRuntimeExports.jsx(motion.div,{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:h==="success"?void 0:ut,children:jsxRuntimeExports.jsxs(motion.div,{className:"bg-white rounded-lg shadow-xl w-full max-w-md max-h-[90vh] overflow-y-auto",initial:{scale:.95,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.95,opacity:0},onClick:vt=>vt.stopPropagation(),children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[jsxRuntimeExports.jsx("h2",{className:"text-2xl font-semibold text-gray-900",children:h==="success"?"Success!":"Login"}),h!=="success"&&jsxRuntimeExports.jsx("button",{onClick:ut,className:"p-2 hover:bg-gray-100 rounded-full transition-colors","aria-label":"Close login",disabled:tt,children:jsxRuntimeExports.jsx(X,{size:24})})]}),jsxRuntimeExports.jsx("div",{className:"p-6",children:St()})]})})})},UserProfileModal=({isOpen:e,onClose:s})=>{const{user:i,updateUserProfile:a,signOut:o}=useAuth(),[c,h]=reactExports.useState([]),[d,g]=reactExports.useState(!1),[b,_]=reactExports.useState(!1),[$,j]=reactExports.useState({name:(i==null?void 0:i.name)||"",email:(i==null?void 0:i.email)||""}),[st,tt]=reactExports.useState("");reactExports.useEffect(()=>{e&&i&&(nt(),j({name:i.name||"",email:i.email||""}))},[e,i]);const nt=async()=>{if(i){g(!0);try{const it=await OrderService.getUserOrders(i.id);if(it.success&&it.orders){const ot=it.orders.map(OrderService.convertToLocalOrder);h(ot)}}catch(it){console.error("Error fetching user orders:",it)}finally{g(!1)}}},at=async()=>{if(!$.name.trim()||!$.email.trim()){tt("Please fill in all required fields");return}if(!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test($.email)){tt("Please enter a valid email address");return}g(!0),tt("");const ot=await a($);ot.success?_(!1):tt(ot.error||"Failed to update profile"),g(!1)},_e=it=>{switch(it){case"pending":return"bg-yellow-100 text-yellow-800";case"confirmed":return"bg-blue-100 text-blue-800";case"preparing":return"bg-orange-100 text-orange-800";case"ready":return"bg-purple-100 text-purple-800";case"out_for_delivery":return"bg-indigo-100 text-indigo-800";case"delivered":return"bg-green-100 text-green-800";case"cancelled":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},rt=it=>it.replace("_"," ").replace(/\b\w/g,ot=>ot.toUpperCase()),et=async()=>{await o(),s()};return i?jsxRuntimeExports.jsx(AnimatePresence,{children:e&&jsxRuntimeExports.jsx(motion.div,{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:s,children:jsxRuntimeExports.jsxs(motion.div,{className:"bg-white rounded-lg shadow-xl w-full max-w-2xl max-h-[90vh] overflow-hidden",initial:{scale:.95,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.95,opacity:0},onClick:it=>it.stopPropagation(),children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[jsxRuntimeExports.jsx("h2",{className:"text-2xl font-semibold text-gray-900",children:"My Profile"}),jsxRuntimeExports.jsx("button",{onClick:s,className:"p-2 hover:bg-gray-100 rounded-full transition-colors","aria-label":"Close profile",children:jsxRuntimeExports.jsx(X,{size:24})})]}),jsxRuntimeExports.jsxs("div",{className:"overflow-y-auto max-h-[calc(90vh-80px)]",children:[jsxRuntimeExports.jsxs("div",{className:"p-6 border-b border-gray-200",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-4 mb-6",children:[jsxRuntimeExports.jsx("div",{className:"w-16 h-16 bg-blue-100 rounded-full flex items-center justify-center",children:jsxRuntimeExports.jsx(User,{className:"text-blue-600",size:32})}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h3",{className:"text-xl font-semibold text-gray-900",children:i.name||"User"}),jsxRuntimeExports.jsx("p",{className:"text-gray-600",children:i.phone})]})]}),b?jsxRuntimeExports.jsxs("div",{className:"space-y-4",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Full Name"}),jsxRuntimeExports.jsx("input",{type:"text",value:$.name,onChange:it=>{j(ot=>({...ot,name:it.target.value})),st&&tt("")},className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500",disabled:d})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email Address"}),jsxRuntimeExports.jsx("input",{type:"email",value:$.email,onChange:it=>{j(ot=>({...ot,email:it.target.value})),st&&tt("")},className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500",disabled:d})]}),st&&jsxRuntimeExports.jsx("p",{className:"text-sm text-red-600",children:st}),jsxRuntimeExports.jsxs("div",{className:"flex space-x-3",children:[jsxRuntimeExports.jsx(Button,{variant:"primary",onClick:at,loading:d,disabled:d,children:d?"Saving...":"Save Changes"}),jsxRuntimeExports.jsx(Button,{variant:"secondary",onClick:()=>{_(!1),tt(""),j({name:i.name||"",email:i.email||""})},disabled:d,children:"Cancel"})]})]}):jsxRuntimeExports.jsxs("div",{className:"space-y-3",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-3",children:[jsxRuntimeExports.jsx(Phone,{size:16,className:"text-gray-400"}),jsxRuntimeExports.jsx("span",{className:"text-gray-700",children:i.phone})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-3",children:[jsxRuntimeExports.jsx(Mail,{size:16,className:"text-gray-400"}),jsxRuntimeExports.jsx("span",{className:"text-gray-700",children:i.email||"Not provided"})]}),jsxRuntimeExports.jsxs("div",{className:"flex space-x-3 mt-4",children:[jsxRuntimeExports.jsxs(Button,{variant:"secondary",onClick:()=>_(!0),className:"flex items-center space-x-2",children:[jsxRuntimeExports.jsx(User,{size:16}),jsxRuntimeExports.jsx("span",{children:"Edit Profile"})]}),jsxRuntimeExports.jsx(Button,{variant:"outline",onClick:et,className:"flex items-center space-x-2 text-red-600 border-red-300 hover:bg-red-50",children:jsxRuntimeExports.jsx("span",{children:"Sign Out"})})]})]})]}),jsxRuntimeExports.jsxs("div",{className:"p-6",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between mb-4",children:[jsxRuntimeExports.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Order History"}),jsxRuntimeExports.jsxs(Badge,{variant:"secondary",className:"text-xs",children:[c.length," orders"]})]}),d?jsxRuntimeExports.jsxs("div",{className:"text-center py-8",children:[jsxRuntimeExports.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto"}),jsxRuntimeExports.jsx("p",{className:"text-gray-600 mt-2",children:"Loading orders..."})]}):c.length===0?jsxRuntimeExports.jsxs("div",{className:"text-center py-8",children:[jsxRuntimeExports.jsx(Package,{className:"mx-auto h-12 w-12 text-gray-400"}),jsxRuntimeExports.jsx("p",{className:"text-gray-600 mt-2",children:"No orders yet"}),jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-500",children:"Your order history will appear here"})]}):jsxRuntimeExports.jsx("div",{className:"space-y-4",children:c.map(it=>jsxRuntimeExports.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between mb-3",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-3",children:[jsxRuntimeExports.jsx(Receipt,{size:16,className:"text-gray-400"}),jsxRuntimeExports.jsxs("span",{className:"font-medium text-gray-900",children:["#",it.orderNumber]})]}),jsxRuntimeExports.jsx(Badge,{className:_e(it.status),children:rt(it.status)})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-2 text-sm text-gray-600",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-2",children:[jsxRuntimeExports.jsx(Clock,{size:14}),jsxRuntimeExports.jsxs("span",{children:[it.createdAt.toLocaleDateString()," at ",it.createdAt.toLocaleTimeString()]})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-2",children:[jsxRuntimeExports.jsx(MapPin,{size:14}),jsxRuntimeExports.jsxs("span",{children:[it.deliveryAddress.address,", ",it.deliveryAddress.city]})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between pt-2 border-t border-gray-100",children:[jsxRuntimeExports.jsxs("span",{children:[it.items.length," item",it.items.length!==1?"s":""]}),jsxRuntimeExports.jsxs("span",{className:"font-semibold text-gray-900",children:["$",it.pricing.total.toFixed(2)]})]})]})]},it.id))})]})]})]})})}):null},TopBar=({title:e="MapleEats",subtitle:s="Fresh Food Delivered",showBackButton:i=!1,onBackClick:a,className:o=""})=>{const{getPendingOrders:c}=useOrders(),{user:h,isAuthenticated:d,signOut:g}=useAuth(),[b,_]=reactExports.useState(!1),[$,j]=reactExports.useState(!1),[st,tt]=reactExports.useState(!1),[nt,at]=reactExports.useState(!1),_e=c().length;return jsxRuntimeExports.jsxs("header",{className:`sticky top-0 z-50 bg-white shadow-sm border-b border-gray-200 ${o}`,children:[jsxRuntimeExports.jsx("div",{className:"container mx-auto px-4 py-3",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-3",children:[i&&a?jsxRuntimeExports.jsx("button",{onClick:a,className:"p-2 hover:bg-gray-100 rounded-full transition-colors","aria-label":"Go back",children:jsxRuntimeExports.jsx(ArrowLeft,{size:24,className:"text-gray-600"})}):jsxRuntimeExports.jsx("div",{className:"w-16 h-10 flex-shrink-0",children:jsxRuntimeExports.jsx("img",{src:"https://i.postimg.cc/DfBx7GQF/Adobe-Express-file.png",alt:"MapleEats Logo",className:"w-full h-full object-contain",onError:rt=>{var ot;const et=rt.target;et.onerror=null,et.style.display="none";const it=document.createElement("div");it.className="w-full h-full bg-blue-600 flex items-center justify-center text-white font-bold text-sm rounded-lg",it.textContent="ME",(ot=et.parentNode)==null||ot.appendChild(it)}})}),jsxRuntimeExports.jsxs("div",{className:"hidden sm:block",children:[jsxRuntimeExports.jsx("h1",{className:"text-lg font-bold text-gray-900",children:e}),jsxRuntimeExports.jsx("p",{className:"text-xs text-gray-500",children:s})]})]}),jsxRuntimeExports.jsx("div",{className:"sm:hidden",children:jsxRuntimeExports.jsx("h1",{className:"text-base font-bold text-gray-900",children:e})}),jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-2",children:[_e>0&&jsxRuntimeExports.jsxs("button",{onClick:()=>_(!0),className:"relative p-2 hover:bg-gray-100 rounded-full transition-colors","aria-label":"View pending orders",children:[jsxRuntimeExports.jsx(Package,{size:24,className:"text-gray-600"}),jsxRuntimeExports.jsx("span",{className:"absolute -top-1 -right-1 bg-red-500 text-white text-xs rounded-full w-5 h-5 flex items-center justify-center",children:_e})]}),d?jsxRuntimeExports.jsxs("div",{className:"relative",children:[jsxRuntimeExports.jsxs("button",{onClick:()=>tt(!st),className:"flex items-center space-x-2 p-2 hover:bg-gray-100 rounded-full transition-colors","aria-label":"User menu",children:[jsxRuntimeExports.jsx("div",{className:"w-8 h-8 bg-blue-100 rounded-full flex items-center justify-center",children:jsxRuntimeExports.jsx(User,{size:16,className:"text-blue-600"})}),jsxRuntimeExports.jsx("span",{className:"hidden sm:block text-sm font-medium text-gray-700",children:(h==null?void 0:h.name)||"User"})]}),st&&jsxRuntimeExports.jsxs("div",{className:"absolute right-0 mt-2 w-48 bg-white rounded-lg shadow-lg border border-gray-200 py-1 z-50",onMouseLeave:()=>tt(!1),children:[jsxRuntimeExports.jsxs("div",{className:"px-4 py-2 border-b border-gray-100",children:[jsxRuntimeExports.jsx("p",{className:"text-sm font-medium text-gray-900",children:h==null?void 0:h.name}),jsxRuntimeExports.jsx("p",{className:"text-xs text-gray-500",children:h==null?void 0:h.phone})]}),jsxRuntimeExports.jsxs("button",{onClick:()=>{at(!0),tt(!1)},className:"w-full text-left px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 flex items-center space-x-2",children:[jsxRuntimeExports.jsx(User,{size:14}),jsxRuntimeExports.jsx("span",{children:"My Profile"})]}),jsxRuntimeExports.jsxs("button",{onClick:()=>{g(),tt(!1)},className:"w-full text-left px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 flex items-center space-x-2",children:[jsxRuntimeExports.jsx(LogOut,{size:14}),jsxRuntimeExports.jsx("span",{children:"Sign Out"})]})]})]}):jsxRuntimeExports.jsxs("button",{onClick:()=>j(!0),className:"flex items-center space-x-2 px-3 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors text-sm font-medium",children:[jsxRuntimeExports.jsx(User,{size:16}),jsxRuntimeExports.jsx("span",{children:"Login"})]})]})]})}),jsxRuntimeExports.jsx(PendingOrdersPanel,{isOpen:b,onClose:()=>_(!1)}),jsxRuntimeExports.jsx(LoginModal,{isOpen:$,onClose:()=>j(!1),onLoginSuccess:()=>{j(!1),tt(!1)}}),jsxRuntimeExports.jsx(UserProfileModal,{isOpen:nt,onClose:()=>at(!1)})]})},OrdersButton=({className:e="",showLabel:s=!0})=>{const{getPendingOrders:i}=useOrders(),[a,o]=reactExports.useState(!1),c=i().length;return c===0?null:jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsxs("button",{onClick:()=>o(!0),className:`
          relative flex items-center space-x-2 px-4 py-2 bg-blue-600 text-white rounded-lg 
          hover:bg-blue-700 transition-colors shadow-sm
          ${e}
        `,"aria-label":"View pending orders",children:[jsxRuntimeExports.jsx(Package,{size:20}),s&&jsxRuntimeExports.jsx("span",{className:"font-medium",children:"My Orders"}),jsxRuntimeExports.jsx("span",{className:"absolute -top-2 -right-2 bg-red-500 text-white text-xs rounded-full w-6 h-6 flex items-center justify-center font-bold",children:c})]}),jsxRuntimeExports.jsx(PendingOrdersPanel,{isOpen:a,onClose:()=>o(!1)})]})},DeliveryMenu=({vendorId:e,addressId:s,deliveryLocation:i,onBackToRestaurants:a,className:o=""})=>{const[c,h]=reactExports.useState(null),[d,g]=reactExports.useState(null),[b,_]=reactExports.useState("grid"),[$,j]=reactExports.useState(!1),{categories:st,loading:tt,error:nt}=useCategories(s.toString());console.log("CATEGORIES>>>>>>>>>>>>>>>",st);const{products:at,loading:_e,error:rt}=useProducts(c==null?void 0:c.toString()),{options:et,loading:it,customization:ot,updateSingleSelection:ut,updateMultiSelection:ht,calculateTotalPrice:dt,validateSelections:mt,updateSpecialInstructions:xt}=useCustomization((d==null?void 0:d.id)||""),{addToCart:St,totalItems:vt}=useCart();reactExports.useEffect(()=>{st.length>0&&!c&&h(st[0].id)},[st,c]);const wt=pt=>{h(pt)},_t=pt=>{g(pt),pt.hasCustomization||St(pt,1)},bt=pt=>{d&&mt()&&(St(d,pt,ot),g(null))},ft=()=>{g(null)};return jsxRuntimeExports.jsxs("div",{className:`flex flex-col h-full ${o}`,children:[jsxRuntimeExports.jsx(TopBar,{title:"MapleEats",subtitle:"Fresh Food Delivered",showBackButton:!!a,onBackClick:a}),jsxRuntimeExports.jsx("header",{className:"sticky top-[64px] z-30 bg-white shadow-sm border-b border-gray-200",children:jsxRuntimeExports.jsxs("div",{className:"container mx-auto px-4 py-2 flex justify-between items-center",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-3",children:[jsxRuntimeExports.jsxs("div",{className:"hidden sm:block",children:[jsxRuntimeExports.jsx("h1",{className:"text-lg font-bold text-gray-900",children:"Restaurant Menu"}),jsxRuntimeExports.jsxs("p",{className:"text-xs text-gray-500",children:["Delivering to ",i.address.split(",")[0]]})]}),jsxRuntimeExports.jsx("div",{className:"sm:hidden",children:jsxRuntimeExports.jsx("h1",{className:"text-base font-bold text-gray-900",children:"Menu"})})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-2",children:[jsxRuntimeExports.jsx(OrdersButton,{showLabel:!1,className:"hidden sm:flex"}),jsxRuntimeExports.jsx(CartButton,{onClick:()=>j(!0)})]})]})}),jsxRuntimeExports.jsx(CategoryNavigation,{categories:st,activeCategory:c,onSelectCategory:wt,loading:tt,className:"sticky top-[128px] z-20 bg-white"}),jsxRuntimeExports.jsx(ProductGrid,{products:at,onSelectProduct:_t,loading:_e,error:rt,viewType:b,onToggleView:_,className:"flex-1 overflow-y-auto"}),d&&d.hasCustomization&&jsxRuntimeExports.jsx(ProductCustomizationModal,{product:d,options:et,initialCustomization:ot,onUpdateSingleSelection:ut,onUpdateMultiSelection:ht,onUpdateSpecialInstructions:xt,calculateTotalPrice:dt,isValid:mt(),onClose:ft,onAddToCart:bt,loading:it}),jsxRuntimeExports.jsx(CartOverlay,{isOpen:$,onClose:()=>j(!1),deliveryLocation:i})]})},defaultTheme={colors:{primary:"#F97316",secondary:"#0D9488",accent:"#F97316",success:"#22C55E",warning:"#EAB308",error:"#EF4444",background:"#F9FAFB",surface:"#FFFFFF",text:{primary:"#111827",secondary:"#4B5563",disabled:"#9CA3AF"}},borderRadius:"0.5rem",fontFamily:"Inter, system-ui, sans-serif"},ThemeContext=reactExports.createContext(void 0),ThemeProvider=({children:e,initialTheme:s={}})=>{const[i,a]=reactExports.useState({...defaultTheme,...s,colors:{...defaultTheme.colors,...s.colors||{}}}),o=c=>{a(h=>{var d;return{...h,...c,colors:{...h.colors,...c.colors||{},text:{...h.colors.text,...((d=c.colors)==null?void 0:d.text)||{}}}}})};return jsxRuntimeExports.jsx(ThemeContext.Provider,{value:{theme:i,updateTheme:o},children:e})},LocationPrompt=({onLocationSelect:e})=>{const[s,i]=reactExports.useState(""),[a,o]=reactExports.useState(!1),[c,h]=reactExports.useState(!1),[d,g]=reactExports.useState([]),[b,_]=reactExports.useState(!1),$=reactExports.useRef(null),j="pk.eyJ1Ijoic2FoaWxiZWxpbW4iLCJhIjoiY20wemZlODcxMDVleTJsc2Z6OTByNW5ycSJ9.QNA7fVbFp2DrLealDWm2JQ",st=()=>{if(console.log(" Location button clicked - starting geolocation request"),o(!0),"geolocation"in navigator){console.log(" Geolocation is supported by browser");const at={enableHighAccuracy:!1,timeout:3e4,maximumAge:6e5};console.log(" Calling getCurrentPosition with options:",at),navigator.geolocation.getCurrentPosition(async _e=>{console.log(" SUCCESS: Got position",_e);try{const rt=_e.coords.latitude,et=_e.coords.longitude;console.log(` Coordinates: ${rt}, ${et}`);const ot=await(await fetch(`https://api.mapbox.com/geocoding/v5/mapbox.places/${et},${rt}.json?access_token=${j}&language=en`,{headers:{Accept:"application/json"}})).json(),ut=ot.features&&ot.features.length>0?ot.features[0].place_name:"Address not found";console.log(" Resolved address:",ut),e({lat:rt,lng:et,address:ut})}catch(rt){console.error(" Error getting address from coordinates:",rt)}finally{o(!1)}},_e=>{switch(console.error(" GEOLOCATION ERROR:",_e),console.error("Error code:",_e.code),console.error("Error message:",_e.message),_e.code){case 1:console.error(" PERMISSION_DENIED - User denied the request");break;case 2:console.error(" POSITION_UNAVAILABLE - Location info unavailable");break;case 3:console.error(" TIMEOUT - Request timed out");break;default:console.error(" UNKNOWN_ERROR");break}o(!1)},at)}else console.error(" Geolocation is NOT supported by this browser"),o(!1)};reactExports.useEffect(()=>($.current&&clearTimeout($.current),s.length>=3?(h(!0),$.current=setTimeout(async()=>{try{const _e=await(await fetch(`https://api.mapbox.com/geocoding/v5/mapbox.places/${encodeURIComponent(s)}.json?access_token=${j}&country=ca&language=en`,{headers:{Accept:"application/json"}})).json();g(_e.features||[]),_(!0)}catch(at){console.error("Error fetching address suggestions:",at)}finally{h(!1)}},300)):(g([]),_(!1),h(!1)),()=>{$.current&&clearTimeout($.current)}),[s,j]);const tt=at=>{i(at.place_name),_(!1);const[_e,rt]=at.center;e({lat:rt,lng:_e,address:at.place_name})},nt=at=>{if(at.preventDefault(),d.length>0){const[_e,rt]=d[0].center;e({lat:rt,lng:_e,address:d[0].place_name})}else s.trim()&&(h(!0),fetch(`https://api.mapbox.com/geocoding/v5/mapbox.places/${encodeURIComponent(s)}.json?access_token=${j}&country=ca&language=en`).then(_e=>_e.json()).then(_e=>{if(_e.features&&_e.features.length>0){const[rt,et]=_e.features[0].center;e({lat:et,lng:rt,address:_e.features[0].place_name})}}).catch(_e=>console.error("Error geocoding address:",_e)).finally(()=>{h(!1)}))};return jsxRuntimeExports.jsxs("div",{className:"min-h-screen bg-gray-50",children:[jsxRuntimeExports.jsx(TopBar,{title:"MapleEats",subtitle:"Choose Your Location"}),jsxRuntimeExports.jsx("div",{className:"flex items-center justify-center px-4 py-8 min-h-[calc(100vh-80px)]",children:jsxRuntimeExports.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-md p-6",children:[jsxRuntimeExports.jsxs("div",{className:"text-center mb-6",children:[jsxRuntimeExports.jsx("div",{className:"w-16 h-16 bg-blue-100 rounded-full flex items-center justify-center mx-auto mb-4",children:jsxRuntimeExports.jsx(MapPin,{className:"text-blue-600",size:32})}),jsxRuntimeExports.jsx("h2",{className:"text-2xl font-semibold text-gray-900 mb-2",children:"Choose Your Location"}),jsxRuntimeExports.jsx("p",{className:"text-gray-600",children:"We need your location to show nearby restaurants"})]}),jsxRuntimeExports.jsxs(Button,{onClick:st,variant:"outline",fullWidth:!0,className:"mb-4",loading:a,children:[jsxRuntimeExports.jsx(MapPin,{className:"mr-2 h-5 w-5"}),"Use Current Location"]}),jsxRuntimeExports.jsxs("div",{className:"relative",children:[jsxRuntimeExports.jsx("h3",{className:"text-sm font-medium text-gray-700 mb-2",children:"Or enter your address"}),jsxRuntimeExports.jsxs("form",{onSubmit:nt,children:[jsxRuntimeExports.jsxs("div",{className:"relative",children:[jsxRuntimeExports.jsx(Search,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400 h-5 w-5"}),jsxRuntimeExports.jsx("input",{type:"text",value:s,onChange:at=>i(at.target.value),placeholder:"Enter your address in Canada",className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500",autoComplete:"off"}),b&&d.length>0&&jsxRuntimeExports.jsx("div",{className:"absolute z-10 w-full mt-1 bg-white rounded-md shadow-lg max-h-60 overflow-auto",children:jsxRuntimeExports.jsx("ul",{className:"py-1",children:d.map((at,_e)=>jsxRuntimeExports.jsx("li",{className:"px-4 py-2 hover:bg-gray-100 cursor-pointer text-sm",onClick:()=>tt(at),children:at.place_name},_e))})})]}),jsxRuntimeExports.jsx(Button,{type:"submit",variant:"primary",fullWidth:!0,className:"mt-4",disabled:!s.trim()||c,loading:c,children:c?"Searching...":"Find Restaurants"})]})]})]})})]})},RestaurantList=({restaurants:e,onSelectRestaurant:s,selectedService:i,onBackToLocation:a,currentLocation:o})=>{const[c,h]=reactExports.useState("distance"),[d,g]=reactExports.useState({});reactExports.useState(!1);const _=[...e.filter($=>{var j,st;return!((j=d.cuisineType)!=null&&j.length&&$.cuisineType&&!d.cuisineType.includes($.cuisineType)||(st=d.priceRange)!=null&&st.length&&$.priceRange&&!d.priceRange.includes($.priceRange)||d.minimumOrder&&$.minimumOrder&&$.minimumOrder>d.minimumOrder||d.rating&&$.rating&&$.rating<d.rating||d.serviceType&&$.serviceOptions&&(d.serviceType==="delivery"&&!$.serviceOptions.delivery||d.serviceType==="pickup"&&!$.serviceOptions.pickup))})].sort(($,j)=>{var st,tt;switch(c){case"distance":return($.distance||0)-(j.distance||0);case"deliveryTime":return($.deliveryTime||0)-(j.deliveryTime||0);case"rating":return(j.rating||0)-($.rating||0);case"serviceType":return((st=j.serviceOptions)!=null&&st.delivery?1:0)-((tt=$.serviceOptions)!=null&&tt.delivery?1:0);default:return 0}});return jsxRuntimeExports.jsxs("div",{className:"min-h-screen bg-gray-50",children:[jsxRuntimeExports.jsx(TopBar,{title:"Restaurants Near You",subtitle:o?`Delivering to ${o.split(",")[0]}`:"Choose from available restaurants",showBackButton:!!a,onBackClick:a}),jsxRuntimeExports.jsxs("div",{className:"max-w-7xl mx-auto px-4 py-8",children:[jsxRuntimeExports.jsxs("div",{className:"mb-6",children:[jsxRuntimeExports.jsxs("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:[_.length," Restaurant",_.length!==1?"s":""," Available"]}),o&&jsxRuntimeExports.jsxs("p",{className:"text-gray-600 flex items-center",children:[jsxRuntimeExports.jsx(MapPin,{size:16,className:"mr-1"}),o]})]}),jsxRuntimeExports.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:_.map($=>jsxRuntimeExports.jsxs("div",{className:"bg-white rounded-lg shadow-md overflow-hidden cursor-pointer transform transition-transform hover:scale-[1.02] hover:shadow-lg",onClick:()=>s($),children:[jsxRuntimeExports.jsx("div",{className:"relative h-48",children:$.imageUrl?jsxRuntimeExports.jsx("img",{src:$.imageUrl,alt:$.name||"Restaurant",className:"w-full h-full object-cover"}):jsxRuntimeExports.jsx("div",{className:"w-full h-full bg-gradient-to-br from-blue-100 to-blue-200 flex items-center justify-center",children:jsxRuntimeExports.jsx("span",{className:"text-blue-600 font-medium",children:"No Image Available"})})}),jsxRuntimeExports.jsxs("div",{className:"p-4",children:[jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-start mb-2",children:[jsxRuntimeExports.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:$.name||`Restaurant in ${$.city}`}),$.rating!==void 0&&jsxRuntimeExports.jsxs("div",{className:"flex items-center",children:[jsxRuntimeExports.jsx(Star,{className:"w-5 h-5 text-yellow-400 fill-current"}),jsxRuntimeExports.jsx("span",{className:"ml-1 text-sm font-medium",children:$.rating.toFixed(1)})]})]}),$.cuisineType&&jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-600 mb-3",children:$.cuisineType}),jsxRuntimeExports.jsxs("div",{className:"flex items-center text-sm text-gray-500 mb-2",children:[jsxRuntimeExports.jsx(MapPin,{size:16,className:"mr-1"}),$.distance!==void 0?jsxRuntimeExports.jsxs("span",{children:[$.distance.toFixed(1)," km away"]}):jsxRuntimeExports.jsxs("span",{children:[$.city,", ",$.pincode]})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center text-sm text-gray-500 mb-2",children:[jsxRuntimeExports.jsx(Clock,{size:16,className:"mr-1"}),$.deliveryTime!==void 0?jsxRuntimeExports.jsxs("span",{children:[-10," mins"]}):jsxRuntimeExports.jsxs("span",{children:[$.opening_time," - ",$.closing_time]})]}),jsxRuntimeExports.jsx("div",{className:"flex justify-between items-center",children:jsxRuntimeExports.jsx("div",{className:"flex gap-2",children:jsxRuntimeExports.jsx("span",{className:"px-2 py-1 bg-blue-100 text-blue-800 text-xs rounded-full",children:"Delivery Available"})})})]})]},$.address_id))}),_.length===0&&jsxRuntimeExports.jsxs("div",{className:"text-center py-12",children:[jsxRuntimeExports.jsx("div",{className:"w-16 h-16 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-4",children:jsxRuntimeExports.jsx(MapPin,{className:"text-gray-400",size:32})}),jsxRuntimeExports.jsx("p",{className:"text-gray-500 text-lg mb-2",children:"No restaurants found"}),jsxRuntimeExports.jsx("p",{className:"text-gray-400 text-sm",children:"Try adjusting your filters or search in a different area"})]})]})]})};function App(){const[e,s]=reactExports.useState(null),[i,a]=reactExports.useState(!1),[o,c]=reactExports.useState(null),[h,d]=reactExports.useState("delivery"),[g,b]=reactExports.useState([]),[_,$]=reactExports.useState(!1),[j,st]=reactExports.useState(null),tt={colors:{primary:"#2563EB",secondary:"#0D9488",accent:"#F97316",success:"#10B981",warning:"#F59E0B",error:"#EF4444",background:"#F9FAFB",surface:"#FFFFFF",text:{primary:"#111827",secondary:"#4B5563",disabled:"#9CA3AF"}}};reactExports.useEffect(()=>{e&&(console.log("location>>>>>>",e),nt(e.lat,e.lng))},[e]);const nt=async(et,it)=>{$(!0),st(null);try{const ot=await RestaurantService.getNearbyRestaurants(et,it);ot&&ot.length>0?(b(ot),a(!1)):(a(!0),console.warn("API returned no restaurants, showing coming soon animation"))}catch(ot){console.error("Error fetching nearby restaurants:",ot),st("Failed to fetch nearby restaurants")}finally{$(!1)}},at=()=>{s(null),a(!1)},_e=()=>{c(null),s(null),b([]),a(!1),st(null)},rt=()=>{c(null)};return jsxRuntimeExports.jsx(ThemeProvider,{initialTheme:tt,children:jsxRuntimeExports.jsx(AuthProvider,{children:jsxRuntimeExports.jsx(OrderProvider,{children:jsxRuntimeExports.jsxs(CartProvider,{children:[!e&&jsxRuntimeExports.jsx(LocationPrompt,{onLocationSelect:s}),e&&i&&jsxRuntimeExports.jsx(ComingSoonAnimation,{onRetry:at}),e&&!o&&!i&&jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[_&&jsxRuntimeExports.jsx(LoadingAnimation,{text:"Finding restaurants near you..."}),j&&jsxRuntimeExports.jsx("div",{className:"error-message",children:j}),g.length>0&&jsxRuntimeExports.jsx(RestaurantList,{restaurants:g,onSelectRestaurant:c,selectedService:h,onBackToLocation:_e,currentLocation:e.address})]}),e&&o&&jsxRuntimeExports.jsx("div",{className:"min-h-screen bg-gray-100",children:jsxRuntimeExports.jsx(DeliveryMenu,{vendorId:(o==null?void 0:o.id)||"1",addressId:Number(o==null?void 0:o.address_id),deliveryLocation:e,onBackToRestaurants:rt,className:"min-h-screen"})})]})})})})}createRoot(document.getElementById("root")).render(jsxRuntimeExports.jsx(reactExports.StrictMode,{children:jsxRuntimeExports.jsx(App,{})}));
